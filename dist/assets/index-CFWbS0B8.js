(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();function un(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ep={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function G5(){if(c1)return Yo;c1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,o){var u=null;if(o!==void 0&&(u=""+o),l.key!==void 0&&(u=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:e,type:a,key:u,ref:l!==void 0?l:null,props:o}}return Yo.Fragment=t,Yo.jsx=r,Yo.jsxs=r,Yo}var u1;function K5(){return u1||(u1=1,Ep.exports=G5()),Ep.exports}var n=K5(),_p={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function Y5(){if(d1)return Ge;d1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function S(U,X,ne){this.props=U,this.context=X,this.refs=w,this.updater=ne||j}S.prototype.isReactComponent={},S.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function E(){}E.prototype=S.prototype;function _(U,X,ne){this.props=U,this.context=X,this.refs=w,this.updater=ne||j}var A=_.prototype=new E;A.constructor=_,N(A,S.prototype),A.isPureReactComponent=!0;var P=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function O(U,X,ne,ie,G,ve){return ne=ve.ref,{$$typeof:e,type:U,key:X,ref:ne!==void 0?ne:null,props:ve}}function z(U,X){return O(U.type,X,void 0,void 0,void 0,U.props)}function F(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function W(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ne){return X[ne]})}var R=/\/+/g;function H(U,X){return typeof U=="object"&&U!==null&&U.key!=null?W(""+U.key):X.toString(36)}function T(){}function L(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(T,T):(U.status="pending",U.then(function(X){U.status==="pending"&&(U.status="fulfilled",U.value=X)},function(X){U.status==="pending"&&(U.status="rejected",U.reason=X)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function B(U,X,ne,ie,G){var ve=typeof U;(ve==="undefined"||ve==="boolean")&&(U=null);var K=!1;if(U===null)K=!0;else switch(ve){case"bigint":case"string":case"number":K=!0;break;case"object":switch(U.$$typeof){case e:case t:K=!0;break;case p:return K=U._init,B(K(U._payload),X,ne,ie,G)}}if(K)return G=G(U),K=ie===""?"."+H(U,0):ie,P(G)?(ne="",K!=null&&(ne=K.replace(R,"$&/")+"/"),B(G,X,ne,"",function(ye){return ye})):G!=null&&(F(G)&&(G=z(G,ne+(G.key==null||U&&U.key===G.key?"":(""+G.key).replace(R,"$&/")+"/")+K)),X.push(G)),1;K=0;var ge=ie===""?".":ie+":";if(P(U))for(var Me=0;Me<U.length;Me++)ie=U[Me],ve=ge+H(ie,Me),K+=B(ie,X,ne,ve,G);else if(Me=v(U),typeof Me=="function")for(U=Me.call(U),Me=0;!(ie=U.next()).done;)ie=ie.value,ve=ge+H(ie,Me++),K+=B(ie,X,ne,ve,G);else if(ve==="object"){if(typeof U.then=="function")return B(L(U),X,ne,ie,G);throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return K}function $(U,X,ne){if(U==null)return U;var ie=[],G=0;return B(U,ie,"","",function(ve){return X.call(ne,ve,G++)}),ie}function q(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ne){(U._status===0||U._status===-1)&&(U._status=1,U._result=ne)},function(ne){(U._status===0||U._status===-1)&&(U._status=2,U._result=ne)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var Z=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function le(){}return Ge.Children={map:$,forEach:function(U,X,ne){$(U,function(){X.apply(this,arguments)},ne)},count:function(U){var X=0;return $(U,function(){X++}),X},toArray:function(U){return $(U,function(X){return X})||[]},only:function(U){if(!F(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ge.Component=S,Ge.Fragment=r,Ge.Profiler=l,Ge.PureComponent=_,Ge.StrictMode=a,Ge.Suspense=m,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},Ge.cache=function(U){return function(){return U.apply(null,arguments)}},Ge.cloneElement=function(U,X,ne){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ie=N({},U.props),G=U.key,ve=void 0;if(X!=null)for(K in X.ref!==void 0&&(ve=void 0),X.key!==void 0&&(G=""+X.key),X)!M.call(X,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&X.ref===void 0||(ie[K]=X[K]);var K=arguments.length-2;if(K===1)ie.children=ne;else if(1<K){for(var ge=Array(K),Me=0;Me<K;Me++)ge[Me]=arguments[Me+2];ie.children=ge}return O(U.type,G,void 0,void 0,ve,ie)},Ge.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Ge.createElement=function(U,X,ne){var ie,G={},ve=null;if(X!=null)for(ie in X.key!==void 0&&(ve=""+X.key),X)M.call(X,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(G[ie]=X[ie]);var K=arguments.length-2;if(K===1)G.children=ne;else if(1<K){for(var ge=Array(K),Me=0;Me<K;Me++)ge[Me]=arguments[Me+2];G.children=ge}if(U&&U.defaultProps)for(ie in K=U.defaultProps,K)G[ie]===void 0&&(G[ie]=K[ie]);return O(U,ve,void 0,void 0,null,G)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(U){return{$$typeof:f,render:U}},Ge.isValidElement=F,Ge.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:q}},Ge.memo=function(U,X){return{$$typeof:h,type:U,compare:X===void 0?null:X}},Ge.startTransition=function(U){var X=D.T,ne={};D.T=ne;try{var ie=U(),G=D.S;G!==null&&G(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(le,Z)}catch(ve){Z(ve)}finally{D.T=X}},Ge.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ge.use=function(U){return D.H.use(U)},Ge.useActionState=function(U,X,ne){return D.H.useActionState(U,X,ne)},Ge.useCallback=function(U,X){return D.H.useCallback(U,X)},Ge.useContext=function(U){return D.H.useContext(U)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(U,X){return D.H.useDeferredValue(U,X)},Ge.useEffect=function(U,X,ne){var ie=D.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(U,X)},Ge.useId=function(){return D.H.useId()},Ge.useImperativeHandle=function(U,X,ne){return D.H.useImperativeHandle(U,X,ne)},Ge.useInsertionEffect=function(U,X){return D.H.useInsertionEffect(U,X)},Ge.useLayoutEffect=function(U,X){return D.H.useLayoutEffect(U,X)},Ge.useMemo=function(U,X){return D.H.useMemo(U,X)},Ge.useOptimistic=function(U,X){return D.H.useOptimistic(U,X)},Ge.useReducer=function(U,X,ne){return D.H.useReducer(U,X,ne)},Ge.useRef=function(U){return D.H.useRef(U)},Ge.useState=function(U){return D.H.useState(U)},Ge.useSyncExternalStore=function(U,X,ne){return D.H.useSyncExternalStore(U,X,ne)},Ge.useTransition=function(){return D.H.useTransition()},Ge.version="19.1.1",Ge}var f1;function Ll(){return f1||(f1=1,_p.exports=Y5()),_p.exports}var y=Ll();const m1=un(y);var Cp={exports:{}},Xo={},Ap={exports:{}},Op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function X5(){return h1||(h1=1,function(e){function t($,q){var Z=$.length;$.push(q);e:for(;0<Z;){var le=Z-1>>>1,U=$[le];if(0<l(U,q))$[le]=q,$[Z]=U,Z=le;else break e}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var q=$[0],Z=$.pop();if(Z!==q){$[0]=Z;e:for(var le=0,U=$.length,X=U>>>1;le<X;){var ne=2*(le+1)-1,ie=$[ne],G=ne+1,ve=$[G];if(0>l(ie,Z))G<U&&0>l(ve,ie)?($[le]=ve,$[G]=Z,le=G):($[le]=ie,$[ne]=Z,le=ne);else if(G<U&&0>l(ve,Z))$[le]=ve,$[G]=Z,le=G;else break e}}return q}function l($,q){var Z=$.sortIndex-q.sortIndex;return Z!==0?Z:$.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],h=[],p=1,x=null,v=3,j=!1,N=!1,w=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P($){for(var q=r(h);q!==null;){if(q.callback===null)a(h);else if(q.startTime<=$)a(h),q.sortIndex=q.expirationTime,t(m,q);else break;q=r(h)}}function D($){if(w=!1,P($),!N)if(r(m)!==null)N=!0,M||(M=!0,H());else{var q=r(h);q!==null&&B(D,q.startTime-$)}}var M=!1,O=-1,z=5,F=-1;function W(){return S?!0:!(e.unstable_now()-F<z)}function R(){if(S=!1,M){var $=e.unstable_now();F=$;var q=!0;try{e:{N=!1,w&&(w=!1,_(O),O=-1),j=!0;var Z=v;try{t:{for(P($),x=r(m);x!==null&&!(x.expirationTime>$&&W());){var le=x.callback;if(typeof le=="function"){x.callback=null,v=x.priorityLevel;var U=le(x.expirationTime<=$);if($=e.unstable_now(),typeof U=="function"){x.callback=U,P($),q=!0;break t}x===r(m)&&a(m),P($)}else a(m);x=r(m)}if(x!==null)q=!0;else{var X=r(h);X!==null&&B(D,X.startTime-$),q=!1}}break e}finally{x=null,v=Z,j=!1}q=void 0}}finally{q?H():M=!1}}}var H;if(typeof A=="function")H=function(){A(R)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,L=T.port2;T.port1.onmessage=R,H=function(){L.postMessage(null)}}else H=function(){E(R,0)};function B($,q){O=E(function(){$(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function($){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var Z=v;v=q;try{return $()}finally{v=Z}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=v;v=$;try{return q()}finally{v=Z}},e.unstable_scheduleCallback=function($,q,Z){var le=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?le+Z:le):Z=le,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Z+U,$={id:p++,callback:q,priorityLevel:$,startTime:Z,expirationTime:U,sortIndex:-1},Z>le?($.sortIndex=Z,t(h,$),r(m)===null&&$===r(h)&&(w?(_(O),O=-1):w=!0,B(D,Z-le))):($.sortIndex=U,t(m,$),N||j||(N=!0,M||(M=!0,H()))),$},e.unstable_shouldYield=W,e.unstable_wrapCallback=function($){var q=v;return function(){var Z=v;v=q;try{return $.apply(this,arguments)}finally{v=Z}}}}(Op)),Op}var p1;function W5(){return p1||(p1=1,Ap.exports=X5()),Ap.exports}var Tp={exports:{}},pr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1;function Z5(){if(x1)return pr;x1=1;var e=Ll();function t(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(m,h,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:m,containerInfo:h,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pr.createPortal=function(m,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(m,h,null,p)},pr.flushSync=function(m){var h=u.T,p=a.p;try{if(u.T=null,a.p=2,m)return m()}finally{u.T=h,a.p=p,a.d.f()}},pr.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(m,h))},pr.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},pr.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var p=h.as,x=f(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,j=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?a.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:j}):p==="script"&&a.d.X(m,{crossOrigin:x,integrity:v,fetchPriority:j,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pr.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=f(h.as,h.crossOrigin);a.d.M(m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(m)},pr.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,x=f(p,h.crossOrigin);a.d.L(m,p,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pr.preloadModule=function(m,h){if(typeof m=="string")if(h){var p=f(h.as,h.crossOrigin);a.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(m)},pr.requestFormReset=function(m){a.d.r(m)},pr.unstable_batchedUpdates=function(m,h){return m(h)},pr.useFormState=function(m,h,p){return u.H.useFormState(m,h,p)},pr.useFormStatus=function(){return u.H.useHostTransitionStatus()},pr.version="19.1.1",pr}var g1;function r_(){if(g1)return Tp.exports;g1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tp.exports=Z5(),Tp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function Q5(){if(v1)return Xo;v1=1;var e=W5(),t=Ll(),r=r_();function a(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(a(188))}function m(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(a(188));return i!==s?null:s}for(var c=s,d=i;;){var g=c.return;if(g===null)break;var b=g.alternate;if(b===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===c)return f(g),s;if(b===d)return f(g),i;b=b.sibling}throw Error(a(188))}if(c.return!==d.return)c=g,d=b;else{for(var C=!1,k=g.child;k;){if(k===c){C=!0,c=g,d=b;break}if(k===d){C=!0,d=g,c=b;break}k=k.sibling}if(!C){for(k=b.child;k;){if(k===c){C=!0,c=b,d=g;break}if(k===d){C=!0,d=b,c=g;break}k=k.sibling}if(!C)throw Error(a(189))}}if(c.alternate!==d)throw Error(a(190))}if(c.tag!==3)throw Error(a(188));return c.stateNode.current===c?s:i}function h(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=h(s),i!==null)return i;s=s.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=R&&s[R]||s["@@iterator"],typeof s=="function"?s:null)}var T=Symbol.for("react.client.reference");function L(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===T?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case F:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case A:return(s.displayName||"Context")+".Provider";case _:return(s._context.displayName||"Context")+".Consumer";case P:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return i=s.displayName||null,i!==null?i:L(s.type)||"Memo";case z:i=s._payload,s=s._init;try{return L(s(i))}catch{}}return null}var B=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},le=[],U=-1;function X(s){return{current:s}}function ne(s){0>U||(s.current=le[U],le[U]=null,U--)}function ie(s,i){U++,le[U]=s.current,s.current=i}var G=X(null),ve=X(null),K=X(null),ge=X(null);function Me(s,i){switch(ie(K,i),ie(ve,s),ie(G,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?zw(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=zw(i),s=Lw(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ne(G),ie(G,s)}function ye(){ne(G),ne(ve),ne(K)}function Se(s){s.memoizedState!==null&&ie(ge,s);var i=G.current,c=Lw(i,s.type);i!==c&&(ie(ve,s),ie(G,c))}function $e(s){ve.current===s&&(ne(G),ne(ve)),ge.current===s&&(ne(ge),Fo._currentValue=Z)}var he=Object.prototype.hasOwnProperty,at=e.unstable_scheduleCallback,Fe=e.unstable_cancelCallback,Ct=e.unstable_shouldYield,bt=e.unstable_requestPaint,pe=e.unstable_now,Ee=e.unstable_getCurrentPriorityLevel,Be=e.unstable_ImmediatePriority,ke=e.unstable_UserBlockingPriority,Qe=e.unstable_NormalPriority,xe=e.unstable_LowPriority,Ne=e.unstable_IdlePriority,_e=e.log,ce=e.unstable_setDisableYieldValue,te=null,oe=null;function je(s){if(typeof _e=="function"&&ce(s),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(te,s)}catch{}}var Ue=Math.clz32?Math.clz32:Va,jt=Math.log,Pt=Math.LN2;function Va(s){return s>>>=0,s===0?32:31-(jt(s)/Pt|0)|0}var Ur=256,Ga=4194304;function ar(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ta(s,i,c){var d=s.pendingLanes;if(d===0)return 0;var g=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var k=d&134217727;return k!==0?(d=k&~b,d!==0?g=ar(d):(C&=k,C!==0?g=ar(C):c||(c=k&~s,c!==0&&(g=ar(c))))):(k=d&~b,k!==0?g=ar(k):C!==0?g=ar(C):c||(c=d&~s,c!==0&&(g=ar(c)))),g===0?0:i!==0&&i!==g&&(i&b)===0&&(b=g&-g,c=i&-i,b>=c||b===32&&(c&4194048)!==0)?i:g}function ee(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function be(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ze(){var s=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),s}function At(){var s=Ga;return Ga<<=1,(Ga&62914560)===0&&(Ga=4194304),s}function Je(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function gt(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function _r(s,i,c,d,g,b){var C=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var k=s.entanglements,I=s.expirationTimes,J=s.hiddenUpdates;for(c=C&~c;0<c;){var de=31-Ue(c),me=1<<de;k[de]=0,I[de]=-1;var re=J[de];if(re!==null)for(J[de]=null,de=0;de<re.length;de++){var ae=re[de];ae!==null&&(ae.lane&=-536870913)}c&=~me}d!==0&&$s(s,d,0),b!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~i))}function $s(s,i,c){s.pendingLanes|=i,s.suspendedLanes&=~i;var d=31-Ue(i);s.entangledLanes|=i,s.entanglements[d]=s.entanglements[d]|1073741824|c&4194090}function Ny(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var d=31-Ue(c),g=1<<d;g&i|s[d]&i&&(s[d]|=i),c&=~g}}function pm(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function xm(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Sy(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:a1(s.type))}function RT(s,i){var c=q.p;try{return q.p=s,i()}finally{q.p=c}}var Zn=Math.random().toString(36).slice(2),mr="__reactFiber$"+Zn,Cr="__reactProps$"+Zn,Oi="__reactContainer$"+Zn,gm="__reactEvents$"+Zn,$T="__reactListeners$"+Zn,zT="__reactHandles$"+Zn,Ey="__reactResources$"+Zn,Jl="__reactMarker$"+Zn;function vm(s){delete s[mr],delete s[Cr],delete s[gm],delete s[$T],delete s[zT]}function Ti(s){var i=s[mr];if(i)return i;for(var c=s.parentNode;c;){if(i=c[Oi]||c[mr]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=Iw(s);s!==null;){if(c=s[mr])return c;s=Iw(s)}return i}s=c,c=s.parentNode}return null}function Mi(s){if(s=s[mr]||s[Oi]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function eo(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(a(33))}function ki(s){var i=s[Ey];return i||(i=s[Ey]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Gt(s){s[Jl]=!0}var _y=new Set,Cy={};function zs(s,i){Pi(s,i),Pi(s+"Capture",i)}function Pi(s,i){for(Cy[s]=i,s=0;s<i.length;s++)_y.add(i[s])}var LT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ay={},Oy={};function UT(s){return he.call(Oy,s)?!0:he.call(Ay,s)?!1:LT.test(s)?Oy[s]=!0:(Ay[s]=!0,!1)}function Wc(s,i,c){if(UT(i))if(c===null)s.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+c)}}function Zc(s,i,c){if(c===null)s.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+c)}}function fn(s,i,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(i,c,""+d)}}var ym,Ty;function Di(s){if(ym===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);ym=i&&i[1]||"",Ty=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ym+s+Ty}var bm=!1;function jm(s,i){if(!s||bm)return"";bm=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var re=ae}Reflect.construct(s,[],me)}else{try{me.call()}catch(ae){re=ae}s.call(me.prototype)}}else{try{throw Error()}catch(ae){re=ae}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&re&&typeof ae.stack=="string")return[ae.stack,re.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),C=b[0],k=b[1];if(C&&k){var I=C.split(`
`),J=k.split(`
`);for(g=d=0;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(d===I.length||g===J.length)for(d=I.length-1,g=J.length-1;1<=d&&0<=g&&I[d]!==J[g];)g--;for(;1<=d&&0<=g;d--,g--)if(I[d]!==J[g]){if(d!==1||g!==1)do if(d--,g--,0>g||I[d]!==J[g]){var de=`
`+I[d].replace(" at new "," at ");return s.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",s.displayName)),de}while(1<=d&&0<=g);break}}}finally{bm=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Di(c):""}function qT(s){switch(s.tag){case 26:case 27:case 5:return Di(s.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return jm(s.type,!1);case 11:return jm(s.type.render,!1);case 1:return jm(s.type,!0);case 31:return Di("Activity");default:return""}}function My(s){try{var i="";do i+=qT(s),s=s.return;while(s);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function la(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ky(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function BT(s){var i=ky(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,b=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(C){d=""+C,b.call(this,C)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Qc(s){s._valueTracker||(s._valueTracker=BT(s))}function Py(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),d="";return s&&(d=ky(s)?s.checked?"true":"false":s.value),s=d,s!==c?(i.setValue(s),!0):!1}function Jc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var IT=/[\n"\\]/g;function oa(s){return s.replace(IT,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wm(s,i,c,d,g,b,C,k){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),i!=null?C==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+la(i)):s.value!==""+la(i)&&(s.value=""+la(i)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),i!=null?Nm(s,C,la(i)):c!=null?Nm(s,C,la(c)):d!=null&&s.removeAttribute("value"),g==null&&b!=null&&(s.defaultChecked=!!b),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+la(k):s.removeAttribute("name")}function Dy(s,i,c,d,g,b,C,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),i!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||i!=null))return;c=c!=null?""+la(c):"",i=i!=null?""+la(i):c,k||i===s.value||(s.value=i),s.defaultValue=i}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=k?s.checked:!!d,s.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function Nm(s,i,c){i==="number"&&Jc(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ri(s,i,c,d){if(s=s.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=i.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&d&&(s[c].defaultSelected=!0)}else{for(c=""+la(c),i=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Ry(s,i,c){if(i!=null&&(i=""+la(i),i!==s.value&&(s.value=i),c==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=c!=null?""+la(c):""}function $y(s,i,c,d){if(i==null){if(d!=null){if(c!=null)throw Error(a(92));if(B(d)){if(1<d.length)throw Error(a(93));d=d[0]}c=d}c==null&&(c=""),i=c}c=la(i),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d)}function $i(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var FT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zy(s,i,c){var d=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":d?s.setProperty(i,c):typeof c!="number"||c===0||FT.has(i)?i==="float"?s.cssFloat=c:s[i]=(""+c).trim():s[i]=c+"px"}function Ly(s,i,c){if(i!=null&&typeof i!="object")throw Error(a(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&c[g]!==d&&zy(s,g,d)}else for(var b in i)i.hasOwnProperty(b)&&zy(s,b,i[b])}function Sm(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eu(s){return VT.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Em=null;function _m(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var zi=null,Li=null;function Uy(s){var i=Mi(s);if(i&&(s=i.stateNode)){var c=s[Cr]||null;e:switch(s=i.stateNode,i.type){case"input":if(wm(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+oa(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var d=c[i];if(d!==s&&d.form===s.form){var g=d[Cr]||null;if(!g)throw Error(a(90));wm(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<c.length;i++)d=c[i],d.form===s.form&&Py(d)}break e;case"textarea":Ry(s,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&Ri(s,!!c.multiple,i,!1)}}}var Cm=!1;function qy(s,i,c){if(Cm)return s(i,c);Cm=!0;try{var d=s(i);return d}finally{if(Cm=!1,(zi!==null||Li!==null)&&(Uu(),zi&&(i=zi,s=Li,Li=zi=null,Uy(i),s)))for(i=0;i<s.length;i++)Uy(s[i])}}function to(s,i){var c=s.stateNode;if(c===null)return null;var d=c[Cr]||null;if(d===null)return null;c=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(a(231,i,typeof c));return c}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Am=!1;if(mn)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Am=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Am=!1}var Qn=null,Om=null,tu=null;function By(){if(tu)return tu;var s,i=Om,c=i.length,d,g="value"in Qn?Qn.value:Qn.textContent,b=g.length;for(s=0;s<c&&i[s]===g[s];s++);var C=c-s;for(d=1;d<=C&&i[c-d]===g[b-d];d++);return tu=g.slice(s,1<d?1-d:void 0)}function ru(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function au(){return!0}function Iy(){return!1}function Ar(s){function i(c,d,g,b,C){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(c=s[k],this[k]=c?c(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?au:Iy,this.isPropagationStopped=Iy,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),i}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=Ar(Ls),ao=p({},Ls,{view:0,detail:0}),GT=Ar(ao),Tm,Mm,no,su=p({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==no&&(no&&s.type==="mousemove"?(Tm=s.screenX-no.screenX,Mm=s.screenY-no.screenY):Mm=Tm=0,no=s),Tm)},movementY:function(s){return"movementY"in s?s.movementY:Mm}}),Fy=Ar(su),KT=p({},su,{dataTransfer:0}),YT=Ar(KT),XT=p({},ao,{relatedTarget:0}),km=Ar(XT),WT=p({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),ZT=Ar(WT),QT=p({},Ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),JT=Ar(QT),e3=p({},Ls,{data:0}),Hy=Ar(e3),t3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n3(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=a3[s])?!!i[s]:!1}function Pm(){return n3}var s3=p({},ao,{key:function(s){if(s.key){var i=t3[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=ru(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?r3[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(s){return s.type==="keypress"?ru(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ru(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),i3=Ar(s3),l3=p({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vy=Ar(l3),o3=p({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),c3=Ar(o3),u3=p({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),d3=Ar(u3),f3=p({},su,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),m3=Ar(f3),h3=p({},Ls,{newState:0,oldState:0}),p3=Ar(h3),x3=[9,13,27,32],Dm=mn&&"CompositionEvent"in window,so=null;mn&&"documentMode"in document&&(so=document.documentMode);var g3=mn&&"TextEvent"in window&&!so,Gy=mn&&(!Dm||so&&8<so&&11>=so),Ky=" ",Yy=!1;function Xy(s,i){switch(s){case"keyup":return x3.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ui=!1;function v3(s,i){switch(s){case"compositionend":return Wy(i);case"keypress":return i.which!==32?null:(Yy=!0,Ky);case"textInput":return s=i.data,s===Ky&&Yy?null:s;default:return null}}function y3(s,i){if(Ui)return s==="compositionend"||!Dm&&Xy(s,i)?(s=By(),tu=Om=Qn=null,Ui=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gy&&i.locale!=="ko"?null:i.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zy(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!b3[s.type]:i==="textarea"}function Qy(s,i,c,d){zi?Li?Li.push(d):Li=[d]:zi=d,i=Vu(i,"onChange"),0<i.length&&(c=new nu("onChange","change",null,c,d),s.push({event:c,listeners:i}))}var io=null,lo=null;function j3(s){kw(s,0)}function iu(s){var i=eo(s);if(Py(i))return s}function Jy(s,i){if(s==="change")return i}var eb=!1;if(mn){var Rm;if(mn){var $m="oninput"in document;if(!$m){var tb=document.createElement("div");tb.setAttribute("oninput","return;"),$m=typeof tb.oninput=="function"}Rm=$m}else Rm=!1;eb=Rm&&(!document.documentMode||9<document.documentMode)}function rb(){io&&(io.detachEvent("onpropertychange",ab),lo=io=null)}function ab(s){if(s.propertyName==="value"&&iu(lo)){var i=[];Qy(i,lo,s,_m(s)),qy(j3,i)}}function w3(s,i,c){s==="focusin"?(rb(),io=i,lo=c,io.attachEvent("onpropertychange",ab)):s==="focusout"&&rb()}function N3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return iu(lo)}function S3(s,i){if(s==="click")return iu(i)}function E3(s,i){if(s==="input"||s==="change")return iu(i)}function _3(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var qr=typeof Object.is=="function"?Object.is:_3;function oo(s,i){if(qr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),d=Object.keys(i);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!he.call(i,g)||!qr(s[g],i[g]))return!1}return!0}function nb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function sb(s,i){var c=nb(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=i&&d>=i)return{node:c,offset:i-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=nb(c)}}function ib(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?ib(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function lb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Jc(s.document);i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=Jc(s.document)}return i}function zm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var C3=mn&&"documentMode"in document&&11>=document.documentMode,qi=null,Lm=null,co=null,Um=!1;function ob(s,i,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Um||qi==null||qi!==Jc(d)||(d=qi,"selectionStart"in d&&zm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),co&&oo(co,d)||(co=d,d=Vu(Lm,"onSelect"),0<d.length&&(i=new nu("onSelect","select",null,i,c),s.push({event:i,listeners:d}),i.target=qi)))}function Us(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var Bi={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},qm={},cb={};mn&&(cb=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function qs(s){if(qm[s])return qm[s];if(!Bi[s])return s;var i=Bi[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in cb)return qm[s]=i[c];return s}var ub=qs("animationend"),db=qs("animationiteration"),fb=qs("animationstart"),A3=qs("transitionrun"),O3=qs("transitionstart"),T3=qs("transitioncancel"),mb=qs("transitionend"),hb=new Map,Bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bm.push("scrollEnd");function Ma(s,i){hb.set(s,i),zs(i,[s])}var pb=new WeakMap;function ca(s,i){if(typeof s=="object"&&s!==null){var c=pb.get(s);return c!==void 0?c:(i={value:s,source:i,stack:My(i)},pb.set(s,i),i)}return{value:s,source:i,stack:My(i)}}var ua=[],Ii=0,Im=0;function lu(){for(var s=Ii,i=Im=Ii=0;i<s;){var c=ua[i];ua[i++]=null;var d=ua[i];ua[i++]=null;var g=ua[i];ua[i++]=null;var b=ua[i];if(ua[i++]=null,d!==null&&g!==null){var C=d.pending;C===null?g.next=g:(g.next=C.next,C.next=g),d.pending=g}b!==0&&xb(c,g,b)}}function ou(s,i,c,d){ua[Ii++]=s,ua[Ii++]=i,ua[Ii++]=c,ua[Ii++]=d,Im|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Fm(s,i,c,d){return ou(s,i,c,d),cu(s)}function Fi(s,i){return ou(s,null,null,i),cu(s)}function xb(s,i,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var g=!1,b=s.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(g=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,g&&i!==null&&(g=31-Ue(c),s=b.hiddenUpdates,d=s[g],d===null?s[g]=[i]:d.push(i),i.lane=c|536870912),b):null}function cu(s){if(50<Ro)throw Ro=0,Xh=null,Error(a(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Hi={};function M3(s,i,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(s,i,c,d){return new M3(s,i,c,d)}function Hm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hn(s,i){var c=s.alternate;return c===null?(c=Br(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function gb(s,i){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,i=c.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function uu(s,i,c,d,g,b){var C=0;if(d=s,typeof s=="function")Hm(s)&&(C=1);else if(typeof s=="string")C=P5(s,c,G.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case F:return s=Br(31,c,i,g),s.elementType=F,s.lanes=b,s;case N:return Bs(c.children,g,b,i);case w:C=8,g|=24;break;case S:return s=Br(12,c,i,g|2),s.elementType=S,s.lanes=b,s;case D:return s=Br(13,c,i,g),s.elementType=D,s.lanes=b,s;case M:return s=Br(19,c,i,g),s.elementType=M,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:case A:C=10;break e;case _:C=9;break e;case P:C=11;break e;case O:C=14;break e;case z:C=16,d=null;break e}C=29,c=Error(a(130,s===null?"null":typeof s,"")),d=null}return i=Br(C,c,i,g),i.elementType=s,i.type=d,i.lanes=b,i}function Bs(s,i,c,d){return s=Br(7,s,d,i),s.lanes=c,s}function Vm(s,i,c){return s=Br(6,s,null,i),s.lanes=c,s}function Gm(s,i,c){return i=Br(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Vi=[],Gi=0,du=null,fu=0,da=[],fa=0,Is=null,pn=1,xn="";function Fs(s,i){Vi[Gi++]=fu,Vi[Gi++]=du,du=s,fu=i}function vb(s,i,c){da[fa++]=pn,da[fa++]=xn,da[fa++]=Is,Is=s;var d=pn;s=xn;var g=32-Ue(d)-1;d&=~(1<<g),c+=1;var b=32-Ue(i)+g;if(30<b){var C=g-g%5;b=(d&(1<<C)-1).toString(32),d>>=C,g-=C,pn=1<<32-Ue(i)+g|c<<g|d,xn=b+s}else pn=1<<b|c<<g|d,xn=s}function Km(s){s.return!==null&&(Fs(s,1),vb(s,1,0))}function Ym(s){for(;s===du;)du=Vi[--Gi],Vi[Gi]=null,fu=Vi[--Gi],Vi[Gi]=null;for(;s===Is;)Is=da[--fa],da[fa]=null,xn=da[--fa],da[fa]=null,pn=da[--fa],da[fa]=null}var wr=null,Mt=null,rt=!1,Hs=null,Ka=!1,Xm=Error(a(519));function Vs(s){var i=Error(a(418,""));throw mo(ca(i,s)),Xm}function yb(s){var i=s.stateNode,c=s.type,d=s.memoizedProps;switch(i[mr]=s,i[Cr]=d,c){case"dialog":We("cancel",i),We("close",i);break;case"iframe":case"object":case"embed":We("load",i);break;case"video":case"audio":for(c=0;c<zo.length;c++)We(zo[c],i);break;case"source":We("error",i);break;case"img":case"image":case"link":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"input":We("invalid",i),Dy(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Qc(i);break;case"select":We("invalid",i);break;case"textarea":We("invalid",i),$y(i,d.value,d.defaultValue,d.children),Qc(i)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||d.suppressHydrationWarning===!0||$w(i.textContent,c)?(d.popover!=null&&(We("beforetoggle",i),We("toggle",i)),d.onScroll!=null&&We("scroll",i),d.onScrollEnd!=null&&We("scrollend",i),d.onClick!=null&&(i.onclick=Gu),i=!0):i=!1,i||Vs(s)}function bb(s){for(wr=s.return;wr;)switch(wr.tag){case 5:case 13:Ka=!1;return;case 27:case 3:Ka=!0;return;default:wr=wr.return}}function uo(s){if(s!==wr)return!1;if(!rt)return bb(s),rt=!0,!1;var i=s.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||dp(s.type,s.memoizedProps)),c=!c),c&&Mt&&Vs(s),bb(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(a(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(i===0){Mt=Pa(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++;s=s.nextSibling}Mt=null}}else i===27?(i=Mt,hs(s.type)?(s=pp,pp=null,Mt=s):Mt=i):Mt=wr?Pa(s.stateNode.nextSibling):null;return!0}function fo(){Mt=wr=null,rt=!1}function jb(){var s=Hs;return s!==null&&(Mr===null?Mr=s:Mr.push.apply(Mr,s),Hs=null),s}function mo(s){Hs===null?Hs=[s]:Hs.push(s)}var Wm=X(null),Gs=null,gn=null;function Jn(s,i,c){ie(Wm,i._currentValue),i._currentValue=c}function vn(s){s._currentValue=Wm.current,ne(Wm)}function Zm(s,i,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===c)break;s=s.return}}function Qm(s,i,c,d){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var b=g.dependencies;if(b!==null){var C=g.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=g;for(var I=0;I<i.length;I++)if(k.context===i[I]){b.lanes|=c,k=b.alternate,k!==null&&(k.lanes|=c),Zm(b.return,c,s),d||(C=null);break e}b=k.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(a(341));C.lanes|=c,b=C.alternate,b!==null&&(b.lanes|=c),Zm(C,c,s),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===s){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function ho(s,i,c,d){s=null;for(var g=i,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var k=g.type;qr(g.pendingProps.value,C.value)||(s!==null?s.push(k):s=[k])}}else if(g===ge.current){if(C=g.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Fo):s=[Fo])}g=g.return}s!==null&&Qm(i,s,c,d),i.flags|=262144}function mu(s){for(s=s.firstContext;s!==null;){if(!qr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ks(s){Gs=s,gn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hr(s){return wb(Gs,s)}function hu(s,i){return Gs===null&&Ks(s),wb(s,i)}function wb(s,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},gn===null){if(s===null)throw Error(a(308));gn=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else gn=gn.next=i;return c}var k3=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){i.aborted=!0,s.forEach(function(c){return c()})}},P3=e.unstable_scheduleCallback,D3=e.unstable_NormalPriority,It={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new k3,data:new Map,refCount:0}}function po(s){s.refCount--,s.refCount===0&&P3(D3,function(){s.controller.abort()})}var xo=null,eh=0,Ki=0,Yi=null;function R3(s,i){if(xo===null){var c=xo=[];eh=0,Ki=rp(),Yi={status:"pending",value:void 0,then:function(d){c.push(d)}}}return eh++,i.then(Nb,Nb),i}function Nb(){if(--eh===0&&xo!==null){Yi!==null&&(Yi.status="fulfilled");var s=xo;xo=null,Ki=0,Yi=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function $3(s,i){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<c.length;g++)(0,c[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var Sb=$.S;$.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&R3(s,i),Sb!==null&&Sb(s,i)};var Ys=X(null);function th(){var s=Ys.current;return s!==null?s:vt.pooledCache}function pu(s,i){i===null?ie(Ys,Ys.current):ie(Ys,i.pool)}function Eb(){var s=th();return s===null?null:{parent:It._currentValue,pool:s}}var go=Error(a(460)),_b=Error(a(474)),xu=Error(a(542)),rh={then:function(){}};function Cb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gu(){}function Ab(s,i,c){switch(c=s[c],c===void 0?s.push(i):c!==i&&(i.then(gu,gu),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Tb(s),s;default:if(typeof i.status=="string")i.then(gu,gu);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(a(482));s=i,s.status="pending",s.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Tb(s),s}throw vo=i,go}}var vo=null;function Ob(){if(vo===null)throw Error(a(459));var s=vo;return vo=null,s}function Tb(s){if(s===go||s===xu)throw Error(a(483))}var es=!1;function ah(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nh(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ts(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function rs(s,i,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(st&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=cu(s),xb(s,null,c),i}return ou(s,d,i,c),cu(s)}function yo(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var d=i.lanes;d&=s.pendingLanes,c|=d,i.lanes=c,Ny(s,c)}}function sh(s,i){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?g=b=C:b=b.next=C,c=c.next}while(c!==null);b===null?g=b=i:b=b.next=i}else g=b=i;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}var ih=!1;function bo(){if(ih){var s=Yi;if(s!==null)throw s}}function jo(s,i,c,d){ih=!1;var g=s.updateQueue;es=!1;var b=g.firstBaseUpdate,C=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var I=k,J=I.next;I.next=null,C===null?b=J:C.next=J,C=I;var de=s.alternate;de!==null&&(de=de.updateQueue,k=de.lastBaseUpdate,k!==C&&(k===null?de.firstBaseUpdate=J:k.next=J,de.lastBaseUpdate=I))}if(b!==null){var me=g.baseState;C=0,de=J=I=null,k=b;do{var re=k.lane&-536870913,ae=re!==k.lane;if(ae?(Ze&re)===re:(d&re)===re){re!==0&&re===Ki&&(ih=!0),de!==null&&(de=de.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var He=s,Le=k;re=i;var ft=c;switch(Le.tag){case 1:if(He=Le.payload,typeof He=="function"){me=He.call(ft,me,re);break e}me=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Le.payload,re=typeof He=="function"?He.call(ft,me,re):He,re==null)break e;me=p({},me,re);break e;case 2:es=!0}}re=k.callback,re!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=g.callbacks,ae===null?g.callbacks=[re]:ae.push(re))}else ae={lane:re,tag:k.tag,payload:k.payload,callback:k.callback,next:null},de===null?(J=de=ae,I=me):de=de.next=ae,C|=re;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;ae=k,k=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);de===null&&(I=me),g.baseState=I,g.firstBaseUpdate=J,g.lastBaseUpdate=de,b===null&&(g.shared.lanes=0),us|=C,s.lanes=C,s.memoizedState=me}}function Mb(s,i){if(typeof s!="function")throw Error(a(191,s));s.call(i)}function kb(s,i){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Mb(c[s],i)}var Xi=X(null),vu=X(0);function Pb(s,i){s=En,ie(vu,s),ie(Xi,i),En=s|i.baseLanes}function lh(){ie(vu,En),ie(Xi,Xi.current)}function oh(){En=vu.current,ne(Xi),ne(vu)}var as=0,Ke=null,ut=null,Lt=null,yu=!1,Wi=!1,Xs=!1,bu=0,wo=0,Zi=null,z3=0;function Dt(){throw Error(a(321))}function ch(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!qr(s[c],i[c]))return!1;return!0}function uh(s,i,c,d,g,b){return as=b,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=s===null||s.memoizedState===null?xj:gj,Xs=!1,b=c(d,g),Xs=!1,Wi&&(b=Rb(i,c,d,g)),Db(s),b}function Db(s){$.H=_u;var i=ut!==null&&ut.next!==null;if(as=0,Lt=ut=Ke=null,yu=!1,wo=0,Zi=null,i)throw Error(a(300));s===null||Kt||(s=s.dependencies,s!==null&&mu(s)&&(Kt=!0))}function Rb(s,i,c,d){Ke=s;var g=0;do{if(Wi&&(Zi=null),wo=0,Wi=!1,25<=g)throw Error(a(301));if(g+=1,Lt=ut=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=H3,b=i(c,d)}while(Wi);return b}function L3(){var s=$.H,i=s.useState()[0];return i=typeof i.then=="function"?No(i):i,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Ke.flags|=1024),i}function dh(){var s=bu!==0;return bu=0,s}function fh(s,i,c){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~c}function mh(s){if(yu){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}yu=!1}as=0,Lt=ut=Ke=null,Wi=!1,wo=bu=0,Zi=null}function Or(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ke.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Ut(){if(ut===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var i=Lt===null?Ke.memoizedState:Lt.next;if(i!==null)Lt=i,ut=s;else{if(s===null)throw Ke.alternate===null?Error(a(467)):Error(a(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Lt===null?Ke.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(s){var i=wo;return wo+=1,Zi===null&&(Zi=[]),s=Ab(Zi,s,i),i=Ke,(Lt===null?i.memoizedState:Lt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?xj:gj),s}function ju(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return No(s);if(s.$$typeof===A)return hr(s)}throw Error(a(438,String(s)))}function ph(s){var i=null,c=Ke.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var d=Ke.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=hh(),Ke.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(s),d=0;d<s;d++)c[d]=W;return i.index++,c}function yn(s,i){return typeof i=="function"?i(s):i}function wu(s){var i=Ut();return xh(i,ut,s)}function xh(s,i,c){var d=s.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=c;var g=s.baseQueue,b=d.pending;if(b!==null){if(g!==null){var C=g.next;g.next=b.next,b.next=C}i.baseQueue=g=b,d.pending=null}if(b=s.baseState,g===null)s.memoizedState=b;else{i=g.next;var k=C=null,I=null,J=i,de=!1;do{var me=J.lane&-536870913;if(me!==J.lane?(Ze&me)===me:(as&me)===me){var re=J.revertLane;if(re===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),me===Ki&&(de=!0);else if((as&re)===re){J=J.next,re===Ki&&(de=!0);continue}else me={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},I===null?(k=I=me,C=b):I=I.next=me,Ke.lanes|=re,us|=re;me=J.action,Xs&&c(b,me),b=J.hasEagerState?J.eagerState:c(b,me)}else re={lane:me,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},I===null?(k=I=re,C=b):I=I.next=re,Ke.lanes|=me,us|=me;J=J.next}while(J!==null&&J!==i);if(I===null?C=b:I.next=k,!qr(b,s.memoizedState)&&(Kt=!0,de&&(c=Yi,c!==null)))throw c;s.memoizedState=b,s.baseState=C,s.baseQueue=I,d.lastRenderedState=b}return g===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function gh(s){var i=Ut(),c=i.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=s;var d=c.dispatch,g=c.pending,b=i.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do b=s(b,C.action),C=C.next;while(C!==g);qr(b,i.memoizedState)||(Kt=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),c.lastRenderedState=b}return[b,d]}function $b(s,i,c){var d=Ke,g=Ut(),b=rt;if(b){if(c===void 0)throw Error(a(407));c=c()}else c=i();var C=!qr((ut||g).memoizedState,c);C&&(g.memoizedState=c,Kt=!0),g=g.queue;var k=Ub.bind(null,d,g,s);if(So(2048,8,k,[s]),g.getSnapshot!==i||C||Lt!==null&&Lt.memoizedState.tag&1){if(d.flags|=2048,Qi(9,Nu(),Lb.bind(null,d,g,c,i),null),vt===null)throw Error(a(349));b||(as&124)!==0||zb(d,i,c)}return c}function zb(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Ke.updateQueue,i===null?(i=hh(),Ke.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function Lb(s,i,c,d){i.value=c,i.getSnapshot=d,qb(i)&&Bb(s)}function Ub(s,i,c){return c(function(){qb(i)&&Bb(s)})}function qb(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!qr(s,c)}catch{return!0}}function Bb(s){var i=Fi(s,2);i!==null&&Gr(i,s,2)}function vh(s){var i=Or();if(typeof s=="function"){var c=s;if(s=c(),Xs){je(!0);try{c()}finally{je(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:s},i}function Ib(s,i,c,d){return s.baseState=c,xh(s,ut,typeof d=="function"?d:yn)}function U3(s,i,c,d,g){if(Eu(s))throw Error(a(485));if(s=i.action,s!==null){var b={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};$.T!==null?c(!0):b.isTransition=!1,d(b),c=i.pending,c===null?(b.next=i.pending=b,Fb(i,b)):(b.next=c.next,i.pending=c.next=b)}}function Fb(s,i){var c=i.action,d=i.payload,g=s.state;if(i.isTransition){var b=$.T,C={};$.T=C;try{var k=c(g,d),I=$.S;I!==null&&I(C,k),Hb(s,i,k)}catch(J){yh(s,i,J)}finally{$.T=b}}else try{b=c(g,d),Hb(s,i,b)}catch(J){yh(s,i,J)}}function Hb(s,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Vb(s,i,d)},function(d){return yh(s,i,d)}):Vb(s,i,c)}function Vb(s,i,c){i.status="fulfilled",i.value=c,Gb(i),s.state=c,i=s.pending,i!==null&&(c=i.next,c===i?s.pending=null:(c=c.next,i.next=c,Fb(s,c)))}function yh(s,i,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=c,Gb(i),i=i.next;while(i!==d)}s.action=null}function Gb(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Kb(s,i){return i}function Yb(s,i){if(rt){var c=vt.formState;if(c!==null){e:{var d=Ke;if(rt){if(Mt){t:{for(var g=Mt,b=Ka;g.nodeType!==8;){if(!b){g=null;break t}if(g=Pa(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Mt=Pa(g.nextSibling),d=g.data==="F!";break e}}Vs(d)}d=!1}d&&(i=c[0])}}return c=Or(),c.memoizedState=c.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kb,lastRenderedState:i},c.queue=d,c=mj.bind(null,Ke,d),d.dispatch=c,d=vh(!1),b=Sh.bind(null,Ke,!1,d.queue),d=Or(),g={state:i,dispatch:null,action:s,pending:null},d.queue=g,c=U3.bind(null,Ke,g,b,c),g.dispatch=c,d.memoizedState=s,[i,c,!1]}function Xb(s){var i=Ut();return Wb(i,ut,s)}function Wb(s,i,c){if(i=xh(s,i,Kb)[0],s=wu(yn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=No(i)}catch(C){throw C===go?xu:C}else d=i;i=Ut();var g=i.queue,b=g.dispatch;return c!==i.memoizedState&&(Ke.flags|=2048,Qi(9,Nu(),q3.bind(null,g,c),null)),[d,b,s]}function q3(s,i){s.action=i}function Zb(s){var i=Ut(),c=ut;if(c!==null)return Wb(i,c,s);Ut(),i=i.memoizedState,c=Ut();var d=c.queue.dispatch;return c.memoizedState=s,[i,d,!1]}function Qi(s,i,c,d){return s={tag:s,create:c,deps:d,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=hh(),Ke.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,i.lastEffect=s),s}function Nu(){return{destroy:void 0,resource:void 0}}function Qb(){return Ut().memoizedState}function Su(s,i,c,d){var g=Or();d=d===void 0?null:d,Ke.flags|=s,g.memoizedState=Qi(1|i,Nu(),c,d)}function So(s,i,c,d){var g=Ut();d=d===void 0?null:d;var b=g.memoizedState.inst;ut!==null&&d!==null&&ch(d,ut.memoizedState.deps)?g.memoizedState=Qi(i,b,c,d):(Ke.flags|=s,g.memoizedState=Qi(1|i,b,c,d))}function Jb(s,i){Su(8390656,8,s,i)}function ej(s,i){So(2048,8,s,i)}function tj(s,i){return So(4,2,s,i)}function rj(s,i){return So(4,4,s,i)}function aj(s,i){if(typeof i=="function"){s=s();var c=i(s);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function nj(s,i,c){c=c!=null?c.concat([s]):null,So(4,4,aj.bind(null,i,s),c)}function bh(){}function sj(s,i){var c=Ut();i=i===void 0?null:i;var d=c.memoizedState;return i!==null&&ch(i,d[1])?d[0]:(c.memoizedState=[s,i],s)}function ij(s,i){var c=Ut();i=i===void 0?null:i;var d=c.memoizedState;if(i!==null&&ch(i,d[1]))return d[0];if(d=s(),Xs){je(!0);try{s()}finally{je(!1)}}return c.memoizedState=[d,i],d}function jh(s,i,c){return c===void 0||(as&1073741824)!==0?s.memoizedState=i:(s.memoizedState=c,s=cw(),Ke.lanes|=s,us|=s,c)}function lj(s,i,c,d){return qr(c,i)?c:Xi.current!==null?(s=jh(s,c,d),qr(s,i)||(Kt=!0),s):(as&42)===0?(Kt=!0,s.memoizedState=c):(s=cw(),Ke.lanes|=s,us|=s,i)}function oj(s,i,c,d,g){var b=q.p;q.p=b!==0&&8>b?b:8;var C=$.T,k={};$.T=k,Sh(s,!1,i,c);try{var I=g(),J=$.S;if(J!==null&&J(k,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var de=$3(I,d);Eo(s,i,de,Vr(s))}else Eo(s,i,d,Vr(s))}catch(me){Eo(s,i,{then:function(){},status:"rejected",reason:me},Vr())}finally{q.p=b,$.T=C}}function B3(){}function wh(s,i,c,d){if(s.tag!==5)throw Error(a(476));var g=cj(s).queue;oj(s,g,i,Z,c===null?B3:function(){return uj(s),c(d)})}function cj(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:Z},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:c},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function uj(s){var i=cj(s).next.queue;Eo(s,i,{},Vr())}function Nh(){return hr(Fo)}function dj(){return Ut().memoizedState}function fj(){return Ut().memoizedState}function I3(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var c=Vr();s=ts(c);var d=rs(i,s,c);d!==null&&(Gr(d,i,c),yo(d,i,c)),i={cache:Jm()},s.payload=i;return}i=i.return}}function F3(s,i,c){var d=Vr();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Eu(s)?hj(i,c):(c=Fm(s,i,c,d),c!==null&&(Gr(c,s,d),pj(c,i,d)))}function mj(s,i,c){var d=Vr();Eo(s,i,c,d)}function Eo(s,i,c,d){var g={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Eu(s))hj(i,g);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var C=i.lastRenderedState,k=b(C,c);if(g.hasEagerState=!0,g.eagerState=k,qr(k,C))return ou(s,i,g,0),vt===null&&lu(),!1}catch{}finally{}if(c=Fm(s,i,g,d),c!==null)return Gr(c,s,d),pj(c,i,d),!0}return!1}function Sh(s,i,c,d){if(d={lane:2,revertLane:rp(),action:d,hasEagerState:!1,eagerState:null,next:null},Eu(s)){if(i)throw Error(a(479))}else i=Fm(s,c,d,2),i!==null&&Gr(i,s,2)}function Eu(s){var i=s.alternate;return s===Ke||i!==null&&i===Ke}function hj(s,i){Wi=yu=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function pj(s,i,c){if((c&4194048)!==0){var d=i.lanes;d&=s.pendingLanes,c|=d,i.lanes=c,Ny(s,c)}}var _u={readContext:hr,use:ju,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},xj={readContext:hr,use:ju,useCallback:function(s,i){return Or().memoizedState=[s,i===void 0?null:i],s},useContext:hr,useEffect:Jb,useImperativeHandle:function(s,i,c){c=c!=null?c.concat([s]):null,Su(4194308,4,aj.bind(null,i,s),c)},useLayoutEffect:function(s,i){return Su(4194308,4,s,i)},useInsertionEffect:function(s,i){Su(4,2,s,i)},useMemo:function(s,i){var c=Or();i=i===void 0?null:i;var d=s();if(Xs){je(!0);try{s()}finally{je(!1)}}return c.memoizedState=[d,i],d},useReducer:function(s,i,c){var d=Or();if(c!==void 0){var g=c(i);if(Xs){je(!0);try{c(i)}finally{je(!1)}}}else g=i;return d.memoizedState=d.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},d.queue=s,s=s.dispatch=F3.bind(null,Ke,s),[d.memoizedState,s]},useRef:function(s){var i=Or();return s={current:s},i.memoizedState=s},useState:function(s){s=vh(s);var i=s.queue,c=mj.bind(null,Ke,i);return i.dispatch=c,[s.memoizedState,c]},useDebugValue:bh,useDeferredValue:function(s,i){var c=Or();return jh(c,s,i)},useTransition:function(){var s=vh(!1);return s=oj.bind(null,Ke,s.queue,!0,!1),Or().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,c){var d=Ke,g=Or();if(rt){if(c===void 0)throw Error(a(407));c=c()}else{if(c=i(),vt===null)throw Error(a(349));(Ze&124)!==0||zb(d,i,c)}g.memoizedState=c;var b={value:c,getSnapshot:i};return g.queue=b,Jb(Ub.bind(null,d,b,s),[s]),d.flags|=2048,Qi(9,Nu(),Lb.bind(null,d,b,c,i),null),c},useId:function(){var s=Or(),i=vt.identifierPrefix;if(rt){var c=xn,d=pn;c=(d&~(1<<32-Ue(d)-1)).toString(32)+c,i="«"+i+"R"+c,c=bu++,0<c&&(i+="H"+c.toString(32)),i+="»"}else c=z3++,i="«"+i+"r"+c.toString(32)+"»";return s.memoizedState=i},useHostTransitionStatus:Nh,useFormState:Yb,useActionState:Yb,useOptimistic:function(s){var i=Or();i.memoizedState=i.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=Sh.bind(null,Ke,!0,c),c.dispatch=i,[s,i]},useMemoCache:ph,useCacheRefresh:function(){return Or().memoizedState=I3.bind(null,Ke)}},gj={readContext:hr,use:ju,useCallback:sj,useContext:hr,useEffect:ej,useImperativeHandle:nj,useInsertionEffect:tj,useLayoutEffect:rj,useMemo:ij,useReducer:wu,useRef:Qb,useState:function(){return wu(yn)},useDebugValue:bh,useDeferredValue:function(s,i){var c=Ut();return lj(c,ut.memoizedState,s,i)},useTransition:function(){var s=wu(yn)[0],i=Ut().memoizedState;return[typeof s=="boolean"?s:No(s),i]},useSyncExternalStore:$b,useId:dj,useHostTransitionStatus:Nh,useFormState:Xb,useActionState:Xb,useOptimistic:function(s,i){var c=Ut();return Ib(c,ut,s,i)},useMemoCache:ph,useCacheRefresh:fj},H3={readContext:hr,use:ju,useCallback:sj,useContext:hr,useEffect:ej,useImperativeHandle:nj,useInsertionEffect:tj,useLayoutEffect:rj,useMemo:ij,useReducer:gh,useRef:Qb,useState:function(){return gh(yn)},useDebugValue:bh,useDeferredValue:function(s,i){var c=Ut();return ut===null?jh(c,s,i):lj(c,ut.memoizedState,s,i)},useTransition:function(){var s=gh(yn)[0],i=Ut().memoizedState;return[typeof s=="boolean"?s:No(s),i]},useSyncExternalStore:$b,useId:dj,useHostTransitionStatus:Nh,useFormState:Zb,useActionState:Zb,useOptimistic:function(s,i){var c=Ut();return ut!==null?Ib(c,ut,s,i):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:ph,useCacheRefresh:fj},Ji=null,_o=0;function Cu(s){var i=_o;return _o+=1,Ji===null&&(Ji=[]),Ab(Ji,s,i)}function Co(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Au(s,i){throw i.$$typeof===x?Error(a(525)):(s=Object.prototype.toString.call(i),Error(a(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function vj(s){var i=s._init;return i(s._payload)}function yj(s){function i(Y,V){if(s){var Q=Y.deletions;Q===null?(Y.deletions=[V],Y.flags|=16):Q.push(V)}}function c(Y,V){if(!s)return null;for(;V!==null;)i(Y,V),V=V.sibling;return null}function d(Y){for(var V=new Map;Y!==null;)Y.key!==null?V.set(Y.key,Y):V.set(Y.index,Y),Y=Y.sibling;return V}function g(Y,V){return Y=hn(Y,V),Y.index=0,Y.sibling=null,Y}function b(Y,V,Q){return Y.index=Q,s?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<V?(Y.flags|=67108866,V):Q):(Y.flags|=67108866,V)):(Y.flags|=1048576,V)}function C(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function k(Y,V,Q,fe){return V===null||V.tag!==6?(V=Vm(Q,Y.mode,fe),V.return=Y,V):(V=g(V,Q),V.return=Y,V)}function I(Y,V,Q,fe){var Oe=Q.type;return Oe===N?de(Y,V,Q.props.children,fe,Q.key):V!==null&&(V.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===z&&vj(Oe)===V.type)?(V=g(V,Q.props),Co(V,Q),V.return=Y,V):(V=uu(Q.type,Q.key,Q.props,null,Y.mode,fe),Co(V,Q),V.return=Y,V)}function J(Y,V,Q,fe){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=Gm(Q,Y.mode,fe),V.return=Y,V):(V=g(V,Q.children||[]),V.return=Y,V)}function de(Y,V,Q,fe,Oe){return V===null||V.tag!==7?(V=Bs(Q,Y.mode,fe,Oe),V.return=Y,V):(V=g(V,Q),V.return=Y,V)}function me(Y,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Vm(""+V,Y.mode,Q),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case v:return Q=uu(V.type,V.key,V.props,null,Y.mode,Q),Co(Q,V),Q.return=Y,Q;case j:return V=Gm(V,Y.mode,Q),V.return=Y,V;case z:var fe=V._init;return V=fe(V._payload),me(Y,V,Q)}if(B(V)||H(V))return V=Bs(V,Y.mode,Q,null),V.return=Y,V;if(typeof V.then=="function")return me(Y,Cu(V),Q);if(V.$$typeof===A)return me(Y,hu(Y,V),Q);Au(Y,V)}return null}function re(Y,V,Q,fe){var Oe=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Oe!==null?null:k(Y,V,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===Oe?I(Y,V,Q,fe):null;case j:return Q.key===Oe?J(Y,V,Q,fe):null;case z:return Oe=Q._init,Q=Oe(Q._payload),re(Y,V,Q,fe)}if(B(Q)||H(Q))return Oe!==null?null:de(Y,V,Q,fe,null);if(typeof Q.then=="function")return re(Y,V,Cu(Q),fe);if(Q.$$typeof===A)return re(Y,V,hu(Y,Q),fe);Au(Y,Q)}return null}function ae(Y,V,Q,fe,Oe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Y=Y.get(Q)||null,k(V,Y,""+fe,Oe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return Y=Y.get(fe.key===null?Q:fe.key)||null,I(V,Y,fe,Oe);case j:return Y=Y.get(fe.key===null?Q:fe.key)||null,J(V,Y,fe,Oe);case z:var Ye=fe._init;return fe=Ye(fe._payload),ae(Y,V,Q,fe,Oe)}if(B(fe)||H(fe))return Y=Y.get(Q)||null,de(V,Y,fe,Oe,null);if(typeof fe.then=="function")return ae(Y,V,Q,Cu(fe),Oe);if(fe.$$typeof===A)return ae(Y,V,Q,hu(V,fe),Oe);Au(V,fe)}return null}function He(Y,V,Q,fe){for(var Oe=null,Ye=null,Re=V,qe=V=0,Xt=null;Re!==null&&qe<Q.length;qe++){Re.index>qe?(Xt=Re,Re=null):Xt=Re.sibling;var et=re(Y,Re,Q[qe],fe);if(et===null){Re===null&&(Re=Xt);break}s&&Re&&et.alternate===null&&i(Y,Re),V=b(et,V,qe),Ye===null?Oe=et:Ye.sibling=et,Ye=et,Re=Xt}if(qe===Q.length)return c(Y,Re),rt&&Fs(Y,qe),Oe;if(Re===null){for(;qe<Q.length;qe++)Re=me(Y,Q[qe],fe),Re!==null&&(V=b(Re,V,qe),Ye===null?Oe=Re:Ye.sibling=Re,Ye=Re);return rt&&Fs(Y,qe),Oe}for(Re=d(Re);qe<Q.length;qe++)Xt=ae(Re,Y,qe,Q[qe],fe),Xt!==null&&(s&&Xt.alternate!==null&&Re.delete(Xt.key===null?qe:Xt.key),V=b(Xt,V,qe),Ye===null?Oe=Xt:Ye.sibling=Xt,Ye=Xt);return s&&Re.forEach(function(ys){return i(Y,ys)}),rt&&Fs(Y,qe),Oe}function Le(Y,V,Q,fe){if(Q==null)throw Error(a(151));for(var Oe=null,Ye=null,Re=V,qe=V=0,Xt=null,et=Q.next();Re!==null&&!et.done;qe++,et=Q.next()){Re.index>qe?(Xt=Re,Re=null):Xt=Re.sibling;var ys=re(Y,Re,et.value,fe);if(ys===null){Re===null&&(Re=Xt);break}s&&Re&&ys.alternate===null&&i(Y,Re),V=b(ys,V,qe),Ye===null?Oe=ys:Ye.sibling=ys,Ye=ys,Re=Xt}if(et.done)return c(Y,Re),rt&&Fs(Y,qe),Oe;if(Re===null){for(;!et.done;qe++,et=Q.next())et=me(Y,et.value,fe),et!==null&&(V=b(et,V,qe),Ye===null?Oe=et:Ye.sibling=et,Ye=et);return rt&&Fs(Y,qe),Oe}for(Re=d(Re);!et.done;qe++,et=Q.next())et=ae(Re,Y,qe,et.value,fe),et!==null&&(s&&et.alternate!==null&&Re.delete(et.key===null?qe:et.key),V=b(et,V,qe),Ye===null?Oe=et:Ye.sibling=et,Ye=et);return s&&Re.forEach(function(V5){return i(Y,V5)}),rt&&Fs(Y,qe),Oe}function ft(Y,V,Q,fe){if(typeof Q=="object"&&Q!==null&&Q.type===N&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var Oe=Q.key;V!==null;){if(V.key===Oe){if(Oe=Q.type,Oe===N){if(V.tag===7){c(Y,V.sibling),fe=g(V,Q.props.children),fe.return=Y,Y=fe;break e}}else if(V.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===z&&vj(Oe)===V.type){c(Y,V.sibling),fe=g(V,Q.props),Co(fe,Q),fe.return=Y,Y=fe;break e}c(Y,V);break}else i(Y,V);V=V.sibling}Q.type===N?(fe=Bs(Q.props.children,Y.mode,fe,Q.key),fe.return=Y,Y=fe):(fe=uu(Q.type,Q.key,Q.props,null,Y.mode,fe),Co(fe,Q),fe.return=Y,Y=fe)}return C(Y);case j:e:{for(Oe=Q.key;V!==null;){if(V.key===Oe)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){c(Y,V.sibling),fe=g(V,Q.children||[]),fe.return=Y,Y=fe;break e}else{c(Y,V);break}else i(Y,V);V=V.sibling}fe=Gm(Q,Y.mode,fe),fe.return=Y,Y=fe}return C(Y);case z:return Oe=Q._init,Q=Oe(Q._payload),ft(Y,V,Q,fe)}if(B(Q))return He(Y,V,Q,fe);if(H(Q)){if(Oe=H(Q),typeof Oe!="function")throw Error(a(150));return Q=Oe.call(Q),Le(Y,V,Q,fe)}if(typeof Q.then=="function")return ft(Y,V,Cu(Q),fe);if(Q.$$typeof===A)return ft(Y,V,hu(Y,Q),fe);Au(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,V!==null&&V.tag===6?(c(Y,V.sibling),fe=g(V,Q),fe.return=Y,Y=fe):(c(Y,V),fe=Vm(Q,Y.mode,fe),fe.return=Y,Y=fe),C(Y)):c(Y,V)}return function(Y,V,Q,fe){try{_o=0;var Oe=ft(Y,V,Q,fe);return Ji=null,Oe}catch(Re){if(Re===go||Re===xu)throw Re;var Ye=Br(29,Re,null,Y.mode);return Ye.lanes=fe,Ye.return=Y,Ye}finally{}}}var el=yj(!0),bj=yj(!1),ma=X(null),Ya=null;function ns(s){var i=s.alternate;ie(Ft,Ft.current&1),ie(ma,s),Ya===null&&(i===null||Xi.current!==null||i.memoizedState!==null)&&(Ya=s)}function jj(s){if(s.tag===22){if(ie(Ft,Ft.current),ie(ma,s),Ya===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(Ya=s)}}else ss()}function ss(){ie(Ft,Ft.current),ie(ma,ma.current)}function bn(s){ne(ma),Ya===s&&(Ya=null),ne(Ft)}var Ft=X(0);function Ou(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||hp(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Eh(s,i,c,d){i=s.memoizedState,c=c(d,i),c=c==null?i:p({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var _h={enqueueSetState:function(s,i,c){s=s._reactInternals;var d=Vr(),g=ts(d);g.payload=i,c!=null&&(g.callback=c),i=rs(s,g,d),i!==null&&(Gr(i,s,d),yo(i,s,d))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var d=Vr(),g=ts(d);g.tag=1,g.payload=i,c!=null&&(g.callback=c),i=rs(s,g,d),i!==null&&(Gr(i,s,d),yo(i,s,d))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=Vr(),d=ts(c);d.tag=2,i!=null&&(d.callback=i),i=rs(s,d,c),i!==null&&(Gr(i,s,c),yo(i,s,c))}};function wj(s,i,c,d,g,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,b,C):i.prototype&&i.prototype.isPureReactComponent?!oo(c,d)||!oo(g,b):!0}function Nj(s,i,c,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,d),i.state!==s&&_h.enqueueReplaceState(i,i.state,null)}function Ws(s,i){var c=i;if("ref"in i){c={};for(var d in i)d!=="ref"&&(c[d]=i[d])}if(s=s.defaultProps){c===i&&(c=p({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}var Tu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Sj(s){Tu(s)}function Ej(s){console.error(s)}function _j(s){Tu(s)}function Mu(s,i){try{var c=s.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Cj(s,i,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ch(s,i,c){return c=ts(c),c.tag=3,c.payload={element:null},c.callback=function(){Mu(s,i)},c}function Aj(s){return s=ts(s),s.tag=3,s}function Oj(s,i,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var b=d.value;s.payload=function(){return g(b)},s.callback=function(){Cj(i,c,d)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){Cj(i,c,d),typeof g!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function V3(s,i,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=c.alternate,i!==null&&ho(i,c,g,!0),c=ma.current,c!==null){switch(c.tag){case 13:return Ya===null?Zh():c.alternate===null&&kt===0&&(kt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===rh?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([d]):i.add(d),Jh(s,d,g)),!1;case 22:return c.flags|=65536,d===rh?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([d]):c.add(d)),Jh(s,d,g)),!1}throw Error(a(435,c.tag))}return Jh(s,d,g),Zh(),!1}if(rt)return i=ma.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==Xm&&(s=Error(a(422),{cause:d}),mo(ca(s,c)))):(d!==Xm&&(i=Error(a(423),{cause:d}),mo(ca(i,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,d=ca(d,c),g=Ch(s.stateNode,d,g),sh(s,g),kt!==4&&(kt=2)),!1;var b=Error(a(520),{cause:d});if(b=ca(b,c),Do===null?Do=[b]:Do.push(b),kt!==4&&(kt=2),i===null)return!0;d=ca(d,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=Ch(c.stateNode,d,s),sh(c,s),!1;case 1:if(i=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ds===null||!ds.has(b))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Aj(g),Oj(g,s,c,d),sh(c,g),!1}c=c.return}while(c!==null);return!1}var Tj=Error(a(461)),Kt=!1;function nr(s,i,c,d){i.child=s===null?bj(i,null,c,d):el(i,s.child,c,d)}function Mj(s,i,c,d,g){c=c.render;var b=i.ref;if("ref"in d){var C={};for(var k in d)k!=="ref"&&(C[k]=d[k])}else C=d;return Ks(i),d=uh(s,i,c,C,b,g),k=dh(),s!==null&&!Kt?(fh(s,i,g),jn(s,i,g)):(rt&&k&&Km(i),i.flags|=1,nr(s,i,d,g),i.child)}function kj(s,i,c,d,g){if(s===null){var b=c.type;return typeof b=="function"&&!Hm(b)&&b.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=b,Pj(s,i,b,d,g)):(s=uu(c.type,null,d,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(b=s.child,!Rh(s,g)){var C=b.memoizedProps;if(c=c.compare,c=c!==null?c:oo,c(C,d)&&s.ref===i.ref)return jn(s,i,g)}return i.flags|=1,s=hn(b,d),s.ref=i.ref,s.return=i,i.child=s}function Pj(s,i,c,d,g){if(s!==null){var b=s.memoizedProps;if(oo(b,d)&&s.ref===i.ref)if(Kt=!1,i.pendingProps=d=b,Rh(s,g))(s.flags&131072)!==0&&(Kt=!0);else return i.lanes=s.lanes,jn(s,i,g)}return Ah(s,i,c,d,g)}function Dj(s,i,c){var d=i.pendingProps,g=d.children,b=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=b!==null?b.baseLanes|c:c,s!==null){for(g=i.child=s.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;i.childLanes=b&~d}else i.childLanes=0,i.child=null;return Rj(s,i,d,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&pu(i,b!==null?b.cachePool:null),b!==null?Pb(i,b):lh(),jj(i);else return i.lanes=i.childLanes=536870912,Rj(s,i,b!==null?b.baseLanes|c:c,c)}else b!==null?(pu(i,b.cachePool),Pb(i,b),ss(),i.memoizedState=null):(s!==null&&pu(i,null),lh(),ss());return nr(s,i,g,c),i.child}function Rj(s,i,c,d){var g=th();return g=g===null?null:{parent:It._currentValue,pool:g},i.memoizedState={baseLanes:c,cachePool:g},s!==null&&pu(i,null),lh(),jj(i),s!==null&&ho(s,i,d,!0),null}function ku(s,i){var c=i.ref;if(c===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(a(284));(s===null||s.ref!==c)&&(i.flags|=4194816)}}function Ah(s,i,c,d,g){return Ks(i),c=uh(s,i,c,d,void 0,g),d=dh(),s!==null&&!Kt?(fh(s,i,g),jn(s,i,g)):(rt&&d&&Km(i),i.flags|=1,nr(s,i,c,g),i.child)}function $j(s,i,c,d,g,b){return Ks(i),i.updateQueue=null,c=Rb(i,d,c,g),Db(s),d=dh(),s!==null&&!Kt?(fh(s,i,b),jn(s,i,b)):(rt&&d&&Km(i),i.flags|=1,nr(s,i,c,b),i.child)}function zj(s,i,c,d,g){if(Ks(i),i.stateNode===null){var b=Hi,C=c.contextType;typeof C=="object"&&C!==null&&(b=hr(C)),b=new c(d,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=_h,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=d,b.state=i.memoizedState,b.refs={},ah(i),C=c.contextType,b.context=typeof C=="object"&&C!==null?hr(C):Hi,b.state=i.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Eh(i,c,C,d),b.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&_h.enqueueReplaceState(b,b.state,null),jo(i,d,b,g),bo(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(s===null){b=i.stateNode;var k=i.memoizedProps,I=Ws(c,k);b.props=I;var J=b.context,de=c.contextType;C=Hi,typeof de=="object"&&de!==null&&(C=hr(de));var me=c.getDerivedStateFromProps;de=typeof me=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=i.pendingProps!==k,de||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||J!==C)&&Nj(i,b,d,C),es=!1;var re=i.memoizedState;b.state=re,jo(i,d,b,g),bo(),J=i.memoizedState,k||re!==J||es?(typeof me=="function"&&(Eh(i,c,me,d),J=i.memoizedState),(I=es||wj(i,c,I,d,re,J,C))?(de||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=J),b.props=d,b.state=J,b.context=C,d=I):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{b=i.stateNode,nh(s,i),C=i.memoizedProps,de=Ws(c,C),b.props=de,me=i.pendingProps,re=b.context,J=c.contextType,I=Hi,typeof J=="object"&&J!==null&&(I=hr(J)),k=c.getDerivedStateFromProps,(J=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==me||re!==I)&&Nj(i,b,d,I),es=!1,re=i.memoizedState,b.state=re,jo(i,d,b,g),bo();var ae=i.memoizedState;C!==me||re!==ae||es||s!==null&&s.dependencies!==null&&mu(s.dependencies)?(typeof k=="function"&&(Eh(i,c,k,d),ae=i.memoizedState),(de=es||wj(i,c,de,d,re,ae,I)||s!==null&&s.dependencies!==null&&mu(s.dependencies))?(J||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ae,I),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ae,I)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ae),b.props=d,b.state=ae,b.context=I,d=de):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),d=!1)}return b=d,ku(s,i),d=(i.flags&128)!==0,b||d?(b=i.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,s!==null&&d?(i.child=el(i,s.child,null,g),i.child=el(i,null,c,g)):nr(s,i,c,g),i.memoizedState=b.state,s=i.child):s=jn(s,i,g),s}function Lj(s,i,c,d){return fo(),i.flags|=256,nr(s,i,c,d),i.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Th(s){return{baseLanes:s,cachePool:Eb()}}function Mh(s,i,c){return s=s!==null?s.childLanes&~c:0,i&&(s|=ha),s}function Uj(s,i,c){var d=i.pendingProps,g=!1,b=(i.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(Ft.current&2)!==0),C&&(g=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,s===null){if(rt){if(g?ns(i):ss(),rt){var k=Mt,I;if(I=k){e:{for(I=k,k=Ka;I.nodeType!==8;){if(!k){k=null;break e}if(I=Pa(I.nextSibling),I===null){k=null;break e}}k=I}k!==null?(i.memoizedState={dehydrated:k,treeContext:Is!==null?{id:pn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},I=Br(18,null,null,0),I.stateNode=k,I.return=i,i.child=I,wr=i,Mt=null,I=!0):I=!1}I||Vs(i)}if(k=i.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return hp(k)?i.lanes=32:i.lanes=536870912,null;bn(i)}return k=d.children,d=d.fallback,g?(ss(),g=i.mode,k=Pu({mode:"hidden",children:k},g),d=Bs(d,g,c,null),k.return=i,d.return=i,k.sibling=d,i.child=k,g=i.child,g.memoizedState=Th(c),g.childLanes=Mh(s,C,c),i.memoizedState=Oh,d):(ns(i),kh(i,k))}if(I=s.memoizedState,I!==null&&(k=I.dehydrated,k!==null)){if(b)i.flags&256?(ns(i),i.flags&=-257,i=Ph(s,i,c)):i.memoizedState!==null?(ss(),i.child=s.child,i.flags|=128,i=null):(ss(),g=d.fallback,k=i.mode,d=Pu({mode:"visible",children:d.children},k),g=Bs(g,k,c,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,el(i,s.child,null,c),d=i.child,d.memoizedState=Th(c),d.childLanes=Mh(s,C,c),i.memoizedState=Oh,i=g);else if(ns(i),hp(k)){if(C=k.nextSibling&&k.nextSibling.dataset,C)var J=C.dgst;C=J,d=Error(a(419)),d.stack="",d.digest=C,mo({value:d,source:null,stack:null}),i=Ph(s,i,c)}else if(Kt||ho(s,i,c,!1),C=(c&s.childLanes)!==0,Kt||C){if(C=vt,C!==null&&(d=c&-c,d=(d&42)!==0?1:pm(d),d=(d&(C.suspendedLanes|c))!==0?0:d,d!==0&&d!==I.retryLane))throw I.retryLane=d,Fi(s,d),Gr(C,s,d),Tj;k.data==="$?"||Zh(),i=Ph(s,i,c)}else k.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=I.treeContext,Mt=Pa(k.nextSibling),wr=i,rt=!0,Hs=null,Ka=!1,s!==null&&(da[fa++]=pn,da[fa++]=xn,da[fa++]=Is,pn=s.id,xn=s.overflow,Is=i),i=kh(i,d.children),i.flags|=4096);return i}return g?(ss(),g=d.fallback,k=i.mode,I=s.child,J=I.sibling,d=hn(I,{mode:"hidden",children:d.children}),d.subtreeFlags=I.subtreeFlags&65011712,J!==null?g=hn(J,g):(g=Bs(g,k,c,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,k=s.child.memoizedState,k===null?k=Th(c):(I=k.cachePool,I!==null?(J=It._currentValue,I=I.parent!==J?{parent:J,pool:J}:I):I=Eb(),k={baseLanes:k.baseLanes|c,cachePool:I}),g.memoizedState=k,g.childLanes=Mh(s,C,c),i.memoizedState=Oh,d):(ns(i),c=s.child,s=c.sibling,c=hn(c,{mode:"visible",children:d.children}),c.return=i,c.sibling=null,s!==null&&(C=i.deletions,C===null?(i.deletions=[s],i.flags|=16):C.push(s)),i.child=c,i.memoizedState=null,c)}function kh(s,i){return i=Pu({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Pu(s,i){return s=Br(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Ph(s,i,c){return el(i,s.child,null,c),s=kh(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function qj(s,i,c){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Zm(s.return,i,c)}function Dh(s,i,c,d,g){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=c,b.tailMode=g)}function Bj(s,i,c){var d=i.pendingProps,g=d.revealOrder,b=d.tail;if(nr(s,i,d.children,c),d=Ft.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qj(s,c,i);else if(s.tag===19)qj(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(ie(Ft,d),g){case"forwards":for(c=i.child,g=null;c!==null;)s=c.alternate,s!==null&&Ou(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),Dh(i,!1,g,c,b);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&Ou(s)===null){i.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Dh(i,!0,c,null,b);break;case"together":Dh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jn(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),us|=i.lanes,(c&i.childLanes)===0)if(s!==null){if(ho(s,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(a(153));if(i.child!==null){for(s=i.child,c=hn(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=hn(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function Rh(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&mu(s)))}function G3(s,i,c){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),Jn(i,It,s.memoizedState.cache),fo();break;case 27:case 5:Se(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:Jn(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(ns(i),i.flags|=128,null):(c&i.child.childLanes)!==0?Uj(s,i,c):(ns(i),s=jn(s,i,c),s!==null?s.sibling:null);ns(i);break;case 19:var g=(s.flags&128)!==0;if(d=(c&i.childLanes)!==0,d||(ho(s,i,c,!1),d=(c&i.childLanes)!==0),g){if(d)return Bj(s,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ie(Ft,Ft.current),d)break;return null;case 22:case 23:return i.lanes=0,Dj(s,i,c);case 24:Jn(i,It,s.memoizedState.cache)}return jn(s,i,c)}function Ij(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps)Kt=!0;else{if(!Rh(s,c)&&(i.flags&128)===0)return Kt=!1,G3(s,i,c);Kt=(s.flags&131072)!==0}else Kt=!1,rt&&(i.flags&1048576)!==0&&vb(i,fu,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var d=i.elementType,g=d._init;if(d=g(d._payload),i.type=d,typeof d=="function")Hm(d)?(s=Ws(d,s),i.tag=1,i=zj(null,i,d,s,c)):(i.tag=0,i=Ah(null,i,d,s,c));else{if(d!=null){if(g=d.$$typeof,g===P){i.tag=11,i=Mj(null,i,d,s,c);break e}else if(g===O){i.tag=14,i=kj(null,i,d,s,c);break e}}throw i=L(d)||d,Error(a(306,i,""))}}return i;case 0:return Ah(s,i,i.type,i.pendingProps,c);case 1:return d=i.type,g=Ws(d,i.pendingProps),zj(s,i,d,g,c);case 3:e:{if(Me(i,i.stateNode.containerInfo),s===null)throw Error(a(387));d=i.pendingProps;var b=i.memoizedState;g=b.element,nh(s,i),jo(i,d,null,c);var C=i.memoizedState;if(d=C.cache,Jn(i,It,d),d!==b.cache&&Qm(i,[It],c,!0),bo(),d=C.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=Lj(s,i,d,c);break e}else if(d!==g){g=ca(Error(a(424)),i),mo(g),i=Lj(s,i,d,c);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Mt=Pa(s.firstChild),wr=i,rt=!0,Hs=null,Ka=!0,c=bj(i,null,d,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(fo(),d===g){i=jn(s,i,c);break e}nr(s,i,d,c)}i=i.child}return i;case 26:return ku(s,i),s===null?(c=Gw(i.type,null,i.pendingProps,null))?i.memoizedState=c:rt||(c=i.type,s=i.pendingProps,d=Ku(K.current).createElement(c),d[mr]=i,d[Cr]=s,ir(d,c,s),Gt(d),i.stateNode=d):i.memoizedState=Gw(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Se(i),s===null&&rt&&(d=i.stateNode=Fw(i.type,i.pendingProps,K.current),wr=i,Ka=!0,g=Mt,hs(i.type)?(pp=g,Mt=Pa(d.firstChild)):Mt=g),nr(s,i,i.pendingProps.children,c),ku(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&rt&&((g=d=Mt)&&(d=b5(d,i.type,i.pendingProps,Ka),d!==null?(i.stateNode=d,wr=i,Mt=Pa(d.firstChild),Ka=!1,g=!0):g=!1),g||Vs(i)),Se(i),g=i.type,b=i.pendingProps,C=s!==null?s.memoizedProps:null,d=b.children,dp(g,b)?d=null:C!==null&&dp(g,C)&&(i.flags|=32),i.memoizedState!==null&&(g=uh(s,i,L3,null,null,c),Fo._currentValue=g),ku(s,i),nr(s,i,d,c),i.child;case 6:return s===null&&rt&&((s=c=Mt)&&(c=j5(c,i.pendingProps,Ka),c!==null?(i.stateNode=c,wr=i,Mt=null,s=!0):s=!1),s||Vs(i)),null;case 13:return Uj(s,i,c);case 4:return Me(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=el(i,null,d,c):nr(s,i,d,c),i.child;case 11:return Mj(s,i,i.type,i.pendingProps,c);case 7:return nr(s,i,i.pendingProps,c),i.child;case 8:return nr(s,i,i.pendingProps.children,c),i.child;case 12:return nr(s,i,i.pendingProps.children,c),i.child;case 10:return d=i.pendingProps,Jn(i,i.type,d.value),nr(s,i,d.children,c),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,Ks(i),g=hr(g),d=d(g),i.flags|=1,nr(s,i,d,c),i.child;case 14:return kj(s,i,i.type,i.pendingProps,c);case 15:return Pj(s,i,i.type,i.pendingProps,c);case 19:return Bj(s,i,c);case 31:return d=i.pendingProps,c=i.mode,d={mode:d.mode,children:d.children},s===null?(c=Pu(d,c),c.ref=i.ref,i.child=c,c.return=i,i=c):(c=hn(s.child,d),c.ref=i.ref,i.child=c,c.return=i,i=c),i;case 22:return Dj(s,i,c);case 24:return Ks(i),d=hr(It),s===null?(g=th(),g===null&&(g=vt,b=Jm(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=c),g=b),i.memoizedState={parent:d,cache:g},ah(i),Jn(i,It,g)):((s.lanes&c)!==0&&(nh(s,i),jo(i,null,null,c),bo()),g=s.memoizedState,b=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Jn(i,It,d)):(d=b.cache,Jn(i,It,d),d!==g.cache&&Qm(i,[It],c,!0))),nr(s,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function wn(s){s.flags|=4}function Fj(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Zw(i)){if(i=ma.current,i!==null&&((Ze&4194048)===Ze?Ya!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||i!==Ya))throw vo=rh,_b;s.flags|=8192}}function Du(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?At():536870912,s.lanes|=i,nl|=i)}function Ao(s,i){if(!rt)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Ot(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(i)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=c,i}function K3(s,i,c){var d=i.pendingProps;switch(Ym(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return c=i.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),vn(It),ye(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(uo(i)?wn(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jb())),Ot(i),null;case 26:return c=i.memoizedState,s===null?(wn(i),c!==null?(Ot(i),Fj(i,c)):(Ot(i),i.flags&=-16777217)):c?c!==s.memoizedState?(wn(i),Ot(i),Fj(i,c)):(Ot(i),i.flags&=-16777217):(s.memoizedProps!==d&&wn(i),Ot(i),i.flags&=-16777217),null;case 27:$e(i),c=K.current;var g=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==d&&wn(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}s=G.current,uo(i)?yb(i):(s=Fw(g,d,c),i.stateNode=s,wn(i))}return Ot(i),null;case 5:if($e(i),c=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==d&&wn(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}if(s=G.current,uo(i))yb(i);else{switch(g=Ku(K.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?g.createElement(c,{is:d.is}):g.createElement(c)}}s[mr]=i,s[Cr]=d;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=s;e:switch(ir(s,c,d),c){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&wn(i)}}return Ot(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==d&&wn(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(a(166));if(s=K.current,uo(i)){if(s=i.stateNode,c=i.memoizedProps,d=null,g=wr,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}s[mr]=i,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||$w(s.nodeValue,c)),s||Vs(i)}else s=Ku(s).createTextNode(d),s[mr]=i,i.stateNode=s}return Ot(i),null;case 13:if(d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=uo(i),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(a(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[mr]=i}else fo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),g=!1}else g=jb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(bn(i),i):(bn(i),null)}if(bn(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=d!==null,s=s!==null&&s.memoizedState!==null,c){d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==g&&(d.flags|=2048)}return c!==s&&c&&(i.child.flags|=8192),Du(i,i.updateQueue),Ot(i),null;case 4:return ye(),s===null&&ip(i.stateNode.containerInfo),Ot(i),null;case 10:return vn(i.type),Ot(i),null;case 19:if(ne(Ft),g=i.memoizedState,g===null)return Ot(i),null;if(d=(i.flags&128)!==0,b=g.rendering,b===null)if(d)Ao(g,!1);else{if(kt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(b=Ou(s),b!==null){for(i.flags|=128,Ao(g,!1),s=b.updateQueue,i.updateQueue=s,Du(i,s),i.subtreeFlags=0,s=c,c=i.child;c!==null;)gb(c,s),c=c.sibling;return ie(Ft,Ft.current&1|2),i.child}s=s.sibling}g.tail!==null&&pe()>zu&&(i.flags|=128,d=!0,Ao(g,!1),i.lanes=4194304)}else{if(!d)if(s=Ou(b),s!==null){if(i.flags|=128,d=!0,s=s.updateQueue,i.updateQueue=s,Du(i,s),Ao(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!rt)return Ot(i),null}else 2*pe()-g.renderingStartTime>zu&&c!==536870912&&(i.flags|=128,d=!0,Ao(g,!1),i.lanes=4194304);g.isBackwards?(b.sibling=i.child,i.child=b):(s=g.last,s!==null?s.sibling=b:i.child=b,g.last=b)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=pe(),i.sibling=null,s=Ft.current,ie(Ft,d?s&1|2:s&1),i):(Ot(i),null);case 22:case 23:return bn(i),oh(),d=i.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(c&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),c=i.updateQueue,c!==null&&Du(i,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==c&&(i.flags|=2048),s!==null&&ne(Ys),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),vn(It),Ot(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Y3(s,i){switch(Ym(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return vn(It),ye(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return $e(i),null;case 13:if(bn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(a(340));fo()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ne(Ft),null;case 4:return ye(),null;case 10:return vn(i.type),null;case 22:case 23:return bn(i),oh(),s!==null&&ne(Ys),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return vn(It),null;case 25:return null;default:return null}}function Hj(s,i){switch(Ym(i),i.tag){case 3:vn(It),ye();break;case 26:case 27:case 5:$e(i);break;case 4:ye();break;case 13:bn(i);break;case 19:ne(Ft);break;case 10:vn(i.type);break;case 22:case 23:bn(i),oh(),s!==null&&ne(Ys);break;case 24:vn(It)}}function Oo(s,i){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&s)===s){d=void 0;var b=c.create,C=c.inst;d=b(),C.destroy=d}c=c.next}while(c!==g)}}catch(k){ht(i,i.return,k)}}function is(s,i,c){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var b=g.next;d=b;do{if((d.tag&s)===s){var C=d.inst,k=C.destroy;if(k!==void 0){C.destroy=void 0,g=i;var I=c,J=k;try{J()}catch(de){ht(g,I,de)}}}d=d.next}while(d!==b)}}catch(de){ht(i,i.return,de)}}function Vj(s){var i=s.updateQueue;if(i!==null){var c=s.stateNode;try{kb(i,c)}catch(d){ht(s,s.return,d)}}}function Gj(s,i,c){c.props=Ws(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){ht(s,i,d)}}function To(s,i){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(g){ht(s,i,g)}}function Xa(s,i){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){ht(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){ht(s,i,g)}else c.current=null}function Kj(s){var i=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){ht(s,s.return,g)}}function $h(s,i,c){try{var d=s.stateNode;p5(d,s.type,c,i),d[Cr]=i}catch(g){ht(s,s.return,g)}}function Yj(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&hs(s.type)||s.tag===4}function zh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&hs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lh(s,i,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(s),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Gu));else if(d!==4&&(d===27&&hs(s.type)&&(c=s.stateNode,i=null),s=s.child,s!==null))for(Lh(s,i,c),s=s.sibling;s!==null;)Lh(s,i,c),s=s.sibling}function Ru(s,i,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(d!==4&&(d===27&&hs(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Ru(s,i,c),s=s.sibling;s!==null;)Ru(s,i,c),s=s.sibling}function Xj(s){var i=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);ir(i,d,c),i[mr]=s,i[Cr]=c}catch(b){ht(s,s.return,b)}}var Nn=!1,Rt=!1,Uh=!1,Wj=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function X3(s,i){if(s=s.containerInfo,cp=Ju,s=lb(s),zm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var C=0,k=-1,I=-1,J=0,de=0,me=s,re=null;t:for(;;){for(var ae;me!==c||g!==0&&me.nodeType!==3||(k=C+g),me!==b||d!==0&&me.nodeType!==3||(I=C+d),me.nodeType===3&&(C+=me.nodeValue.length),(ae=me.firstChild)!==null;)re=me,me=ae;for(;;){if(me===s)break t;if(re===c&&++J===g&&(k=C),re===b&&++de===d&&(I=C),(ae=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=ae}c=k===-1||I===-1?null:{start:k,end:I}}else c=null}c=c||{start:0,end:0}}else c=null;for(up={focusedElem:s,selectionRange:c},Ju=!1,Yt=i;Yt!==null;)if(i=Yt,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,Yt=s;else for(;Yt!==null;){switch(i=Yt,b=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,c=i,g=b.memoizedProps,b=b.memoizedState,d=c.stateNode;try{var He=Ws(c.type,g,c.elementType===c.type);s=d.getSnapshotBeforeUpdate(He,b),d.__reactInternalSnapshotBeforeUpdate=s}catch(Le){ht(c,c.return,Le)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,c=s.nodeType,c===9)mp(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":mp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(a(163))}if(s=i.sibling,s!==null){s.return=i.return,Yt=s;break}Yt=i.return}}function Zj(s,i,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:ls(s,c),d&4&&Oo(5,c);break;case 1:if(ls(s,c),d&4)if(s=c.stateNode,i===null)try{s.componentDidMount()}catch(C){ht(c,c.return,C)}else{var g=Ws(c.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(C){ht(c,c.return,C)}}d&64&&Vj(c),d&512&&To(c,c.return);break;case 3:if(ls(s,c),d&64&&(s=c.updateQueue,s!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{kb(s,i)}catch(C){ht(c,c.return,C)}}break;case 27:i===null&&d&4&&Xj(c);case 26:case 5:ls(s,c),i===null&&d&4&&Kj(c),d&512&&To(c,c.return);break;case 12:ls(s,c);break;case 13:ls(s,c),d&4&&ew(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=n5.bind(null,c),w5(s,c))));break;case 22:if(d=c.memoizedState!==null||Nn,!d){i=i!==null&&i.memoizedState!==null||Rt,g=Nn;var b=Rt;Nn=d,(Rt=i)&&!b?os(s,c,(c.subtreeFlags&8772)!==0):ls(s,c),Nn=g,Rt=b}break;case 30:break;default:ls(s,c)}}function Qj(s){var i=s.alternate;i!==null&&(s.alternate=null,Qj(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&vm(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Nt=null,Tr=!1;function Sn(s,i,c){for(c=c.child;c!==null;)Jj(s,i,c),c=c.sibling}function Jj(s,i,c){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(te,c)}catch{}switch(c.tag){case 26:Rt||Xa(c,i),Sn(s,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Rt||Xa(c,i);var d=Nt,g=Tr;hs(c.type)&&(Nt=c.stateNode,Tr=!1),Sn(s,i,c),Uo(c.stateNode),Nt=d,Tr=g;break;case 5:Rt||Xa(c,i);case 6:if(d=Nt,g=Tr,Nt=null,Sn(s,i,c),Nt=d,Tr=g,Nt!==null)if(Tr)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(c.stateNode)}catch(b){ht(c,i,b)}else try{Nt.removeChild(c.stateNode)}catch(b){ht(c,i,b)}break;case 18:Nt!==null&&(Tr?(s=Nt,Bw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Ko(s)):Bw(Nt,c.stateNode));break;case 4:d=Nt,g=Tr,Nt=c.stateNode.containerInfo,Tr=!0,Sn(s,i,c),Nt=d,Tr=g;break;case 0:case 11:case 14:case 15:Rt||is(2,c,i),Rt||is(4,c,i),Sn(s,i,c);break;case 1:Rt||(Xa(c,i),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Gj(c,i,d)),Sn(s,i,c);break;case 21:Sn(s,i,c);break;case 22:Rt=(d=Rt)||c.memoizedState!==null,Sn(s,i,c),Rt=d;break;default:Sn(s,i,c)}}function ew(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ko(s)}catch(c){ht(i,i.return,c)}}function W3(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Wj),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Wj),i;default:throw Error(a(435,s.tag))}}function qh(s,i){var c=W3(s);i.forEach(function(d){var g=s5.bind(null,s,d);c.has(d)||(c.add(d),d.then(g,g))})}function Ir(s,i){var c=i.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],b=s,C=i,k=C;e:for(;k!==null;){switch(k.tag){case 27:if(hs(k.type)){Nt=k.stateNode,Tr=!1;break e}break;case 5:Nt=k.stateNode,Tr=!1;break e;case 3:case 4:Nt=k.stateNode.containerInfo,Tr=!0;break e}k=k.return}if(Nt===null)throw Error(a(160));Jj(b,C,g),Nt=null,Tr=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)tw(i,s),i=i.sibling}var ka=null;function tw(s,i){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ir(i,s),Fr(s),d&4&&(is(3,s,s.return),Oo(3,s),is(5,s,s.return));break;case 1:Ir(i,s),Fr(s),d&512&&(Rt||c===null||Xa(c,c.return)),d&64&&Nn&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=ka;if(Ir(i,s),Fr(s),d&512&&(Rt||c===null||Xa(c,c.return)),d&4){var b=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Jl]||b[mr]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(d),g.head.insertBefore(b,g.querySelector("head > title"))),ir(b,d,c),b[mr]=s,Gt(b),d=b;break e;case"link":var C=Xw("link","href",g).get(d+(c.href||""));if(C){for(var k=0;k<C.length;k++)if(b=C[k],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(k,1);break t}}b=g.createElement(d),ir(b,d,c),g.head.appendChild(b);break;case"meta":if(C=Xw("meta","content",g).get(d+(c.content||""))){for(k=0;k<C.length;k++)if(b=C[k],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(k,1);break t}}b=g.createElement(d),ir(b,d,c),g.head.appendChild(b);break;default:throw Error(a(468,d))}b[mr]=s,Gt(b),d=b}s.stateNode=d}else Ww(g,s.type,s.stateNode);else s.stateNode=Yw(g,d,s.memoizedProps);else b!==d?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,d===null?Ww(g,s.type,s.stateNode):Yw(g,d,s.memoizedProps)):d===null&&s.stateNode!==null&&$h(s,s.memoizedProps,c.memoizedProps)}break;case 27:Ir(i,s),Fr(s),d&512&&(Rt||c===null||Xa(c,c.return)),c!==null&&d&4&&$h(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Ir(i,s),Fr(s),d&512&&(Rt||c===null||Xa(c,c.return)),s.flags&32){g=s.stateNode;try{$i(g,"")}catch(ae){ht(s,s.return,ae)}}d&4&&s.stateNode!=null&&(g=s.memoizedProps,$h(s,g,c!==null?c.memoizedProps:g)),d&1024&&(Uh=!0);break;case 6:if(Ir(i,s),Fr(s),d&4){if(s.stateNode===null)throw Error(a(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(ae){ht(s,s.return,ae)}}break;case 3:if(Wu=null,g=ka,ka=Yu(i.containerInfo),Ir(i,s),ka=g,Fr(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Ko(i.containerInfo)}catch(ae){ht(s,s.return,ae)}Uh&&(Uh=!1,rw(s));break;case 4:d=ka,ka=Yu(s.stateNode.containerInfo),Ir(i,s),Fr(s),ka=d;break;case 12:Ir(i,s),Fr(s);break;case 13:Ir(i,s),Fr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Gh=pe()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,qh(s,d)));break;case 22:g=s.memoizedState!==null;var I=c!==null&&c.memoizedState!==null,J=Nn,de=Rt;if(Nn=J||g,Rt=de||I,Ir(i,s),Rt=de,Nn=J,Fr(s),d&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(c===null||I||Nn||Rt||Zs(s)),c=null,i=s;;){if(i.tag===5||i.tag===26){if(c===null){I=c=i;try{if(b=I.stateNode,g)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{k=I.stateNode;var me=I.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null;k.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ae){ht(I,I.return,ae)}}}else if(i.tag===6){if(c===null){I=i;try{I.stateNode.nodeValue=g?"":I.memoizedProps}catch(ae){ht(I,I.return,ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,qh(s,c))));break;case 19:Ir(i,s),Fr(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,qh(s,d)));break;case 30:break;case 21:break;default:Ir(i,s),Fr(s)}}function Fr(s){var i=s.flags;if(i&2){try{for(var c,d=s.return;d!==null;){if(Yj(d)){c=d;break}d=d.return}if(c==null)throw Error(a(160));switch(c.tag){case 27:var g=c.stateNode,b=zh(s);Ru(s,b,g);break;case 5:var C=c.stateNode;c.flags&32&&($i(C,""),c.flags&=-33);var k=zh(s);Ru(s,k,C);break;case 3:case 4:var I=c.stateNode.containerInfo,J=zh(s);Lh(s,J,I);break;default:throw Error(a(161))}}catch(de){ht(s,s.return,de)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function rw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;rw(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function ls(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zj(s,i.alternate,i),i=i.sibling}function Zs(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:is(4,i,i.return),Zs(i);break;case 1:Xa(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&Gj(i,i.return,c),Zs(i);break;case 27:Uo(i.stateNode);case 26:case 5:Xa(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}s=s.sibling}}function os(s,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=s,b=i,C=b.flags;switch(b.tag){case 0:case 11:case 15:os(g,b,c),Oo(4,b);break;case 1:if(os(g,b,c),d=b,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){ht(d,d.return,J)}if(d=b,g=d.updateQueue,g!==null){var k=d.stateNode;try{var I=g.shared.hiddenCallbacks;if(I!==null)for(g.shared.hiddenCallbacks=null,g=0;g<I.length;g++)Mb(I[g],k)}catch(J){ht(d,d.return,J)}}c&&C&64&&Vj(b),To(b,b.return);break;case 27:Xj(b);case 26:case 5:os(g,b,c),c&&d===null&&C&4&&Kj(b),To(b,b.return);break;case 12:os(g,b,c);break;case 13:os(g,b,c),c&&C&4&&ew(g,b);break;case 22:b.memoizedState===null&&os(g,b,c),To(b,b.return);break;case 30:break;default:os(g,b,c)}i=i.sibling}}function Bh(s,i){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&po(c))}function Ih(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&po(s))}function Wa(s,i,c,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aw(s,i,c,d),i=i.sibling}function aw(s,i,c,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Wa(s,i,c,d),g&2048&&Oo(9,i);break;case 1:Wa(s,i,c,d);break;case 3:Wa(s,i,c,d),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&po(s)));break;case 12:if(g&2048){Wa(s,i,c,d),s=i.stateNode;try{var b=i.memoizedProps,C=b.id,k=b.onPostCommit;typeof k=="function"&&k(C,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(I){ht(i,i.return,I)}}else Wa(s,i,c,d);break;case 13:Wa(s,i,c,d);break;case 23:break;case 22:b=i.stateNode,C=i.alternate,i.memoizedState!==null?b._visibility&2?Wa(s,i,c,d):Mo(s,i):b._visibility&2?Wa(s,i,c,d):(b._visibility|=2,tl(s,i,c,d,(i.subtreeFlags&10256)!==0)),g&2048&&Bh(C,i);break;case 24:Wa(s,i,c,d),g&2048&&Ih(i.alternate,i);break;default:Wa(s,i,c,d)}}function tl(s,i,c,d,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var b=s,C=i,k=c,I=d,J=C.flags;switch(C.tag){case 0:case 11:case 15:tl(b,C,k,I,g),Oo(8,C);break;case 23:break;case 22:var de=C.stateNode;C.memoizedState!==null?de._visibility&2?tl(b,C,k,I,g):Mo(b,C):(de._visibility|=2,tl(b,C,k,I,g)),g&&J&2048&&Bh(C.alternate,C);break;case 24:tl(b,C,k,I,g),g&&J&2048&&Ih(C.alternate,C);break;default:tl(b,C,k,I,g)}i=i.sibling}}function Mo(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=s,d=i,g=d.flags;switch(d.tag){case 22:Mo(c,d),g&2048&&Bh(d.alternate,d);break;case 24:Mo(c,d),g&2048&&Ih(d.alternate,d);break;default:Mo(c,d)}i=i.sibling}}var ko=8192;function rl(s){if(s.subtreeFlags&ko)for(s=s.child;s!==null;)nw(s),s=s.sibling}function nw(s){switch(s.tag){case 26:rl(s),s.flags&ko&&s.memoizedState!==null&&R5(ka,s.memoizedState,s.memoizedProps);break;case 5:rl(s);break;case 3:case 4:var i=ka;ka=Yu(s.stateNode.containerInfo),rl(s),ka=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=ko,ko=16777216,rl(s),ko=i):rl(s));break;default:rl(s)}}function sw(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function Po(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var d=i[c];Yt=d,lw(d,s)}sw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)iw(s),s=s.sibling}function iw(s){switch(s.tag){case 0:case 11:case 15:Po(s),s.flags&2048&&is(9,s,s.return);break;case 3:Po(s);break;case 12:Po(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,$u(s)):Po(s);break;default:Po(s)}}function $u(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var d=i[c];Yt=d,lw(d,s)}sw(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:is(8,i,i.return),$u(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,$u(i));break;default:$u(i)}s=s.sibling}}function lw(s,i){for(;Yt!==null;){var c=Yt;switch(c.tag){case 0:case 11:case 15:is(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:po(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Yt=d;else e:for(c=s;Yt!==null;){d=Yt;var g=d.sibling,b=d.return;if(Qj(d),d===c){Yt=null;break e}if(g!==null){g.return=b,Yt=g;break e}Yt=b}}}var Z3={getCacheForType:function(s){var i=hr(It),c=i.data.get(s);return c===void 0&&(c=s(),i.data.set(s,c)),c}},Q3=typeof WeakMap=="function"?WeakMap:Map,st=0,vt=null,Xe=null,Ze=0,it=0,Hr=null,cs=!1,al=!1,Fh=!1,En=0,kt=0,us=0,Qs=0,Hh=0,ha=0,nl=0,Do=null,Mr=null,Vh=!1,Gh=0,zu=1/0,Lu=null,ds=null,sr=0,fs=null,sl=null,il=0,Kh=0,Yh=null,ow=null,Ro=0,Xh=null;function Vr(){if((st&2)!==0&&Ze!==0)return Ze&-Ze;if($.T!==null){var s=Ki;return s!==0?s:rp()}return Sy()}function cw(){ha===0&&(ha=(Ze&536870912)===0||rt?ze():536870912);var s=ma.current;return s!==null&&(s.flags|=32),ha}function Gr(s,i,c){(s===vt&&(it===2||it===9)||s.cancelPendingCommit!==null)&&(ll(s,0),ms(s,Ze,ha,!1)),gt(s,c),((st&2)===0||s!==vt)&&(s===vt&&((st&2)===0&&(Qs|=c),kt===4&&ms(s,Ze,ha,!1)),Za(s))}function uw(s,i,c){if((st&6)!==0)throw Error(a(327));var d=!c&&(i&124)===0&&(i&s.expiredLanes)===0||ee(s,i),g=d?t5(s,i):Qh(s,i,!0),b=d;do{if(g===0){al&&!d&&ms(s,i,0,!1);break}else{if(c=s.current.alternate,b&&!J3(c)){g=Qh(s,i,!1),b=!1;continue}if(g===2){if(b=i,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var k=s;g=Do;var I=k.current.memoizedState.isDehydrated;if(I&&(ll(k,C).flags|=256),C=Qh(k,C,!1),C!==2){if(Fh&&!I){k.errorRecoveryDisabledLanes|=b,Qs|=b,g=4;break e}b=Mr,Mr=g,b!==null&&(Mr===null?Mr=b:Mr.push.apply(Mr,b))}g=C}if(b=!1,g!==2)continue}}if(g===1){ll(s,0),ms(s,i,0,!0);break}e:{switch(d=s,b=g,b){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ms(d,i,ha,!cs);break e;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(g=Gh+300-pe(),10<g)){if(ms(d,i,ha,!cs),Ta(d,0,!0)!==0)break e;d.timeoutHandle=Uw(dw.bind(null,d,c,Mr,Lu,Vh,i,ha,Qs,nl,cs,b,2,-0,0),g);break e}dw(d,c,Mr,Lu,Vh,i,ha,Qs,nl,cs,b,0,-0,0)}}break}while(!0);Za(s)}function dw(s,i,c,d,g,b,C,k,I,J,de,me,re,ae){if(s.timeoutHandle=-1,me=i.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Io={stylesheets:null,count:0,unsuspend:D5},nw(i),me=$5(),me!==null)){s.cancelPendingCommit=me(vw.bind(null,s,i,b,c,d,g,C,k,I,de,1,re,ae)),ms(s,b,C,!J);return}vw(s,i,b,c,d,g,C,k,I)}function J3(s){for(var i=s;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],b=g.getSnapshot;g=g.value;try{if(!qr(b(),g))return!1}catch{return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ms(s,i,c,d){i&=~Hh,i&=~Qs,s.suspendedLanes|=i,s.pingedLanes&=~i,d&&(s.warmLanes|=i),d=s.expirationTimes;for(var g=i;0<g;){var b=31-Ue(g),C=1<<b;d[b]=-1,g&=~C}c!==0&&$s(s,c,i)}function Uu(){return(st&6)===0?($o(0),!1):!0}function Wh(){if(Xe!==null){if(it===0)var s=Xe.return;else s=Xe,gn=Gs=null,mh(s),Ji=null,_o=0,s=Xe;for(;s!==null;)Hj(s.alternate,s),s=s.return;Xe=null}}function ll(s,i){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,g5(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Wh(),vt=s,Xe=c=hn(s.current,null),Ze=i,it=0,Hr=null,cs=!1,al=ee(s,i),Fh=!1,nl=ha=Hh=Qs=us=kt=0,Mr=Do=null,Vh=!1,(i&8)!==0&&(i|=i&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=i;0<d;){var g=31-Ue(d),b=1<<g;i|=s[g],d&=~b}return En=i,lu(),c}function fw(s,i){Ke=null,$.H=_u,i===go||i===xu?(i=Ob(),it=3):i===_b?(i=Ob(),it=4):it=i===Tj?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hr=i,Xe===null&&(kt=1,Mu(s,ca(i,s.current)))}function mw(){var s=$.H;return $.H=_u,s===null?_u:s}function hw(){var s=$.A;return $.A=Z3,s}function Zh(){kt=4,cs||(Ze&4194048)!==Ze&&ma.current!==null||(al=!0),(us&134217727)===0&&(Qs&134217727)===0||vt===null||ms(vt,Ze,ha,!1)}function Qh(s,i,c){var d=st;st|=2;var g=mw(),b=hw();(vt!==s||Ze!==i)&&(Lu=null,ll(s,i)),i=!1;var C=kt;e:do try{if(it!==0&&Xe!==null){var k=Xe,I=Hr;switch(it){case 8:Wh(),C=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(i=!0);var J=it;if(it=0,Hr=null,ol(s,k,I,J),c&&al){C=0;break e}break;default:J=it,it=0,Hr=null,ol(s,k,I,J)}}e5(),C=kt;break}catch(de){fw(s,de)}while(!0);return i&&s.shellSuspendCounter++,gn=Gs=null,st=d,$.H=g,$.A=b,Xe===null&&(vt=null,Ze=0,lu()),C}function e5(){for(;Xe!==null;)pw(Xe)}function t5(s,i){var c=st;st|=2;var d=mw(),g=hw();vt!==s||Ze!==i?(Lu=null,zu=pe()+500,ll(s,i)):al=ee(s,i);e:do try{if(it!==0&&Xe!==null){i=Xe;var b=Hr;t:switch(it){case 1:it=0,Hr=null,ol(s,i,b,1);break;case 2:case 9:if(Cb(b)){it=0,Hr=null,xw(i);break}i=function(){it!==2&&it!==9||vt!==s||(it=7),Za(s)},b.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Cb(b)?(it=0,Hr=null,xw(i)):(it=0,Hr=null,ol(s,i,b,7));break;case 5:var C=null;switch(Xe.tag){case 26:C=Xe.memoizedState;case 5:case 27:var k=Xe;if(!C||Zw(C)){it=0,Hr=null;var I=k.sibling;if(I!==null)Xe=I;else{var J=k.return;J!==null?(Xe=J,qu(J)):Xe=null}break t}}it=0,Hr=null,ol(s,i,b,5);break;case 6:it=0,Hr=null,ol(s,i,b,6);break;case 8:Wh(),kt=6;break e;default:throw Error(a(462))}}r5();break}catch(de){fw(s,de)}while(!0);return gn=Gs=null,$.H=d,$.A=g,st=c,Xe!==null?0:(vt=null,Ze=0,lu(),kt)}function r5(){for(;Xe!==null&&!Ct();)pw(Xe)}function pw(s){var i=Ij(s.alternate,s,En);s.memoizedProps=s.pendingProps,i===null?qu(s):Xe=i}function xw(s){var i=s,c=i.alternate;switch(i.tag){case 15:case 0:i=$j(c,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=$j(c,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:mh(i);default:Hj(c,i),i=Xe=gb(i,En),i=Ij(c,i,En)}s.memoizedProps=s.pendingProps,i===null?qu(s):Xe=i}function ol(s,i,c,d){gn=Gs=null,mh(i),Ji=null,_o=0;var g=i.return;try{if(V3(s,g,i,c,Ze)){kt=1,Mu(s,ca(c,s.current)),Xe=null;return}}catch(b){if(g!==null)throw Xe=g,b;kt=1,Mu(s,ca(c,s.current)),Xe=null;return}i.flags&32768?(rt||d===1?s=!0:al||(Ze&536870912)!==0?s=!1:(cs=s=!0,(d===2||d===9||d===3||d===6)&&(d=ma.current,d!==null&&d.tag===13&&(d.flags|=16384))),gw(i,s)):qu(i)}function qu(s){var i=s;do{if((i.flags&32768)!==0){gw(i,cs);return}s=i.return;var c=K3(i.alternate,i,En);if(c!==null){Xe=c;return}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=s}while(i!==null);kt===0&&(kt=5)}function gw(s,i){do{var c=Y3(s.alternate,s);if(c!==null){c.flags&=32767,Xe=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(s=s.sibling,s!==null)){Xe=s;return}Xe=s=c}while(s!==null);kt=6,Xe=null}function vw(s,i,c,d,g,b,C,k,I){s.cancelPendingCommit=null;do Bu();while(sr!==0);if((st&6)!==0)throw Error(a(327));if(i!==null){if(i===s.current)throw Error(a(177));if(b=i.lanes|i.childLanes,b|=Im,_r(s,c,b,C,k,I),s===vt&&(Xe=vt=null,Ze=0),sl=i,fs=s,il=c,Kh=b,Yh=g,ow=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,i5(Qe,function(){return Nw(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,g=q.p,q.p=2,C=st,st|=4;try{X3(s,i,c)}finally{st=C,q.p=g,$.T=d}}sr=1,yw(),bw(),jw()}}function yw(){if(sr===1){sr=0;var s=fs,i=sl,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var d=q.p;q.p=2;var g=st;st|=4;try{tw(i,s);var b=up,C=lb(s.containerInfo),k=b.focusedElem,I=b.selectionRange;if(C!==k&&k&&k.ownerDocument&&ib(k.ownerDocument.documentElement,k)){if(I!==null&&zm(k)){var J=I.start,de=I.end;if(de===void 0&&(de=J),"selectionStart"in k)k.selectionStart=J,k.selectionEnd=Math.min(de,k.value.length);else{var me=k.ownerDocument||document,re=me&&me.defaultView||window;if(re.getSelection){var ae=re.getSelection(),He=k.textContent.length,Le=Math.min(I.start,He),ft=I.end===void 0?Le:Math.min(I.end,He);!ae.extend&&Le>ft&&(C=ft,ft=Le,Le=C);var Y=sb(k,Le),V=sb(k,ft);if(Y&&V&&(ae.rangeCount!==1||ae.anchorNode!==Y.node||ae.anchorOffset!==Y.offset||ae.focusNode!==V.node||ae.focusOffset!==V.offset)){var Q=me.createRange();Q.setStart(Y.node,Y.offset),ae.removeAllRanges(),Le>ft?(ae.addRange(Q),ae.extend(V.node,V.offset)):(Q.setEnd(V.node,V.offset),ae.addRange(Q))}}}}for(me=[],ae=k;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<me.length;k++){var fe=me[k];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Ju=!!cp,up=cp=null}finally{st=g,q.p=d,$.T=c}}s.current=i,sr=2}}function bw(){if(sr===2){sr=0;var s=fs,i=sl,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var d=q.p;q.p=2;var g=st;st|=4;try{Zj(s,i.alternate,i)}finally{st=g,q.p=d,$.T=c}}sr=3}}function jw(){if(sr===4||sr===3){sr=0,bt();var s=fs,i=sl,c=il,d=ow;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?sr=5:(sr=0,sl=fs=null,ww(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ds=null),xm(c),i=i.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(te,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=$.T,g=q.p,q.p=2,$.T=null;try{for(var b=s.onRecoverableError,C=0;C<d.length;C++){var k=d[C];b(k.value,{componentStack:k.stack})}}finally{$.T=i,q.p=g}}(il&3)!==0&&Bu(),Za(s),g=s.pendingLanes,(c&4194090)!==0&&(g&42)!==0?s===Xh?Ro++:(Ro=0,Xh=s):Ro=0,$o(0)}}function ww(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,po(i)))}function Bu(s){return yw(),bw(),jw(),Nw()}function Nw(){if(sr!==5)return!1;var s=fs,i=Kh;Kh=0;var c=xm(il),d=$.T,g=q.p;try{q.p=32>c?32:c,$.T=null,c=Yh,Yh=null;var b=fs,C=il;if(sr=0,sl=fs=null,il=0,(st&6)!==0)throw Error(a(331));var k=st;if(st|=4,iw(b.current),aw(b,b.current,C,c),st=k,$o(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(te,b)}catch{}return!0}finally{q.p=g,$.T=d,ww(s,i)}}function Sw(s,i,c){i=ca(c,i),i=Ch(s.stateNode,i,2),s=rs(s,i,2),s!==null&&(gt(s,2),Za(s))}function ht(s,i,c){if(s.tag===3)Sw(s,s,c);else for(;i!==null;){if(i.tag===3){Sw(i,s,c);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ds===null||!ds.has(d))){s=ca(c,s),c=Aj(2),d=rs(i,c,2),d!==null&&(Oj(c,d,i,s),gt(d,2),Za(d));break}}i=i.return}}function Jh(s,i,c){var d=s.pingCache;if(d===null){d=s.pingCache=new Q3;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(c)||(Fh=!0,g.add(c),s=a5.bind(null,s,i,c),i.then(s,s))}function a5(s,i,c){var d=s.pingCache;d!==null&&d.delete(i),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,vt===s&&(Ze&c)===c&&(kt===4||kt===3&&(Ze&62914560)===Ze&&300>pe()-Gh?(st&2)===0&&ll(s,0):Hh|=c,nl===Ze&&(nl=0)),Za(s)}function Ew(s,i){i===0&&(i=At()),s=Fi(s,i),s!==null&&(gt(s,i),Za(s))}function n5(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),Ew(s,c)}function s5(s,i){var c=0;switch(s.tag){case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(i),Ew(s,c)}function i5(s,i){return at(s,i)}var Iu=null,cl=null,ep=!1,Fu=!1,tp=!1,Js=0;function Za(s){s!==cl&&s.next===null&&(cl===null?Iu=cl=s:cl=cl.next=s),Fu=!0,ep||(ep=!0,o5())}function $o(s,i){if(!tp&&Fu){tp=!0;do for(var c=!1,d=Iu;d!==null;){if(s!==0){var g=d.pendingLanes;if(g===0)var b=0;else{var C=d.suspendedLanes,k=d.pingedLanes;b=(1<<31-Ue(42|s)+1)-1,b&=g&~(C&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,Ow(d,b))}else b=Ze,b=Ta(d,d===vt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||ee(d,b)||(c=!0,Ow(d,b));d=d.next}while(c);tp=!1}}function l5(){_w()}function _w(){Fu=ep=!1;var s=0;Js!==0&&(x5()&&(s=Js),Js=0);for(var i=pe(),c=null,d=Iu;d!==null;){var g=d.next,b=Cw(d,i);b===0?(d.next=null,c===null?Iu=g:c.next=g,g===null&&(cl=c)):(c=d,(s!==0||(b&3)!==0)&&(Fu=!0)),d=g}$o(s)}function Cw(s,i){for(var c=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-Ue(b),k=1<<C,I=g[C];I===-1?((k&c)===0||(k&d)!==0)&&(g[C]=be(k,i)):I<=i&&(s.expiredLanes|=k),b&=~k}if(i=vt,c=Ze,c=Ta(s,s===i?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===i&&(it===2||it===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Fe(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ee(s,c)){if(i=c&-c,i===s.callbackPriority)return i;switch(d!==null&&Fe(d),xm(c)){case 2:case 8:c=ke;break;case 32:c=Qe;break;case 268435456:c=Ne;break;default:c=Qe}return d=Aw.bind(null,s),c=at(c,d),s.callbackPriority=i,s.callbackNode=c,i}return d!==null&&d!==null&&Fe(d),s.callbackPriority=2,s.callbackNode=null,2}function Aw(s,i){if(sr!==0&&sr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Bu()&&s.callbackNode!==c)return null;var d=Ze;return d=Ta(s,s===vt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(uw(s,d,i),Cw(s,pe()),s.callbackNode!=null&&s.callbackNode===c?Aw.bind(null,s):null)}function Ow(s,i){if(Bu())return null;uw(s,i,!0)}function o5(){v5(function(){(st&6)!==0?at(Be,l5):_w()})}function rp(){return Js===0&&(Js=ze()),Js}function Tw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:eu(""+s)}function Mw(s,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,s.id&&c.setAttribute("form",s.id),i.parentNode.insertBefore(c,i),s=new FormData(s),c.parentNode.removeChild(c),s}function c5(s,i,c,d,g){if(i==="submit"&&c&&c.stateNode===g){var b=Tw((g[Cr]||null).action),C=d.submitter;C&&(i=(i=C[Cr]||null)?Tw(i.formAction):C.getAttribute("formAction"),i!==null&&(b=i,C=null));var k=new nu("action","action",null,d,g);s.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Js!==0){var I=C?Mw(g,C):new FormData(g);wh(c,{pending:!0,data:I,method:g.method,action:b},null,I)}}else typeof b=="function"&&(k.preventDefault(),I=C?Mw(g,C):new FormData(g),wh(c,{pending:!0,data:I,method:g.method,action:b},b,I))},currentTarget:g}]})}}for(var ap=0;ap<Bm.length;ap++){var np=Bm[ap],u5=np.toLowerCase(),d5=np[0].toUpperCase()+np.slice(1);Ma(u5,"on"+d5)}Ma(ub,"onAnimationEnd"),Ma(db,"onAnimationIteration"),Ma(fb,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(A3,"onTransitionRun"),Ma(O3,"onTransitionStart"),Ma(T3,"onTransitionCancel"),Ma(mb,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function kw(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],g=d.event;d=d.listeners;e:{var b=void 0;if(i)for(var C=d.length-1;0<=C;C--){var k=d[C],I=k.instance,J=k.currentTarget;if(k=k.listener,I!==b&&g.isPropagationStopped())break e;b=k,g.currentTarget=J;try{b(g)}catch(de){Tu(de)}g.currentTarget=null,b=I}else for(C=0;C<d.length;C++){if(k=d[C],I=k.instance,J=k.currentTarget,k=k.listener,I!==b&&g.isPropagationStopped())break e;b=k,g.currentTarget=J;try{b(g)}catch(de){Tu(de)}g.currentTarget=null,b=I}}}}function We(s,i){var c=i[gm];c===void 0&&(c=i[gm]=new Set);var d=s+"__bubble";c.has(d)||(Pw(i,s,2,!1),c.add(d))}function sp(s,i,c){var d=0;i&&(d|=4),Pw(c,s,d,i)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function ip(s){if(!s[Hu]){s[Hu]=!0,_y.forEach(function(c){c!=="selectionchange"&&(f5.has(c)||sp(c,!1,s),sp(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Hu]||(i[Hu]=!0,sp("selectionchange",!1,i))}}function Pw(s,i,c,d){switch(a1(i)){case 2:var g=U5;break;case 8:g=q5;break;default:g=bp}c=g.bind(null,i,c,s),g=void 0,!Am||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(i,c,{capture:!0,passive:g}):s.addEventListener(i,c,!0):g!==void 0?s.addEventListener(i,c,{passive:g}):s.addEventListener(i,c,!1)}function lp(s,i,c,d,g){var b=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var k=d.stateNode.containerInfo;if(k===g)break;if(C===4)for(C=d.return;C!==null;){var I=C.tag;if((I===3||I===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;k!==null;){if(C=Ti(k),C===null)return;if(I=C.tag,I===5||I===6||I===26||I===27){d=b=C;continue e}k=k.parentNode}}d=d.return}qy(function(){var J=b,de=_m(c),me=[];e:{var re=hb.get(s);if(re!==void 0){var ae=nu,He=s;switch(s){case"keypress":if(ru(c)===0)break e;case"keydown":case"keyup":ae=i3;break;case"focusin":He="focus",ae=km;break;case"focusout":He="blur",ae=km;break;case"beforeblur":case"afterblur":ae=km;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=YT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=c3;break;case ub:case db:case fb:ae=ZT;break;case mb:ae=d3;break;case"scroll":case"scrollend":ae=GT;break;case"wheel":ae=m3;break;case"copy":case"cut":case"paste":ae=JT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Vy;break;case"toggle":case"beforetoggle":ae=p3}var Le=(i&4)!==0,ft=!Le&&(s==="scroll"||s==="scrollend"),Y=Le?re!==null?re+"Capture":null:re;Le=[];for(var V=J,Q;V!==null;){var fe=V;if(Q=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Q===null||Y===null||(fe=to(V,Y),fe!=null&&Le.push(Lo(V,fe,Q))),ft)break;V=V.return}0<Le.length&&(re=new ae(re,He,null,c,de),me.push({event:re,listeners:Le}))}}if((i&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",re&&c!==Em&&(He=c.relatedTarget||c.fromElement)&&(Ti(He)||He[Oi]))break e;if((ae||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,ae?(He=c.relatedTarget||c.toElement,ae=J,He=He?Ti(He):null,He!==null&&(ft=o(He),Le=He.tag,He!==ft||Le!==5&&Le!==27&&Le!==6)&&(He=null)):(ae=null,He=J),ae!==He)){if(Le=Fy,fe="onMouseLeave",Y="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(Le=Vy,fe="onPointerLeave",Y="onPointerEnter",V="pointer"),ft=ae==null?re:eo(ae),Q=He==null?re:eo(He),re=new Le(fe,V+"leave",ae,c,de),re.target=ft,re.relatedTarget=Q,fe=null,Ti(de)===J&&(Le=new Le(Y,V+"enter",He,c,de),Le.target=Q,Le.relatedTarget=ft,fe=Le),ft=fe,ae&&He)t:{for(Le=ae,Y=He,V=0,Q=Le;Q;Q=ul(Q))V++;for(Q=0,fe=Y;fe;fe=ul(fe))Q++;for(;0<V-Q;)Le=ul(Le),V--;for(;0<Q-V;)Y=ul(Y),Q--;for(;V--;){if(Le===Y||Y!==null&&Le===Y.alternate)break t;Le=ul(Le),Y=ul(Y)}Le=null}else Le=null;ae!==null&&Dw(me,re,ae,Le,!1),He!==null&&ft!==null&&Dw(me,ft,He,Le,!0)}}e:{if(re=J?eo(J):window,ae=re.nodeName&&re.nodeName.toLowerCase(),ae==="select"||ae==="input"&&re.type==="file")var Oe=Jy;else if(Zy(re))if(eb)Oe=E3;else{Oe=N3;var Ye=w3}else ae=re.nodeName,!ae||ae.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?J&&Sm(J.elementType)&&(Oe=Jy):Oe=S3;if(Oe&&(Oe=Oe(s,J))){Qy(me,Oe,c,de);break e}Ye&&Ye(s,re,J),s==="focusout"&&J&&re.type==="number"&&J.memoizedProps.value!=null&&Nm(re,"number",re.value)}switch(Ye=J?eo(J):window,s){case"focusin":(Zy(Ye)||Ye.contentEditable==="true")&&(qi=Ye,Lm=J,co=null);break;case"focusout":co=Lm=qi=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,ob(me,c,de);break;case"selectionchange":if(C3)break;case"keydown":case"keyup":ob(me,c,de)}var Re;if(Dm)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Ui?Xy(s,c)&&(qe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(qe="onCompositionStart");qe&&(Gy&&c.locale!=="ko"&&(Ui||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Ui&&(Re=By()):(Qn=de,Om="value"in Qn?Qn.value:Qn.textContent,Ui=!0)),Ye=Vu(J,qe),0<Ye.length&&(qe=new Hy(qe,s,null,c,de),me.push({event:qe,listeners:Ye}),Re?qe.data=Re:(Re=Wy(c),Re!==null&&(qe.data=Re)))),(Re=g3?v3(s,c):y3(s,c))&&(qe=Vu(J,"onBeforeInput"),0<qe.length&&(Ye=new Hy("onBeforeInput","beforeinput",null,c,de),me.push({event:Ye,listeners:qe}),Ye.data=Re)),c5(me,s,J,c,de)}kw(me,i)})}function Lo(s,i,c){return{instance:s,listener:i,currentTarget:c}}function Vu(s,i){for(var c=i+"Capture",d=[];s!==null;){var g=s,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=to(s,c),g!=null&&d.unshift(Lo(s,g,b)),g=to(s,i),g!=null&&d.push(Lo(s,g,b))),s.tag===3)return d;s=s.return}return[]}function ul(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Dw(s,i,c,d,g){for(var b=i._reactName,C=[];c!==null&&c!==d;){var k=c,I=k.alternate,J=k.stateNode;if(k=k.tag,I!==null&&I===d)break;k!==5&&k!==26&&k!==27||J===null||(I=J,g?(J=to(c,b),J!=null&&C.unshift(Lo(c,J,I))):g||(J=to(c,b),J!=null&&C.push(Lo(c,J,I)))),c=c.return}C.length!==0&&s.push({event:i,listeners:C})}var m5=/\r\n?/g,h5=/\u0000|\uFFFD/g;function Rw(s){return(typeof s=="string"?s:""+s).replace(m5,`
`).replace(h5,"")}function $w(s,i){return i=Rw(i),Rw(s)===i}function Gu(){}function dt(s,i,c,d,g,b){switch(c){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||$i(s,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&$i(s,""+d);break;case"className":Zc(s,"class",d);break;case"tabIndex":Zc(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Zc(s,c,d);break;case"style":Ly(s,d,b);break;case"data":if(i!=="object"){Zc(s,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=eu(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(i!=="input"&&dt(s,i,"name",g.name,g,null),dt(s,i,"formEncType",g.formEncType,g,null),dt(s,i,"formMethod",g.formMethod,g,null),dt(s,i,"formTarget",g.formTarget,g,null)):(dt(s,i,"encType",g.encType,g,null),dt(s,i,"method",g.method,g,null),dt(s,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=eu(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Gu);break;case"onScroll":d!=null&&We("scroll",s);break;case"onScrollEnd":d!=null&&We("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(a(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=eu(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":We("beforetoggle",s),We("toggle",s),Wc(s,"popover",d);break;case"xlinkActuate":fn(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":fn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":fn(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":fn(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":fn(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":fn(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":fn(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":fn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":fn(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Wc(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=HT.get(c)||c,Wc(s,c,d))}}function op(s,i,c,d,g,b){switch(c){case"style":Ly(s,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(a(60));s.innerHTML=c}}break;case"children":typeof d=="string"?$i(s,d):(typeof d=="number"||typeof d=="bigint")&&$i(s,""+d);break;case"onScroll":d!=null&&We("scroll",s);break;case"onScrollEnd":d!=null&&We("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cy.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),i=c.slice(2,g?c.length-7:void 0),b=s[Cr]||null,b=b!=null?b[c]:null,typeof b=="function"&&s.removeEventListener(i,b,g),typeof d=="function")){typeof b!="function"&&b!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(i,d,g);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):Wc(s,c,d)}}}function ir(s,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",s),We("load",s);var d=!1,g=!1,b;for(b in c)if(c.hasOwnProperty(b)){var C=c[b];if(C!=null)switch(b){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:dt(s,i,b,C,c,null)}}g&&dt(s,i,"srcSet",c.srcSet,c,null),d&&dt(s,i,"src",c.src,c,null);return;case"input":We("invalid",s);var k=b=C=g=null,I=null,J=null;for(d in c)if(c.hasOwnProperty(d)){var de=c[d];if(de!=null)switch(d){case"name":g=de;break;case"type":C=de;break;case"checked":I=de;break;case"defaultChecked":J=de;break;case"value":b=de;break;case"defaultValue":k=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,i));break;default:dt(s,i,d,de,c,null)}}Dy(s,b,k,I,J,C,g,!1),Qc(s);return;case"select":We("invalid",s),d=C=b=null;for(g in c)if(c.hasOwnProperty(g)&&(k=c[g],k!=null))switch(g){case"value":b=k;break;case"defaultValue":C=k;break;case"multiple":d=k;default:dt(s,i,g,k,c,null)}i=b,c=C,s.multiple=!!d,i!=null?Ri(s,!!d,i,!1):c!=null&&Ri(s,!!d,c,!0);return;case"textarea":We("invalid",s),b=g=d=null;for(C in c)if(c.hasOwnProperty(C)&&(k=c[C],k!=null))switch(C){case"value":d=k;break;case"defaultValue":g=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(91));break;default:dt(s,i,C,k,c,null)}$y(s,d,g,b),Qc(s);return;case"option":for(I in c)if(c.hasOwnProperty(I)&&(d=c[I],d!=null))switch(I){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:dt(s,i,I,d,c,null)}return;case"dialog":We("beforetoggle",s),We("toggle",s),We("cancel",s),We("close",s);break;case"iframe":case"object":We("load",s);break;case"video":case"audio":for(d=0;d<zo.length;d++)We(zo[d],s);break;case"image":We("error",s),We("load",s);break;case"details":We("toggle",s);break;case"embed":case"source":case"link":We("error",s),We("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(d=c[J],d!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:dt(s,i,J,d,c,null)}return;default:if(Sm(i)){for(de in c)c.hasOwnProperty(de)&&(d=c[de],d!==void 0&&op(s,i,de,d,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(d=c[k],d!=null&&dt(s,i,k,d,c,null))}function p5(s,i,c,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,C=null,k=null,I=null,J=null,de=null;for(ae in c){var me=c[ae];if(c.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":I=me;default:d.hasOwnProperty(ae)||dt(s,i,ae,null,d,me)}}for(var re in d){var ae=d[re];if(me=c[re],d.hasOwnProperty(re)&&(ae!=null||me!=null))switch(re){case"type":b=ae;break;case"name":g=ae;break;case"checked":J=ae;break;case"defaultChecked":de=ae;break;case"value":C=ae;break;case"defaultValue":k=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,i));break;default:ae!==me&&dt(s,i,re,ae,d,me)}}wm(s,C,k,I,J,de,b,g);return;case"select":ae=C=k=re=null;for(b in c)if(I=c[b],c.hasOwnProperty(b)&&I!=null)switch(b){case"value":break;case"multiple":ae=I;default:d.hasOwnProperty(b)||dt(s,i,b,null,d,I)}for(g in d)if(b=d[g],I=c[g],d.hasOwnProperty(g)&&(b!=null||I!=null))switch(g){case"value":re=b;break;case"defaultValue":k=b;break;case"multiple":C=b;default:b!==I&&dt(s,i,g,b,d,I)}i=k,c=C,d=ae,re!=null?Ri(s,!!c,re,!1):!!d!=!!c&&(i!=null?Ri(s,!!c,i,!0):Ri(s,!!c,c?[]:"",!1));return;case"textarea":ae=re=null;for(k in c)if(g=c[k],c.hasOwnProperty(k)&&g!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:dt(s,i,k,null,d,g)}for(C in d)if(g=d[C],b=c[C],d.hasOwnProperty(C)&&(g!=null||b!=null))switch(C){case"value":re=g;break;case"defaultValue":ae=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==b&&dt(s,i,C,g,d,b)}Ry(s,re,ae);return;case"option":for(var He in c)if(re=c[He],c.hasOwnProperty(He)&&re!=null&&!d.hasOwnProperty(He))switch(He){case"selected":s.selected=!1;break;default:dt(s,i,He,null,d,re)}for(I in d)if(re=d[I],ae=c[I],d.hasOwnProperty(I)&&re!==ae&&(re!=null||ae!=null))switch(I){case"selected":s.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:dt(s,i,I,re,d,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in c)re=c[Le],c.hasOwnProperty(Le)&&re!=null&&!d.hasOwnProperty(Le)&&dt(s,i,Le,null,d,re);for(J in d)if(re=d[J],ae=c[J],d.hasOwnProperty(J)&&re!==ae&&(re!=null||ae!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,i));break;default:dt(s,i,J,re,d,ae)}return;default:if(Sm(i)){for(var ft in c)re=c[ft],c.hasOwnProperty(ft)&&re!==void 0&&!d.hasOwnProperty(ft)&&op(s,i,ft,void 0,d,re);for(de in d)re=d[de],ae=c[de],!d.hasOwnProperty(de)||re===ae||re===void 0&&ae===void 0||op(s,i,de,re,d,ae);return}}for(var Y in c)re=c[Y],c.hasOwnProperty(Y)&&re!=null&&!d.hasOwnProperty(Y)&&dt(s,i,Y,null,d,re);for(me in d)re=d[me],ae=c[me],!d.hasOwnProperty(me)||re===ae||re==null&&ae==null||dt(s,i,me,re,d,ae)}var cp=null,up=null;function Ku(s){return s.nodeType===9?s:s.ownerDocument}function zw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lw(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function dp(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fp=null;function x5(){var s=window.event;return s&&s.type==="popstate"?s===fp?!1:(fp=s,!0):(fp=null,!1)}var Uw=typeof setTimeout=="function"?setTimeout:void 0,g5=typeof clearTimeout=="function"?clearTimeout:void 0,qw=typeof Promise=="function"?Promise:void 0,v5=typeof queueMicrotask=="function"?queueMicrotask:typeof qw<"u"?function(s){return qw.resolve(null).then(s).catch(y5)}:Uw;function y5(s){setTimeout(function(){throw s})}function hs(s){return s==="head"}function Bw(s,i){var c=i,d=0,g=0;do{var b=c.nextSibling;if(s.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<d&&8>d){c=d;var C=s.ownerDocument;if(c&1&&Uo(C.documentElement),c&2&&Uo(C.body),c&4)for(c=C.head,Uo(c),C=c.firstChild;C;){var k=C.nextSibling,I=C.nodeName;C[Jl]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=k}}if(g===0){s.removeChild(b),Ko(i);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:d=c.charCodeAt(0)-48;else d=0;c=b}while(c);Ko(i)}function mp(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":mp(c),vm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function b5(s,i,c,d){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Jl])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Pa(s.nextSibling),s===null)break}return null}function j5(s,i,c){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Pa(s.nextSibling),s===null))return null;return s}function hp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function w5(s,i){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")i();else{var d=function(){i(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Pa(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var pp=null;function Iw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}function Fw(s,i,c){switch(i=Ku(c),s){case"html":if(s=i.documentElement,!s)throw Error(a(452));return s;case"head":if(s=i.head,!s)throw Error(a(453));return s;case"body":if(s=i.body,!s)throw Error(a(454));return s;default:throw Error(a(451))}}function Uo(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);vm(s)}var pa=new Map,Hw=new Set;function Yu(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var _n=q.d;q.d={f:N5,r:S5,D:E5,C:_5,L:C5,m:A5,X:T5,S:O5,M:M5};function N5(){var s=_n.f(),i=Uu();return s||i}function S5(s){var i=Mi(s);i!==null&&i.tag===5&&i.type==="form"?uj(i):_n.r(s)}var dl=typeof document>"u"?null:document;function Vw(s,i,c){var d=dl;if(d&&typeof i=="string"&&i){var g=oa(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),Hw.has(g)||(Hw.add(g),s={rel:s,crossOrigin:c,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),ir(i,"link",s),Gt(i),d.head.appendChild(i)))}}function E5(s){_n.D(s),Vw("dns-prefetch",s,null)}function _5(s,i){_n.C(s,i),Vw("preconnect",s,i)}function C5(s,i,c){_n.L(s,i,c);var d=dl;if(d&&s&&i){var g='link[rel="preload"][as="'+oa(i)+'"]';i==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+oa(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+oa(c.imageSizes)+'"]')):g+='[href="'+oa(s)+'"]';var b=g;switch(i){case"style":b=fl(s);break;case"script":b=ml(s)}pa.has(b)||(s=p({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:s,as:i},c),pa.set(b,s),d.querySelector(g)!==null||i==="style"&&d.querySelector(qo(b))||i==="script"&&d.querySelector(Bo(b))||(i=d.createElement("link"),ir(i,"link",s),Gt(i),d.head.appendChild(i)))}}function A5(s,i){_n.m(s,i);var c=dl;if(c&&s){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+oa(d)+'"][href="'+oa(s)+'"]',b=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ml(s)}if(!pa.has(b)&&(s=p({rel:"modulepreload",href:s},i),pa.set(b,s),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Bo(b)))return}d=c.createElement("link"),ir(d,"link",s),Gt(d),c.head.appendChild(d)}}}function O5(s,i,c){_n.S(s,i,c);var d=dl;if(d&&s){var g=ki(d).hoistableStyles,b=fl(s);i=i||"default";var C=g.get(b);if(!C){var k={loading:0,preload:null};if(C=d.querySelector(qo(b)))k.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":i},c),(c=pa.get(b))&&xp(s,c);var I=C=d.createElement("link");Gt(I),ir(I,"link",s),I._p=new Promise(function(J,de){I.onload=J,I.onerror=de}),I.addEventListener("load",function(){k.loading|=1}),I.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Xu(C,i,d)}C={type:"stylesheet",instance:C,count:1,state:k},g.set(b,C)}}}function T5(s,i){_n.X(s,i);var c=dl;if(c&&s){var d=ki(c).hoistableScripts,g=ml(s),b=d.get(g);b||(b=c.querySelector(Bo(g)),b||(s=p({src:s,async:!0},i),(i=pa.get(g))&&gp(s,i),b=c.createElement("script"),Gt(b),ir(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function M5(s,i){_n.M(s,i);var c=dl;if(c&&s){var d=ki(c).hoistableScripts,g=ml(s),b=d.get(g);b||(b=c.querySelector(Bo(g)),b||(s=p({src:s,async:!0,type:"module"},i),(i=pa.get(g))&&gp(s,i),b=c.createElement("script"),Gt(b),ir(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function Gw(s,i,c,d){var g=(g=K.current)?Yu(g):null;if(!g)throw Error(a(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=fl(c.href),c=ki(g).hoistableStyles,d=c.get(i),d||(d={type:"style",instance:null,count:0,state:null},c.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=fl(c.href);var b=ki(g).hoistableStyles,C=b.get(s);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=g.querySelector(qo(s)))&&!b._p&&(C.instance=b,C.state.loading=5),pa.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},pa.set(s,c),b||k5(g,s,c,C.state))),i&&d===null)throw Error(a(528,""));return C}if(i&&d!==null)throw Error(a(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ml(c),c=ki(g).hoistableScripts,d=c.get(i),d||(d={type:"script",instance:null,count:0,state:null},c.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,s))}}function fl(s){return'href="'+oa(s)+'"'}function qo(s){return'link[rel="stylesheet"]['+s+"]"}function Kw(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function k5(s,i,c,d){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=s.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),ir(i,"link",c),Gt(i),s.head.appendChild(i))}function ml(s){return'[src="'+oa(s)+'"]'}function Bo(s){return"script[async]"+s}function Yw(s,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var d=s.querySelector('style[data-href~="'+oa(c.href)+'"]');if(d)return i.instance=d,Gt(d),d;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Gt(d),ir(d,"style",g),Xu(d,c.precedence,s),i.instance=d;case"stylesheet":g=fl(c.href);var b=s.querySelector(qo(g));if(b)return i.state.loading|=4,i.instance=b,Gt(b),b;d=Kw(c),(g=pa.get(g))&&xp(d,g),b=(s.ownerDocument||s).createElement("link"),Gt(b);var C=b;return C._p=new Promise(function(k,I){C.onload=k,C.onerror=I}),ir(b,"link",d),i.state.loading|=4,Xu(b,c.precedence,s),i.instance=b;case"script":return b=ml(c.src),(g=s.querySelector(Bo(b)))?(i.instance=g,Gt(g),g):(d=c,(g=pa.get(b))&&(d=p({},c),gp(d,g)),s=s.ownerDocument||s,g=s.createElement("script"),Gt(g),ir(g,"link",d),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Xu(d,c.precedence,s));return i.instance}function Xu(s,i,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,b=g,C=0;C<d.length;C++){var k=d[C];if(k.dataset.precedence===i)b=k;else if(b!==g)break}b?b.parentNode.insertBefore(s,b.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(s,i.firstChild))}function xp(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function gp(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Wu=null;function Xw(s,i,c){if(Wu===null){var d=new Map,g=Wu=new Map;g.set(c,d)}else g=Wu,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var b=c[g];if(!(b[Jl]||b[mr]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(i)||"";C=s+C;var k=d.get(C);k?k.push(b):d.set(C,[b])}}return d}function Ww(s,i,c){s=s.ownerDocument||s,s.head.insertBefore(c,i==="title"?s.querySelector("head > title"):null)}function P5(s,i,c){if(c===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Zw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Io=null;function D5(){}function R5(s,i,c){if(Io===null)throw Error(a(475));var d=Io;if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=fl(c.href),b=s.querySelector(qo(g));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Zu.bind(d),s.then(d,d)),i.state.loading|=4,i.instance=b,Gt(b);return}b=s.ownerDocument||s,c=Kw(c),(g=pa.get(g))&&xp(c,g),b=b.createElement("link"),Gt(b);var C=b;C._p=new Promise(function(k,I){C.onload=k,C.onerror=I}),ir(b,"link",c),i.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=Zu.bind(d),s.addEventListener("load",i),s.addEventListener("error",i))}}function $5(){if(Io===null)throw Error(a(475));var s=Io;return s.stylesheets&&s.count===0&&vp(s,s.stylesheets),0<s.count?function(i){var c=setTimeout(function(){if(s.stylesheets&&vp(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Zu(){if(this.count--,this.count===0){if(this.stylesheets)vp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qu=null;function vp(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qu=new Map,i.forEach(z5,s),Qu=null,Zu.call(s))}function z5(s,i){if(!(i.state.loading&4)){var c=Qu.get(s);if(c)var d=c.get(null);else{c=new Map,Qu.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var C=g[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),d=C)}d&&c.set(null,d)}g=i.instance,C=g.getAttribute("data-precedence"),b=c.get(C)||d,b===d&&c.set(null,g),c.set(C,g),this.count++,d=Zu.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),b?b.parentNode.insertBefore(g,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var Fo={$$typeof:A,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function L5(s,i,c,d,g,b,C,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Je(0),this.hiddenUpdates=Je(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Qw(s,i,c,d,g,b,C,k,I,J,de,me){return s=new L5(s,i,c,C,k,I,J,me),i=1,b===!0&&(i|=24),b=Br(3,null,null,i),s.current=b,b.stateNode=s,i=Jm(),i.refCount++,s.pooledCache=i,i.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:i},ah(b),s}function Jw(s){return s?(s=Hi,s):Hi}function e1(s,i,c,d,g,b){g=Jw(g),d.context===null?d.context=g:d.pendingContext=g,d=ts(i),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=rs(s,d,i),c!==null&&(Gr(c,s,i),yo(c,s,i))}function t1(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function yp(s,i){t1(s,i),(s=s.alternate)&&t1(s,i)}function r1(s){if(s.tag===13){var i=Fi(s,67108864);i!==null&&Gr(i,s,67108864),yp(s,67108864)}}var Ju=!0;function U5(s,i,c,d){var g=$.T;$.T=null;var b=q.p;try{q.p=2,bp(s,i,c,d)}finally{q.p=b,$.T=g}}function q5(s,i,c,d){var g=$.T;$.T=null;var b=q.p;try{q.p=8,bp(s,i,c,d)}finally{q.p=b,$.T=g}}function bp(s,i,c,d){if(Ju){var g=jp(d);if(g===null)lp(s,i,d,ed,c),n1(s,d);else if(I5(g,s,i,c,d))d.stopPropagation();else if(n1(s,d),i&4&&-1<B5.indexOf(s)){for(;g!==null;){var b=Mi(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=ar(b.pendingLanes);if(C!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;C;){var I=1<<31-Ue(C);k.entanglements[1]|=I,C&=~I}Za(b),(st&6)===0&&(zu=pe()+500,$o(0))}}break;case 13:k=Fi(b,2),k!==null&&Gr(k,b,2),Uu(),yp(b,2)}if(b=jp(d),b===null&&lp(s,i,d,ed,c),b===g)break;g=b}g!==null&&d.stopPropagation()}else lp(s,i,d,null,c)}}function jp(s){return s=_m(s),wp(s)}var ed=null;function wp(s){if(ed=null,s=Ti(s),s!==null){var i=o(s);if(i===null)s=null;else{var c=i.tag;if(c===13){if(s=u(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return ed=s,null}function a1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case Be:return 2;case ke:return 8;case Qe:case xe:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var Np=!1,ps=null,xs=null,gs=null,Ho=new Map,Vo=new Map,vs=[],B5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n1(s,i){switch(s){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Ho.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(i.pointerId)}}function Go(s,i,c,d,g,b){return s===null||s.nativeEvent!==b?(s={blockedOn:i,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[g]},i!==null&&(i=Mi(i),i!==null&&r1(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function I5(s,i,c,d,g){switch(i){case"focusin":return ps=Go(ps,s,i,c,d,g),!0;case"dragenter":return xs=Go(xs,s,i,c,d,g),!0;case"mouseover":return gs=Go(gs,s,i,c,d,g),!0;case"pointerover":var b=g.pointerId;return Ho.set(b,Go(Ho.get(b)||null,s,i,c,d,g)),!0;case"gotpointercapture":return b=g.pointerId,Vo.set(b,Go(Vo.get(b)||null,s,i,c,d,g)),!0}return!1}function s1(s){var i=Ti(s.target);if(i!==null){var c=o(i);if(c!==null){if(i=c.tag,i===13){if(i=u(c),i!==null){s.blockedOn=i,RT(s.priority,function(){if(c.tag===13){var d=Vr();d=pm(d);var g=Fi(c,d);g!==null&&Gr(g,c,d),yp(c,d)}});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function td(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=jp(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);Em=d,c.target.dispatchEvent(d),Em=null}else return i=Mi(c),i!==null&&r1(i),s.blockedOn=c,!1;i.shift()}return!0}function i1(s,i,c){td(s)&&c.delete(i)}function F5(){Np=!1,ps!==null&&td(ps)&&(ps=null),xs!==null&&td(xs)&&(xs=null),gs!==null&&td(gs)&&(gs=null),Ho.forEach(i1),Vo.forEach(i1)}function rd(s,i){s.blockedOn===i&&(s.blockedOn=null,Np||(Np=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,F5)))}var ad=null;function l1(s){ad!==s&&(ad=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ad===s&&(ad=null);for(var i=0;i<s.length;i+=3){var c=s[i],d=s[i+1],g=s[i+2];if(typeof d!="function"){if(wp(d||c)===null)continue;break}var b=Mi(c);b!==null&&(s.splice(i,3),i-=3,wh(b,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function Ko(s){function i(I){return rd(I,s)}ps!==null&&rd(ps,s),xs!==null&&rd(xs,s),gs!==null&&rd(gs,s),Ho.forEach(i),Vo.forEach(i);for(var c=0;c<vs.length;c++){var d=vs[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<vs.length&&(c=vs[0],c.blockedOn===null);)s1(c),c.blockedOn===null&&vs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],b=c[d+1],C=g[Cr]||null;if(typeof b=="function")C||l1(c);else if(C){var k=null;if(b&&b.hasAttribute("formAction")){if(g=b,C=b[Cr]||null)k=C.formAction;else if(wp(g)!==null)continue}else k=C.action;typeof k=="function"?c[d+1]=k:(c.splice(d,3),d-=3),l1(c)}}}function Sp(s){this._internalRoot=s}nd.prototype.render=Sp.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(a(409));var c=i.current,d=Vr();e1(c,d,s,i,null,null)},nd.prototype.unmount=Sp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;e1(s.current,2,null,s,null,null),Uu(),i[Oi]=null}};function nd(s){this._internalRoot=s}nd.prototype.unstable_scheduleHydration=function(s){if(s){var i=Sy();s={blockedOn:null,target:s,priority:i};for(var c=0;c<vs.length&&i!==0&&i<vs[c].priority;c++);vs.splice(c,0,s),c===0&&s1(s)}};var o1=t.version;if(o1!=="19.1.1")throw Error(a(527,o1,"19.1.1"));q.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(a(188)):(s=Object.keys(s).join(","),Error(a(268,s)));return s=m(i),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var H5={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{te=sd.inject(H5),oe=sd}catch{}}return Xo.createRoot=function(s,i){if(!l(s))throw Error(a(299));var c=!1,d="",g=Sj,b=Ej,C=_j,k=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(k=i.unstable_transitionCallbacks)),i=Qw(s,1,!1,null,null,c,d,g,b,C,k,null),s[Oi]=i.current,ip(s),new Sp(i)},Xo.hydrateRoot=function(s,i,c){if(!l(s))throw Error(a(299));var d=!1,g="",b=Sj,C=Ej,k=_j,I=null,J=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(I=c.unstable_transitionCallbacks),c.formState!==void 0&&(J=c.formState)),i=Qw(s,1,!0,i,c??null,d,g,b,C,k,I,J),i.context=Jw(null),c=i.current,d=Vr(),d=pm(d),g=ts(d),g.callback=null,rs(c,g,d),c=d,i.current.lanes=c,gt(i,c),Za(i),s[Oi]=i.current,ip(s),new nd(i)},Xo.version="19.1.1",Xo}var y1;function J5(){if(y1)return Cp.exports;y1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cp.exports=Q5(),Cp.exports}var e6=J5();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b1="popstate";function t6(e={}){function t(a,l){let{pathname:o,search:u,hash:f}=a.location;return gg("",{pathname:o,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){return typeof l=="string"?l:xc(l)}return a6(t,r,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r6(){return Math.random().toString(36).substring(2,10)}function j1(e,t){return{usr:e.state,key:e.key,idx:t}}function gg(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ul(t):t,state:r,key:t&&t.key||a||r6()}}function xc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ul(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function a6(e,t,r,a={}){let{window:l=document.defaultView,v5Compat:o=!1}=a,u=l.history,f="POP",m=null,h=p();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function p(){return(u.state||{idx:null}).idx}function x(){f="POP";let S=p(),E=S==null?null:S-h;h=S,m&&m({action:f,location:w.location,delta:E})}function v(S,E){f="PUSH";let _=gg(w.location,S,E);h=p()+1;let A=j1(_,h),P=w.createHref(_);try{u.pushState(A,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;l.location.assign(P)}o&&m&&m({action:f,location:w.location,delta:1})}function j(S,E){f="REPLACE";let _=gg(w.location,S,E);h=p();let A=j1(_,h),P=w.createHref(_);u.replaceState(A,"",P),o&&m&&m({action:f,location:w.location,delta:0})}function N(S){return n6(S)}let w={get action(){return f},get location(){return e(l,u)},listen(S){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(b1,x),m=S,()=>{l.removeEventListener(b1,x),m=null}},createHref(S){return t(l,S)},createURL:N,encodeLocation(S){let E=N(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:j,go(S){return u.go(S)}};return w}function n6(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),_t(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:xc(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function a_(e,t,r="/"){return s6(e,t,r,!1)}function s6(e,t,r,a){let l=typeof t=="string"?Ul(t):t,o=$n(l.pathname||"/",r);if(o==null)return null;let u=n_(e);i6(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let h=g6(o);f=p6(u[m],h,a)}return f}function n_(e,t=[],r=[],a=""){let l=(o,u,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};m.relativePath.startsWith("/")&&(_t(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let h=Pn([a,m.relativePath]),p=r.concat(m);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),n_(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:m6(h,o.index),routesMeta:p})};return e.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))l(o,u);else for(let f of s_(o.path))l(o,u,f)}),t}function s_(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return l?[o,""]:[o];let u=s_(a.join("/")),f=[];return f.push(...u.map(m=>m===""?o:[o,m].join("/"))),l&&f.push(...u),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function i6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:h6(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var l6=/^:[\w-]+$/,o6=3,c6=2,u6=1,d6=10,f6=-2,w1=e=>e==="*";function m6(e,t){let r=e.split("/"),a=r.length;return r.some(w1)&&(a+=f6),t&&(a+=c6),r.filter(l=>!w1(l)).reduce((l,o)=>l+(l6.test(o)?o6:o===""?u6:d6),a)}function h6(e,t){return e.length===t.length&&e.slice(0,-1).every((a,l)=>a===t[l])?e[e.length-1]-t[t.length-1]:0}function p6(e,t,r=!1){let{routesMeta:a}=e,l={},o="/",u=[];for(let f=0;f<a.length;++f){let m=a[f],h=f===a.length-1,p=o==="/"?t:t.slice(o.length)||"/",x=Td({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},p),v=m.route;if(!x&&h&&r&&!a[a.length-1].route.index&&(x=Td({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!x)return null;Object.assign(l,x.params),u.push({params:l,pathname:Pn([o,x.pathname]),pathnameBase:j6(Pn([o,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(o=Pn([o,x.pathnameBase]))}return u}function Td(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=x6(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let o=l[0],u=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((h,{paramName:p,isOptional:x},v)=>{if(p==="*"){let N=f[v]||"";u=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const j=f[v];return x&&!j?h[p]=void 0:h[p]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:e}}function x6(e,t=!1,r=!0){qa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(a.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function g6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $n(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function v6(e,t="/"){let{pathname:r,search:a="",hash:l=""}=typeof e=="string"?Ul(e):e;return{pathname:r?r.startsWith("/")?r:y6(r,t):t,search:w6(a),hash:N6(l)}}function y6(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Mp(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _0(e){let t=b6(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function C0(e,t,r,a=!1){let l;typeof e=="string"?l=Ul(e):(l={...e},_t(!l.pathname||!l.pathname.includes("?"),Mp("?","pathname","search",l)),_t(!l.pathname||!l.pathname.includes("#"),Mp("#","pathname","hash",l)),_t(!l.search||!l.search.includes("#"),Mp("#","search","hash",l)));let o=e===""||l.pathname==="",u=o?"/":l.pathname,f;if(u==null)f=r;else{let x=t.length-1;if(!a&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),x-=1;l.pathname=v.join("/")}f=x>=0?t[x]:"/"}let m=v6(l,f),h=u&&u!=="/"&&u.endsWith("/"),p=(o||u===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(h||p)&&(m.pathname+="/"),m}var Pn=e=>e.join("/").replace(/\/\/+/g,"/"),j6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),w6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var i_=["POST","PUT","PATCH","DELETE"];new Set(i_);var E6=["GET",...i_];new Set(E6);var ql=y.createContext(null);ql.displayName="DataRouter";var jf=y.createContext(null);jf.displayName="DataRouterState";y.createContext(!1);var l_=y.createContext({isTransitioning:!1});l_.displayName="ViewTransition";var _6=y.createContext(new Map);_6.displayName="Fetchers";var C6=y.createContext(null);C6.displayName="Await";var Ia=y.createContext(null);Ia.displayName="Navigation";var Mc=y.createContext(null);Mc.displayName="Location";var dn=y.createContext({outlet:null,matches:[],isDataRoute:!1});dn.displayName="Route";var A0=y.createContext(null);A0.displayName="RouteError";function A6(e,{relative:t}={}){_t(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=y.useContext(Ia),{hash:l,pathname:o,search:u}=kc(e,{relative:t}),f=o;return r!=="/"&&(f=o==="/"?r:Pn([r,o])),a.createHref({pathname:f,search:u,hash:l})}function Bl(){return y.useContext(Mc)!=null}function In(){return _t(Bl(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Mc).location}var o_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function c_(e){y.useContext(Ia).static||y.useLayoutEffect(e)}function Fn(){let{isDataRoute:e}=y.useContext(dn);return e?B6():O6()}function O6(){_t(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(ql),{basename:t,navigator:r}=y.useContext(Ia),{matches:a}=y.useContext(dn),{pathname:l}=In(),o=JSON.stringify(_0(a)),u=y.useRef(!1);return c_(()=>{u.current=!0}),y.useCallback((m,h={})=>{if(qa(u.current,o_),!u.current)return;if(typeof m=="number"){r.go(m);return}let p=C0(m,JSON.parse(o),l,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Pn([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,o,l,e])}y.createContext(null);function kc(e,{relative:t}={}){let{matches:r}=y.useContext(dn),{pathname:a}=In(),l=JSON.stringify(_0(r));return y.useMemo(()=>C0(e,JSON.parse(l),a,t==="path"),[e,l,a,t])}function T6(e,t){return u_(e,t)}function u_(e,t,r,a){_t(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=y.useContext(Ia),{matches:o}=y.useContext(dn),u=o[o.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let E=p&&p.path||"";d_(m,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let x=In(),v;if(t){let E=typeof t=="string"?Ul(t):t;_t(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=x;let j=v.pathname||"/",N=j;if(h!=="/"){let E=h.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=a_(e,{pathname:N});qa(p||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),qa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=R6(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:Pn([h,l.encodeLocation?l.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Pn([h,l.encodeLocation?l.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,r,a);return t&&S?y.createElement(Mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function M6(){let e=q6(),t=S6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:o},"ErrorBoundary")," or"," ",y.createElement("code",{style:o},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:l},r):null,u)}var k6=y.createElement(M6,null),P6=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?y.createElement(dn.Provider,{value:this.props.routeContext},y.createElement(A0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D6({routeContext:e,match:t,children:r}){let a=y.useContext(ql);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(dn.Provider,{value:e},r)}function R6(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=r?.errors;if(o!=null){let m=l.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);_t(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,f=-1;if(r)for(let m=0;m<l.length;m++){let h=l[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=m),h.route.id){let{loaderData:p,errors:x}=r,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||v){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,h,p)=>{let x,v=!1,j=null,N=null;r&&(x=o&&h.route.id?o[h.route.id]:void 0,j=h.route.errorElement||k6,u&&(f<0&&p===0?(d_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,N=null):f===p&&(v=!0,N=h.route.hydrateFallbackElement||null)));let w=t.concat(l.slice(0,p+1)),S=()=>{let E;return x?E=j:v?E=N:h.route.Component?E=y.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=m,y.createElement(D6,{match:h,routeContext:{outlet:m,matches:w,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(P6,{location:r.location,revalidation:r.revalidation,component:j,error:x,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function O0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $6(e){let t=y.useContext(ql);return _t(t,O0(e)),t}function z6(e){let t=y.useContext(jf);return _t(t,O0(e)),t}function L6(e){let t=y.useContext(dn);return _t(t,O0(e)),t}function T0(e){let t=L6(e),r=t.matches[t.matches.length-1];return _t(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function U6(){return T0("useRouteId")}function q6(){let e=y.useContext(A0),t=z6("useRouteError"),r=T0("useRouteError");return e!==void 0?e:t.errors?.[r]}function B6(){let{router:e}=$6("useNavigate"),t=T0("useNavigate"),r=y.useRef(!1);return c_(()=>{r.current=!0}),y.useCallback(async(l,o={})=>{qa(r.current,o_),r.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...o}))},[e,t])}var N1={};function d_(e,t,r){!t&&!N1[e]&&(N1[e]=!0,qa(!1,r))}y.memo(I6);function I6({routes:e,future:t,state:r}){return u_(e,void 0,r,t)}function Da({to:e,replace:t,state:r,relative:a}){_t(Bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=y.useContext(Ia);qa(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=y.useContext(dn),{pathname:u}=In(),f=Fn(),m=C0(e,_0(o),u,a==="path"),h=JSON.stringify(m);return y.useEffect(()=>{f(JSON.parse(h),{replace:t,state:r,relative:a})},[f,h,a,t,r]),null}function Wr(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F6({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:l,static:o=!1}){_t(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=y.useMemo(()=>({basename:u,navigator:l,static:o,future:{}}),[u,l,o]);typeof r=="string"&&(r=Ul(r));let{pathname:m="/",search:h="",hash:p="",state:x=null,key:v="default"}=r,j=y.useMemo(()=>{let N=$n(m,u);return N==null?null:{location:{pathname:N,search:h,hash:p,state:x,key:v},navigationType:a}},[u,m,h,p,x,v,a]);return qa(j!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:y.createElement(Ia.Provider,{value:f},y.createElement(Mc.Provider,{children:t,value:j}))}function f_({children:e,location:t}){return T6(vg(e),t)}function vg(e,t=[]){let r=[];return y.Children.forEach(e,(a,l)=>{if(!y.isValidElement(a))return;let o=[...t,l];if(a.type===y.Fragment){r.push.apply(r,vg(a.props.children,o));return}_t(a.type===Wr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=vg(a.props.children,o)),r.push(u)}),r}var wd="get",Nd="application/x-www-form-urlencoded";function wf(e){return e!=null&&typeof e.tagName=="string"}function H6(e){return wf(e)&&e.tagName.toLowerCase()==="button"}function V6(e){return wf(e)&&e.tagName.toLowerCase()==="form"}function G6(e){return wf(e)&&e.tagName.toLowerCase()==="input"}function K6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Y6(e,t){return e.button===0&&(!t||t==="_self")&&!K6(e)}var id=null;function X6(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var W6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kp(e){return e!=null&&!W6.has(e)?(qa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nd}"`),null):e}function Z6(e,t){let r,a,l,o,u;if(V6(e)){let f=e.getAttribute("action");a=f?$n(f,t):null,r=e.getAttribute("method")||wd,l=kp(e.getAttribute("enctype"))||Nd,o=new FormData(e)}else if(H6(e)||G6(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(a=m?$n(m,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||wd,l=kp(e.getAttribute("formenctype"))||kp(f.getAttribute("enctype"))||Nd,o=new FormData(f,e),!X6()){let{name:h,type:p,value:x}=e;if(p==="image"){let v=h?`${h}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else h&&o.append(h,x)}}else{if(wf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wd,a=null,l=Nd,u=e}return o&&l==="text/plain"&&(u=o,o=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q6(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&$n(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function J6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tM(e,t,r){let a=await Promise.all(e.map(async l=>{let o=t.routes[l.route.id];if(o){let u=await J6(o,r);return u.links?u.links():[]}return[]}));return sM(a.flat(1).filter(eM).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function S1(e,t,r,a,l,o){let u=(m,h)=>r[h]?m.route.id!==r[h].route.id:!0,f=(m,h)=>r[h].pathname!==m.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==m.params["*"];return o==="assets"?t.filter((m,h)=>u(m,h)||f(m,h)):o==="data"?t.filter((m,h)=>{let p=a.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(u(m,h)||f(m,h))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function rM(e,t,{includeHydrateFallback:r}={}){return aM(e.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function aM(e){return[...new Set(e)]}function nM(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function sM(e,t){let r=new Set;return new Set(t),e.reduce((a,l)=>{let o=JSON.stringify(nM(l));return r.has(o)||(r.add(o),a.push({key:o,link:l})),a},[])}function m_(){let e=y.useContext(ql);return M0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function iM(){let e=y.useContext(jf);return M0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var k0=y.createContext(void 0);k0.displayName="FrameworkContext";function h_(){let e=y.useContext(k0);return M0(e,"You must render this element inside a <HydratedRouter> element"),e}function lM(e,t){let r=y.useContext(k0),[a,l]=y.useState(!1),[o,u]=y.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:h,onMouseLeave:p,onTouchStart:x}=t,v=y.useRef(null);y.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let w=E=>{E.forEach(_=>{u(_.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),y.useEffect(()=>{if(a){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[a]);let j=()=>{l(!0)},N=()=>{l(!1),u(!1)};return r?e!=="intent"?[o,v,{}]:[o,v,{onFocus:Wo(f,j),onBlur:Wo(m,N),onMouseEnter:Wo(h,j),onMouseLeave:Wo(p,N),onTouchStart:Wo(x,j)}]:[!1,v,{}]}function Wo(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function oM({page:e,...t}){let{router:r}=m_(),a=y.useMemo(()=>a_(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?y.createElement(uM,{page:e,matches:a,...t}):null}function cM(e){let{manifest:t,routeModules:r}=h_(),[a,l]=y.useState([]);return y.useEffect(()=>{let o=!1;return tM(e,t,r).then(u=>{o||l(u)}),()=>{o=!0}},[e,t,r]),a}function uM({page:e,matches:t,...r}){let a=In(),{manifest:l,routeModules:o}=h_(),{basename:u}=m_(),{loaderData:f,matches:m}=iM(),h=y.useMemo(()=>S1(e,t,m,l,a,"data"),[e,t,m,l,a]),p=y.useMemo(()=>S1(e,t,m,l,a,"assets"),[e,t,m,l,a]),x=y.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let N=new Set,w=!1;if(t.forEach(E=>{let _=l.routes[E.route.id];!_||!_.hasLoader||(!h.some(A=>A.route.id===E.route.id)&&E.route.id in f&&o[E.route.id]?.shouldRevalidate||_.hasClientLoader?w=!0:N.add(E.route.id))}),N.size===0)return[];let S=Q6(e,u,"data");return w&&N.size>0&&S.searchParams.set("_routes",t.filter(E=>N.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[u,f,a,l,h,t,e,o]),v=y.useMemo(()=>rM(p,l),[p,l]),j=cM(p);return y.createElement(y.Fragment,null,x.map(N=>y.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),v.map(N=>y.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),j.map(({key:N,link:w})=>y.createElement("link",{key:N,...w})))}function dM(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var p_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p_&&(window.__reactRouterVersion="7.7.1")}catch{}function fM({basename:e,children:t,window:r}){let a=y.useRef();a.current==null&&(a.current=t6({window:r,v5Compat:!0}));let l=a.current,[o,u]=y.useState({action:l.action,location:l.location}),f=y.useCallback(m=>{y.startTransition(()=>u(m))},[u]);return y.useLayoutEffect(()=>l.listen(f),[l,f]),y.createElement(F6,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:l})}var x_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P0=y.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:l,reloadDocument:o,replace:u,state:f,target:m,to:h,preventScrollReset:p,viewTransition:x,...v},j){let{basename:N}=y.useContext(Ia),w=typeof h=="string"&&x_.test(h),S,E=!1;if(typeof h=="string"&&w&&(S=h,p_))try{let F=new URL(window.location.href),W=h.startsWith("//")?new URL(F.protocol+h):new URL(h),R=$n(W.pathname,N);W.origin===F.origin&&R!=null?h=R+W.search+W.hash:E=!0}catch{qa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=A6(h,{relative:l}),[A,P,D]=lM(a,v),M=xM(h,{replace:u,state:f,target:m,preventScrollReset:p,relative:l,viewTransition:x});function O(F){t&&t(F),F.defaultPrevented||M(F)}let z=y.createElement("a",{...v,...D,href:S||_,onClick:E||o?t:O,ref:dM(j,P),target:m,"data-discover":!w&&r==="render"?"true":void 0});return A&&!w?y.createElement(y.Fragment,null,z,y.createElement(oM,{page:_})):z});P0.displayName="Link";var mM=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:l=!1,style:o,to:u,viewTransition:f,children:m,...h},p){let x=kc(u,{relative:h.relative}),v=In(),j=y.useContext(jf),{navigator:N,basename:w}=y.useContext(Ia),S=j!=null&&jM(x)&&f===!0,E=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,_=v.pathname,A=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(_=_.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&w&&(A=$n(A,w)||A);const P=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=_===E||!l&&_.startsWith(E)&&_.charAt(P)==="/",M=A!=null&&(A===E||!l&&A.startsWith(E)&&A.charAt(E.length)==="/"),O={isActive:D,isPending:M,isTransitioning:S},z=D?t:void 0,F;typeof a=="function"?F=a(O):F=[a,D?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let W=typeof o=="function"?o(O):o;return y.createElement(P0,{...h,"aria-current":z,className:F,ref:p,style:W,to:u,viewTransition:f},typeof m=="function"?m(O):m)});mM.displayName="NavLink";var hM=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:l,state:o,method:u=wd,action:f,onSubmit:m,relative:h,preventScrollReset:p,viewTransition:x,...v},j)=>{let N=yM(),w=bM(f,{relative:h}),S=u.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&x_.test(f),_=A=>{if(m&&m(A),A.defaultPrevented)return;A.preventDefault();let P=A.nativeEvent.submitter,D=P?.getAttribute("formmethod")||u;N(P||A.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:l,state:o,relative:h,preventScrollReset:p,viewTransition:x})};return y.createElement("form",{ref:j,method:S,action:w,onSubmit:a?m:_,...v,"data-discover":!E&&e==="render"?"true":void 0})});hM.displayName="Form";function pM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g_(e){let t=y.useContext(ql);return _t(t,pM(e)),t}function xM(e,{target:t,replace:r,state:a,preventScrollReset:l,relative:o,viewTransition:u}={}){let f=Fn(),m=In(),h=kc(e,{relative:o});return y.useCallback(p=>{if(Y6(p,t)){p.preventDefault();let x=r!==void 0?r:xc(m)===xc(h);f(e,{replace:x,state:a,preventScrollReset:l,relative:o,viewTransition:u})}},[m,f,h,r,a,t,e,l,o,u])}var gM=0,vM=()=>`__${String(++gM)}__`;function yM(){let{router:e}=g_("useSubmit"),{basename:t}=y.useContext(Ia),r=U6();return y.useCallback(async(a,l={})=>{let{action:o,method:u,encType:f,formData:m,body:h}=Z6(a,t);if(l.navigate===!1){let p=l.fetcherKey||vM();await e.fetch(p,r,l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:h,formMethod:l.method||u,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:h,formMethod:l.method||u,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,r])}function bM(e,{relative:t}={}){let{basename:r}=y.useContext(Ia),a=y.useContext(dn);_t(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),o={...kc(e||".",{relative:t})},u=In();if(e==null){o.search=u.search;let f=new URLSearchParams(o.search),m=f.getAll("index");if(m.some(p=>p==="")){f.delete("index"),m.filter(x=>x).forEach(x=>f.append("index",x));let p=f.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Pn([r,o.pathname])),xc(o)}function jM(e,{relative:t}={}){let r=y.useContext(l_);_t(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=g_("useViewTransitionState"),l=kc(e,{relative:t});if(!r.isTransitioning)return!1;let o=$n(r.currentLocation.pathname,a)||r.currentLocation.pathname,u=$n(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Td(l.pathname,u)!=null||Td(l.pathname,o)!=null}var v_=r_();function y_(e,t){return function(){return e.apply(t,arguments)}}const{toString:wM}=Object.prototype,{getPrototypeOf:D0}=Object,{iterator:Nf,toStringTag:b_}=Symbol,Sf=(e=>t=>{const r=wM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Fa=e=>(e=e.toLowerCase(),t=>Sf(t)===e),Ef=e=>t=>typeof t===e,{isArray:Il}=Array,gc=Ef("undefined");function Pc(e){return e!==null&&!gc(e)&&e.constructor!==null&&!gc(e.constructor)&&Rr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const j_=Fa("ArrayBuffer");function NM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&j_(e.buffer),t}const SM=Ef("string"),Rr=Ef("function"),w_=Ef("number"),Dc=e=>e!==null&&typeof e=="object",EM=e=>e===!0||e===!1,Sd=e=>{if(Sf(e)!=="object")return!1;const t=D0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(b_ in e)&&!(Nf in e)},_M=e=>{if(!Dc(e)||Pc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},CM=Fa("Date"),AM=Fa("File"),OM=Fa("Blob"),TM=Fa("FileList"),MM=e=>Dc(e)&&Rr(e.pipe),kM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Rr(e.append)&&((t=Sf(e))==="formdata"||t==="object"&&Rr(e.toString)&&e.toString()==="[object FormData]"))},PM=Fa("URLSearchParams"),[DM,RM,$M,zM]=["ReadableStream","Request","Response","Headers"].map(Fa),LM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,l;if(typeof e!="object"&&(e=[e]),Il(e))for(a=0,l=e.length;a<l;a++)t.call(null,e[a],a,e);else{if(Pc(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),u=o.length;let f;for(a=0;a<u;a++)f=o[a],t.call(null,e[f],f,e)}}function N_(e,t){if(Pc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,l;for(;a-- >0;)if(l=r[a],t===l.toLowerCase())return l;return null}const ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,S_=e=>!gc(e)&&e!==ai;function yg(){const{caseless:e}=S_(this)&&this||{},t={},r=(a,l)=>{const o=e&&N_(t,l)||l;Sd(t[o])&&Sd(a)?t[o]=yg(t[o],a):Sd(a)?t[o]=yg({},a):Il(a)?t[o]=a.slice():t[o]=a};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Rc(arguments[a],r);return t}const UM=(e,t,r,{allOwnKeys:a}={})=>(Rc(t,(l,o)=>{r&&Rr(l)?e[o]=y_(l,r):e[o]=l},{allOwnKeys:a}),e),qM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BM=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},IM=(e,t,r,a)=>{let l,o,u;const f={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),o=l.length;o-- >0;)u=l[o],(!a||a(u,e,t))&&!f[u]&&(t[u]=e[u],f[u]=!0);e=r!==!1&&D0(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},FM=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},HM=e=>{if(!e)return null;if(Il(e))return e;let t=e.length;if(!w_(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},VM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&D0(Uint8Array)),GM=(e,t)=>{const a=(e&&e[Nf]).call(e);let l;for(;(l=a.next())&&!l.done;){const o=l.value;t.call(e,o[0],o[1])}},KM=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},YM=Fa("HTMLFormElement"),XM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,l){return a.toUpperCase()+l}),E1=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),WM=Fa("RegExp"),E_=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Rc(r,(l,o)=>{let u;(u=t(l,o,e))!==!1&&(a[o]=u||l)}),Object.defineProperties(e,a)},ZM=e=>{E_(e,(t,r)=>{if(Rr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Rr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},QM=(e,t)=>{const r={},a=l=>{l.forEach(o=>{r[o]=!0})};return Il(e)?a(e):a(String(e).split(t)),r},JM=()=>{},ek=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function tk(e){return!!(e&&Rr(e.append)&&e[b_]==="FormData"&&e[Nf])}const rk=e=>{const t=new Array(10),r=(a,l)=>{if(Dc(a)){if(t.indexOf(a)>=0)return;if(Pc(a))return a;if(!("toJSON"in a)){t[l]=a;const o=Il(a)?[]:{};return Rc(a,(u,f)=>{const m=r(u,l+1);!gc(m)&&(o[f]=m)}),t[l]=void 0,o}}return a};return r(e,0)},ak=Fa("AsyncFunction"),nk=e=>e&&(Dc(e)||Rr(e))&&Rr(e.then)&&Rr(e.catch),__=((e,t)=>e?setImmediate:t?((r,a)=>(ai.addEventListener("message",({source:l,data:o})=>{l===ai&&o===r&&a.length&&a.shift()()},!1),l=>{a.push(l),ai.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Rr(ai.postMessage)),sk=typeof queueMicrotask<"u"?queueMicrotask.bind(ai):typeof process<"u"&&process.nextTick||__,ik=e=>e!=null&&Rr(e[Nf]),se={isArray:Il,isArrayBuffer:j_,isBuffer:Pc,isFormData:kM,isArrayBufferView:NM,isString:SM,isNumber:w_,isBoolean:EM,isObject:Dc,isPlainObject:Sd,isEmptyObject:_M,isReadableStream:DM,isRequest:RM,isResponse:$M,isHeaders:zM,isUndefined:gc,isDate:CM,isFile:AM,isBlob:OM,isRegExp:WM,isFunction:Rr,isStream:MM,isURLSearchParams:PM,isTypedArray:VM,isFileList:TM,forEach:Rc,merge:yg,extend:UM,trim:LM,stripBOM:qM,inherits:BM,toFlatObject:IM,kindOf:Sf,kindOfTest:Fa,endsWith:FM,toArray:HM,forEachEntry:GM,matchAll:KM,isHTMLForm:YM,hasOwnProperty:E1,hasOwnProp:E1,reduceDescriptors:E_,freezeMethods:ZM,toObjectSet:QM,toCamelCase:XM,noop:JM,toFiniteNumber:ek,findKey:N_,global:ai,isContextDefined:S_,isSpecCompliantForm:tk,toJSONObject:rk,isAsyncFn:ak,isThenable:nk,setImmediate:__,asap:sk,isIterable:ik};function Ve(e,t,r,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),l&&(this.response=l,this.status=l.status?l.status:null)}se.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const C_=Ve.prototype,A_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{A_[e]={value:e}});Object.defineProperties(Ve,A_);Object.defineProperty(C_,"isAxiosError",{value:!0});Ve.from=(e,t,r,a,l,o)=>{const u=Object.create(C_);return se.toFlatObject(e,u,function(m){return m!==Error.prototype},f=>f!=="isAxiosError"),Ve.call(u,e.message,t,r,a,l),u.cause=e,u.name=e.name,o&&Object.assign(u,o),u};const lk=null;function bg(e){return se.isPlainObject(e)||se.isArray(e)}function O_(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function _1(e,t,r){return e?e.concat(t).map(function(l,o){return l=O_(l),!r&&o?"["+l+"]":l}).join(r?".":""):t}function ok(e){return se.isArray(e)&&!e.some(bg)}const ck=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function _f(e,t,r){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!se.isUndefined(S[w])});const a=r.metaTokens,l=r.visitor||p,o=r.dots,u=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(l))throw new TypeError("visitor must be a function");function h(N){if(N===null)return"";if(se.isDate(N))return N.toISOString();if(se.isBoolean(N))return N.toString();if(!m&&se.isBlob(N))throw new Ve("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(N)||se.isTypedArray(N)?m&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function p(N,w,S){let E=N;if(N&&!S&&typeof N=="object"){if(se.endsWith(w,"{}"))w=a?w:w.slice(0,-2),N=JSON.stringify(N);else if(se.isArray(N)&&ok(N)||(se.isFileList(N)||se.endsWith(w,"[]"))&&(E=se.toArray(N)))return w=O_(w),E.forEach(function(A,P){!(se.isUndefined(A)||A===null)&&t.append(u===!0?_1([w],P,o):u===null?w:w+"[]",h(A))}),!1}return bg(N)?!0:(t.append(_1(S,w,o),h(N)),!1)}const x=[],v=Object.assign(ck,{defaultVisitor:p,convertValue:h,isVisitable:bg});function j(N,w){if(!se.isUndefined(N)){if(x.indexOf(N)!==-1)throw Error("Circular reference detected in "+w.join("."));x.push(N),se.forEach(N,function(E,_){(!(se.isUndefined(E)||E===null)&&l.call(t,E,se.isString(_)?_.trim():_,w,v))===!0&&j(E,w?w.concat(_):[_])}),x.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return j(e),t}function C1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function R0(e,t){this._pairs=[],e&&_f(e,this,t)}const T_=R0.prototype;T_.append=function(t,r){this._pairs.push([t,r])};T_.toString=function(t){const r=t?function(a){return t.call(this,a,C1)}:C1;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function uk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function M_(e,t,r){if(!t)return e;const a=r&&r.encode||uk;se.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let o;if(l?o=l(t,r):o=se.isURLSearchParams(t)?t.toString():new R0(t,r).toString(a),o){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class A1{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(a){a!==null&&t(a)})}}const k_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dk=typeof URLSearchParams<"u"?URLSearchParams:R0,fk=typeof FormData<"u"?FormData:null,mk=typeof Blob<"u"?Blob:null,hk={isBrowser:!0,classes:{URLSearchParams:dk,FormData:fk,Blob:mk},protocols:["http","https","file","blob","url","data"]},$0=typeof window<"u"&&typeof document<"u",jg=typeof navigator=="object"&&navigator||void 0,pk=$0&&(!jg||["ReactNative","NativeScript","NS"].indexOf(jg.product)<0),xk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gk=$0&&window.location.href||"http://localhost",vk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$0,hasStandardBrowserEnv:pk,hasStandardBrowserWebWorkerEnv:xk,navigator:jg,origin:gk},Symbol.toStringTag,{value:"Module"})),yr={...vk,...hk};function yk(e,t){return _f(e,new yr.classes.URLSearchParams,{visitor:function(r,a,l,o){return yr.isNode&&se.isBuffer(r)?(this.append(a,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function bk(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jk(e){const t={},r=Object.keys(e);let a;const l=r.length;let o;for(a=0;a<l;a++)o=r[a],t[o]=e[o];return t}function P_(e){function t(r,a,l,o){let u=r[o++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),m=o>=r.length;return u=!u&&se.isArray(l)?l.length:u,m?(se.hasOwnProp(l,u)?l[u]=[l[u],a]:l[u]=a,!f):((!l[u]||!se.isObject(l[u]))&&(l[u]=[]),t(r,a,l[u],o)&&se.isArray(l[u])&&(l[u]=jk(l[u])),!f)}if(se.isFormData(e)&&se.isFunction(e.entries)){const r={};return se.forEachEntry(e,(a,l)=>{t(bk(a),l,r,0)}),r}return null}function wk(e,t,r){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const $c={transitional:k_,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",l=a.indexOf("application/json")>-1,o=se.isObject(t);if(o&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return l?JSON.stringify(P_(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return yk(t,this.formSerializer).toString();if((f=se.isFileList(t))||a.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return _f(f?{"files[]":t}:t,m&&new m,this.formSerializer)}}return o||l?(r.setContentType("application/json",!1),wk(t)):t}],transformResponse:[function(t){const r=this.transitional||$c.transitional,a=r&&r.forcedJSONParsing,l=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(a&&!this.responseType||l)){const u=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(f){if(u)throw f.name==="SyntaxError"?Ve.from(f,Ve.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yr.classes.FormData,Blob:yr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{$c.headers[e]={}});const Nk=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sk=e=>{const t={};let r,a,l;return e&&e.split(`
`).forEach(function(u){l=u.indexOf(":"),r=u.substring(0,l).trim().toLowerCase(),a=u.substring(l+1).trim(),!(!r||t[r]&&Nk[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},O1=Symbol("internals");function Zo(e){return e&&String(e).trim().toLowerCase()}function Ed(e){return e===!1||e==null?e:se.isArray(e)?e.map(Ed):String(e)}function Ek(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const _k=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pp(e,t,r,a,l){if(se.isFunction(a))return a.call(this,t,r);if(l&&(t=r),!!se.isString(t)){if(se.isString(a))return t.indexOf(a)!==-1;if(se.isRegExp(a))return a.test(t)}}function Ck(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function Ak(e,t){const r=se.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(l,o,u){return this[a].call(this,t,l,o,u)},configurable:!0})})}let $r=class{constructor(t){t&&this.set(t)}set(t,r,a){const l=this;function o(f,m,h){const p=Zo(m);if(!p)throw new Error("header name must be a non-empty string");const x=se.findKey(l,p);(!x||l[x]===void 0||h===!0||h===void 0&&l[x]!==!1)&&(l[x||m]=Ed(f))}const u=(f,m)=>se.forEach(f,(h,p)=>o(h,p,m));if(se.isPlainObject(t)||t instanceof this.constructor)u(t,r);else if(se.isString(t)&&(t=t.trim())&&!_k(t))u(Sk(t),r);else if(se.isObject(t)&&se.isIterable(t)){let f={},m,h;for(const p of t){if(!se.isArray(p))throw TypeError("Object iterator must return a key-value pair");f[h=p[0]]=(m=f[h])?se.isArray(m)?[...m,p[1]]:[m,p[1]]:p[1]}u(f,r)}else t!=null&&o(r,t,a);return this}get(t,r){if(t=Zo(t),t){const a=se.findKey(this,t);if(a){const l=this[a];if(!r)return l;if(r===!0)return Ek(l);if(se.isFunction(r))return r.call(this,l,a);if(se.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Zo(t),t){const a=se.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Pp(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let l=!1;function o(u){if(u=Zo(u),u){const f=se.findKey(a,u);f&&(!r||Pp(a,a[f],f,r))&&(delete a[f],l=!0)}}return se.isArray(t)?t.forEach(o):o(t),l}clear(t){const r=Object.keys(this);let a=r.length,l=!1;for(;a--;){const o=r[a];(!t||Pp(this,this[o],o,t,!0))&&(delete this[o],l=!0)}return l}normalize(t){const r=this,a={};return se.forEach(this,(l,o)=>{const u=se.findKey(a,o);if(u){r[u]=Ed(l),delete r[o];return}const f=t?Ck(o):String(o).trim();f!==o&&delete r[o],r[f]=Ed(l),a[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return se.forEach(this,(a,l)=>{a!=null&&a!==!1&&(r[l]=t&&se.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(l=>a.set(l)),a}static accessor(t){const a=(this[O1]=this[O1]={accessors:{}}).accessors,l=this.prototype;function o(u){const f=Zo(u);a[f]||(Ak(l,u),a[f]=!0)}return se.isArray(t)?t.forEach(o):o(t),this}};$r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors($r.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});se.freezeMethods($r);function Dp(e,t){const r=this||$c,a=t||r,l=$r.from(a.headers);let o=a.data;return se.forEach(e,function(f){o=f.call(r,o,l.normalize(),t?t.status:void 0)}),l.normalize(),o}function D_(e){return!!(e&&e.__CANCEL__)}function Fl(e,t,r){Ve.call(this,e??"canceled",Ve.ERR_CANCELED,t,r),this.name="CanceledError"}se.inherits(Fl,Ve,{__CANCEL__:!0});function R_(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new Ve("Request failed with status code "+r.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ok(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Tk(e,t){e=e||10;const r=new Array(e),a=new Array(e);let l=0,o=0,u;return t=t!==void 0?t:1e3,function(m){const h=Date.now(),p=a[o];u||(u=h),r[l]=m,a[l]=h;let x=o,v=0;for(;x!==l;)v+=r[x++],x=x%e;if(l=(l+1)%e,l===o&&(o=(o+1)%e),h-u<t)return;const j=p&&h-p;return j?Math.round(v*1e3/j):void 0}}function Mk(e,t){let r=0,a=1e3/t,l,o;const u=(h,p=Date.now())=>{r=p,l=null,o&&(clearTimeout(o),o=null),e(...h)};return[(...h)=>{const p=Date.now(),x=p-r;x>=a?u(h,p):(l=h,o||(o=setTimeout(()=>{o=null,u(l)},a-x)))},()=>l&&u(l)]}const Md=(e,t,r=3)=>{let a=0;const l=Tk(50,250);return Mk(o=>{const u=o.loaded,f=o.lengthComputable?o.total:void 0,m=u-a,h=l(m),p=u<=f;a=u;const x={loaded:u,total:f,progress:f?u/f:void 0,bytes:m,rate:h||void 0,estimated:h&&f&&p?(f-u)/h:void 0,event:o,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(x)},r)},T1=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},M1=e=>(...t)=>se.asap(()=>e(...t)),kk=yr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,yr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(yr.origin),yr.navigator&&/(msie|trident)/i.test(yr.navigator.userAgent)):()=>!0,Pk=yr.hasStandardBrowserEnv?{write(e,t,r,a,l,o){const u=[e+"="+encodeURIComponent(t)];se.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),se.isString(a)&&u.push("path="+a),se.isString(l)&&u.push("domain="+l),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Rk(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $_(e,t,r){let a=!Dk(t);return e&&(a||r==!1)?Rk(e,t):t}const k1=e=>e instanceof $r?{...e}:e;function hi(e,t){t=t||{};const r={};function a(h,p,x,v){return se.isPlainObject(h)&&se.isPlainObject(p)?se.merge.call({caseless:v},h,p):se.isPlainObject(p)?se.merge({},p):se.isArray(p)?p.slice():p}function l(h,p,x,v){if(se.isUndefined(p)){if(!se.isUndefined(h))return a(void 0,h,x,v)}else return a(h,p,x,v)}function o(h,p){if(!se.isUndefined(p))return a(void 0,p)}function u(h,p){if(se.isUndefined(p)){if(!se.isUndefined(h))return a(void 0,h)}else return a(void 0,p)}function f(h,p,x){if(x in t)return a(h,p);if(x in e)return a(void 0,h)}const m={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(h,p,x)=>l(k1(h),k1(p),x,!0)};return se.forEach(Object.keys({...e,...t}),function(p){const x=m[p]||l,v=x(e[p],t[p],p);se.isUndefined(v)&&x!==f||(r[p]=v)}),r}const z_=e=>{const t=hi({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:l,xsrfCookieName:o,headers:u,auth:f}=t;t.headers=u=$r.from(u),t.url=M_($_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let m;if(se.isFormData(r)){if(yr.hasStandardBrowserEnv||yr.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((m=u.getContentType())!==!1){const[h,...p]=m?m.split(";").map(x=>x.trim()).filter(Boolean):[];u.setContentType([h||"multipart/form-data",...p].join("; "))}}if(yr.hasStandardBrowserEnv&&(a&&se.isFunction(a)&&(a=a(t)),a||a!==!1&&kk(t.url))){const h=l&&o&&Pk.read(o);h&&u.set(l,h)}return t},$k=typeof XMLHttpRequest<"u",zk=$k&&function(e){return new Promise(function(r,a){const l=z_(e);let o=l.data;const u=$r.from(l.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:h}=l,p,x,v,j,N;function w(){j&&j(),N&&N(),l.cancelToken&&l.cancelToken.unsubscribe(p),l.signal&&l.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(l.method.toUpperCase(),l.url,!0),S.timeout=l.timeout;function E(){if(!S)return;const A=$r.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),D={data:!f||f==="text"||f==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:A,config:e,request:S};R_(function(O){r(O),w()},function(O){a(O),w()},D),S=null}"onloadend"in S?S.onloadend=E:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(E)},S.onabort=function(){S&&(a(new Ve("Request aborted",Ve.ECONNABORTED,e,S)),S=null)},S.onerror=function(){a(new Ve("Network Error",Ve.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let P=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const D=l.transitional||k_;l.timeoutErrorMessage&&(P=l.timeoutErrorMessage),a(new Ve(P,D.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,e,S)),S=null},o===void 0&&u.setContentType(null),"setRequestHeader"in S&&se.forEach(u.toJSON(),function(P,D){S.setRequestHeader(D,P)}),se.isUndefined(l.withCredentials)||(S.withCredentials=!!l.withCredentials),f&&f!=="json"&&(S.responseType=l.responseType),h&&([v,N]=Md(h,!0),S.addEventListener("progress",v)),m&&S.upload&&([x,j]=Md(m),S.upload.addEventListener("progress",x),S.upload.addEventListener("loadend",j)),(l.cancelToken||l.signal)&&(p=A=>{S&&(a(!A||A.type?new Fl(null,e,S):A),S.abort(),S=null)},l.cancelToken&&l.cancelToken.subscribe(p),l.signal&&(l.signal.aborted?p():l.signal.addEventListener("abort",p)));const _=Ok(l.url);if(_&&yr.protocols.indexOf(_)===-1){a(new Ve("Unsupported protocol "+_+":",Ve.ERR_BAD_REQUEST,e));return}S.send(o||null)})},Lk=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,l;const o=function(h){if(!l){l=!0,f();const p=h instanceof Error?h:this.reason;a.abort(p instanceof Ve?p:new Fl(p instanceof Error?p.message:p))}};let u=t&&setTimeout(()=>{u=null,o(new Ve(`timeout ${t} of ms exceeded`,Ve.ETIMEDOUT))},t);const f=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:m}=a;return m.unsubscribe=()=>se.asap(f),m}},Uk=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,l;for(;a<r;)l=a+t,yield e.slice(a,l),a=l},qk=async function*(e,t){for await(const r of Bk(e))yield*Uk(r,t)},Bk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},P1=(e,t,r,a)=>{const l=qk(e,t);let o=0,u,f=m=>{u||(u=!0,a&&a(m))};return new ReadableStream({async pull(m){try{const{done:h,value:p}=await l.next();if(h){f(),m.close();return}let x=p.byteLength;if(r){let v=o+=x;r(v)}m.enqueue(new Uint8Array(p))}catch(h){throw f(h),h}},cancel(m){return f(m),l.return()}},{highWaterMark:2})},Cf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",L_=Cf&&typeof ReadableStream=="function",Ik=Cf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),U_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Fk=L_&&U_(()=>{let e=!1;const t=new Request(yr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),D1=64*1024,wg=L_&&U_(()=>se.isReadableStream(new Response("").body)),kd={stream:wg&&(e=>e.body)};Cf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!kd[t]&&(kd[t]=se.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new Ve(`Response type '${t}' is not supported`,Ve.ERR_NOT_SUPPORT,a)})})})(new Response);const Hk=async e=>{if(e==null)return 0;if(se.isBlob(e))return e.size;if(se.isSpecCompliantForm(e))return(await new Request(yr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(se.isArrayBufferView(e)||se.isArrayBuffer(e))return e.byteLength;if(se.isURLSearchParams(e)&&(e=e+""),se.isString(e))return(await Ik(e)).byteLength},Vk=async(e,t)=>{const r=se.toFiniteNumber(e.getContentLength());return r??Hk(t)},Gk=Cf&&(async e=>{let{url:t,method:r,data:a,signal:l,cancelToken:o,timeout:u,onDownloadProgress:f,onUploadProgress:m,responseType:h,headers:p,withCredentials:x="same-origin",fetchOptions:v}=z_(e);h=h?(h+"").toLowerCase():"text";let j=Lk([l,o&&o.toAbortSignal()],u),N;const w=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(m&&Fk&&r!=="get"&&r!=="head"&&(S=await Vk(p,a))!==0){let D=new Request(t,{method:"POST",body:a,duplex:"half"}),M;if(se.isFormData(a)&&(M=D.headers.get("content-type"))&&p.setContentType(M),D.body){const[O,z]=T1(S,Md(M1(m)));a=P1(D.body,D1,O,z)}}se.isString(x)||(x=x?"include":"omit");const E="credentials"in Request.prototype;N=new Request(t,{...v,signal:j,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:a,duplex:"half",credentials:E?x:void 0});let _=await fetch(N,v);const A=wg&&(h==="stream"||h==="response");if(wg&&(f||A&&w)){const D={};["status","statusText","headers"].forEach(F=>{D[F]=_[F]});const M=se.toFiniteNumber(_.headers.get("content-length")),[O,z]=f&&T1(M,Md(M1(f),!0))||[];_=new Response(P1(_.body,D1,O,()=>{z&&z(),w&&w()}),D)}h=h||"text";let P=await kd[se.findKey(kd,h)||"text"](_,e);return!A&&w&&w(),await new Promise((D,M)=>{R_(D,M,{data:P,headers:$r.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:N})})}catch(E){throw w&&w(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,e,N),{cause:E.cause||E}):Ve.from(E,E&&E.code,e,N)}}),Ng={http:lk,xhr:zk,fetch:Gk};se.forEach(Ng,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const R1=e=>`- ${e}`,Kk=e=>se.isFunction(e)||e===null||e===!1,q_={getAdapter:e=>{e=se.isArray(e)?e:[e];const{length:t}=e;let r,a;const l={};for(let o=0;o<t;o++){r=e[o];let u;if(a=r,!Kk(r)&&(a=Ng[(u=String(r)).toLowerCase()],a===void 0))throw new Ve(`Unknown adapter '${u}'`);if(a)break;l[u||"#"+o]=a}if(!a){const o=Object.entries(l).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=t?o.length>1?`since :
`+o.map(R1).join(`
`):" "+R1(o[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return a},adapters:Ng};function Rp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fl(null,e)}function $1(e){return Rp(e),e.headers=$r.from(e.headers),e.data=Dp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),q_.getAdapter(e.adapter||$c.adapter)(e).then(function(a){return Rp(e),a.data=Dp.call(e,e.transformResponse,a),a.headers=$r.from(a.headers),a},function(a){return D_(a)||(Rp(e),a&&a.response&&(a.response.data=Dp.call(e,e.transformResponse,a.response),a.response.headers=$r.from(a.response.headers))),Promise.reject(a)})}const B_="1.11.0",Af={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Af[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const z1={};Af.transitional=function(t,r,a){function l(o,u){return"[Axios v"+B_+"] Transitional option '"+o+"'"+u+(a?". "+a:"")}return(o,u,f)=>{if(t===!1)throw new Ve(l(u," has been removed"+(r?" in "+r:"")),Ve.ERR_DEPRECATED);return r&&!z1[u]&&(z1[u]=!0,console.warn(l(u," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,u,f):!0}};Af.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Yk(e,t,r){if(typeof e!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let l=a.length;for(;l-- >0;){const o=a[l],u=t[o];if(u){const f=e[o],m=f===void 0||u(f,o,e);if(m!==!0)throw new Ve("option "+o+" must be "+m,Ve.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}}const _d={assertOptions:Yk,validators:Af},Qa=_d.validators;let ci=class{constructor(t){this.defaults=t||{},this.interceptors={request:new A1,response:new A1}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const o=l.stack?l.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=hi(this.defaults,r);const{transitional:a,paramsSerializer:l,headers:o}=r;a!==void 0&&_d.assertOptions(a,{silentJSONParsing:Qa.transitional(Qa.boolean),forcedJSONParsing:Qa.transitional(Qa.boolean),clarifyTimeoutError:Qa.transitional(Qa.boolean)},!1),l!=null&&(se.isFunction(l)?r.paramsSerializer={serialize:l}:_d.assertOptions(l,{encode:Qa.function,serialize:Qa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),_d.assertOptions(r,{baseUrl:Qa.spelling("baseURL"),withXsrfToken:Qa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u=o&&se.merge(o.common,o[r.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],N=>{delete o[N]}),r.headers=$r.concat(u,o);const f=[];let m=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(m=m&&w.synchronous,f.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,x=0,v;if(!m){const N=[$1.bind(this),void 0];for(N.unshift(...f),N.push(...h),v=N.length,p=Promise.resolve(r);x<v;)p=p.then(N[x++],N[x++]);return p}v=f.length;let j=r;for(x=0;x<v;){const N=f[x++],w=f[x++];try{j=N(j)}catch(S){w.call(this,S);break}}try{p=$1.call(this,j)}catch(N){return Promise.reject(N)}for(x=0,v=h.length;x<v;)p=p.then(h[x++],h[x++]);return p}getUri(t){t=hi(this.defaults,t);const r=$_(t.baseURL,t.url,t.allowAbsoluteUrls);return M_(r,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){ci.prototype[t]=function(r,a){return this.request(hi(a||{},{method:t,url:r,data:(a||{}).data}))}});se.forEach(["post","put","patch"],function(t){function r(a){return function(o,u,f){return this.request(hi(f||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}ci.prototype[t]=r(),ci.prototype[t+"Form"]=r(!0)});let Xk=class I_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const a=this;this.promise.then(l=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](l);a._listeners=null}),this.promise.then=l=>{let o;const u=new Promise(f=>{a.subscribe(f),o=f}).then(l);return u.cancel=function(){a.unsubscribe(o)},u},t(function(o,u,f){a.reason||(a.reason=new Fl(o,u,f),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new I_(function(l){t=l}),cancel:t}}};function Wk(e){return function(r){return e.apply(null,r)}}function Zk(e){return se.isObject(e)&&e.isAxiosError===!0}const Sg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sg).forEach(([e,t])=>{Sg[t]=e});function F_(e){const t=new ci(e),r=y_(ci.prototype.request,t);return se.extend(r,ci.prototype,t,{allOwnKeys:!0}),se.extend(r,t,null,{allOwnKeys:!0}),r.create=function(l){return F_(hi(e,l))},r}const $t=F_($c);$t.Axios=ci;$t.CanceledError=Fl;$t.CancelToken=Xk;$t.isCancel=D_;$t.VERSION=B_;$t.toFormData=_f;$t.AxiosError=Ve;$t.Cancel=$t.CanceledError;$t.all=function(t){return Promise.all(t)};$t.spread=Wk;$t.isAxiosError=Zk;$t.mergeConfig=hi;$t.AxiosHeaders=$r;$t.formToJSON=e=>P_(se.isHTMLForm(e)?new FormData(e):e);$t.getAdapter=q_.getAdapter;$t.HttpStatusCode=Sg;$t.default=$t;const{Axios:FX,AxiosError:HX,CanceledError:VX,isCancel:GX,CancelToken:KX,VERSION:YX,all:XX,Cancel:WX,isAxiosError:ZX,spread:QX,toFormData:JX,AxiosHeaders:eW,HttpStatusCode:tW,formToJSON:rW,getAdapter:aW,mergeConfig:nW}=$t,Qk=e=>{const t=e.response?.status,r=e.config?.url;return[t===401&&r?.includes("/auth/"),e.code==="ERR_NETWORK"&&!1,e.code==="ECONNABORTED"&&!1].some(a=>a)},Jk=e=>{const t=e.response?.status,r=e.code;switch(t){case 400:return e.response?.data?.detail||"Datos inválidos";case 401:return"Usuario o contraseña incorrectos";case 403:return e.response?.data?.error==="ADMIN_DELETION_FORBIDDEN"?e.response.data.message:e.response?.data?.message||"No tienes permisos para realizar esta acción";case 404:return"El recurso solicitado no fue encontrado";case 409:return e.response?.data?.detail||"Conflicto con los datos existentes";case 422:return e.response?.data?.detail||"Datos de entrada inválidos";case 500:return"Error interno del servidor. Intenta nuevamente.";case 502:case 503:case 504:return"El servidor no está disponible. Intenta más tarde."}switch(r){case"ERR_NETWORK":return"No se puede conectar al servidor. Verifica tu conexión.";case"ECONNABORTED":return"La solicitud tardó demasiado. Intenta nuevamente.";case"ERR_CANCELED":return"La solicitud fue cancelada"}return e.response?.data?.detail?e.response.data.detail:e.response?.data?.error?e.response.data.error:e.message||"Ha ocurrido un error inesperado"},en={error:(e,...t)=>{},warn:(e,...t)=>{},info:(e,...t)=>{},debug:(e,...t)=>{}},eP=(e,t="")=>{if(Qk(e))return;const r={context:t,status:e.response?.status,code:e.code,message:e.response?.data?.detail||e.response?.data?.error||e.message,url:e.config?.url,method:e.config?.method?.toUpperCase()};en.error(`API Error ${t?`[${t}]`:""}:`,r)};class tP{constructor(){this.cache=new Map,this.pendingRequests=new Map,this.CACHE_DURATION=3e4}generateKey(t,r={}){const a=Object.keys(r).length>0?JSON.stringify(r):"";return`${t}_${a}`}isValid(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>this.CACHE_DURATION?(this.cache.delete(t),!1):!0:!1}get(t){return this.isValid(t)?(console.log(`📦 Cache HIT: ${t}`),this.cache.get(t).data):null}set(t,r){console.log(`💾 Cache SET: ${t}`),this.cache.set(t,{data:r,timestamp:Date.now()})}hasPendingRequest(t){return this.pendingRequests.has(t)}setPendingRequest(t,r){return console.log(`⏳ Pending request: ${t}`),this.pendingRequests.set(t,r),r.finally(()=>{this.pendingRequests.delete(t)}),r}getPendingRequest(t){return this.pendingRequests.get(t)}invalidate(t){const r=[];for(const a of this.cache.keys())a.includes(t)&&r.push(a);r.forEach(a=>{console.log(`🗑️ Cache INVALIDATE: ${a}`),this.cache.delete(a)})}clear(){console.log("🧹 Cache CLEAR ALL"),this.cache.clear(),this.pendingRequests.clear()}getStats(){return{cacheSize:this.cache.size,pendingRequests:this.pendingRequests.size,cacheKeys:Array.from(this.cache.keys())}}}const ws=new tP,rP=async(e,t,r={},a={})=>{const{forceRefresh:l=!1,cacheDuration:o}=a,u=ws.generateKey(t,r);l&&ws.invalidate(t);const f=ws.get(u);if(f&&!l)return f;const m=ws.getPendingRequest(u);if(m)return console.log(`🔄 Joining existing request: ${u}`),await m;const h=e(t,r).then(p=>(ws.set(u,p),p));return ws.setPendingRequest(u,h),await h},aP="/api",we=$t.create({baseURL:aP,timeout:3e4,withCredentials:!0,headers:{"Content-Type":"application/json"}}),Ra=new Map,Ja=new Map,H_=200,nP=e=>{const t=Date.now(),r=Ra.get(e)||0,a=Ja.get(e)||0,l=t-1e4;if(r<l&&Ja.set(e,0),["/usuarios","/tareas/trabajadores/disponibles","/tareas","/cortes-caja/historial","/cortes-caja/estadisticas","/cortes-caja/mis-cortes"].some(f=>e?.includes(f))){if(a<3)return Ja.set(e,a+1),Ra.set(e,t),!1;if(!(t-r<300))Ja.set(e,a+1),Ra.set(e,t);else return!1;return!1}if(a<8)return Ja.set(e,a+1),Ra.set(e,t),!1;if(a>15){const m=t-r<H_;return m||(Ja.set(e,a+1),Ra.set(e,t)),m}return Ja.set(e,a+1),Ra.set(e,t),!1};we.interceptors.response.use(e=>e,e=>{const t=e.response?.status,r=e.config?.url||"",a=e.response?.data;if(!(r.startsWith("/auth/")&&(t===401||t===404))&&(t>=500||!t&&e.code!=="ERR_NETWORK")&&eP(e,"API Client"),t===401&&!r.includes("/auth/login")){if(r.includes("/auth/me"))return Promise.reject(e);a?.expired&&(console.warn("🕒 Sesión expirada detectada por API"),window.dispatchEvent(new CustomEvent("sessionExpired",{detail:{message:a.detail||"Tu sesión ha expirado. Por favor, inicia sesión nuevamente.",source:"apiClient"}}))),!window.location.pathname.includes("/login")&&!r?.includes("/auth/me")&&setTimeout(()=>{window.location.href="/login"},100)}return Promise.reject(e)});we.interceptors.request.use(e=>{const t=e.url;if(nP(t)){const r=Ra.get(t),a=Date.now()-(r||0),l=Math.max(H_-a,60);return new Promise(o=>{setTimeout(()=>{Ra.set(t,Date.now());const u=(Ja.get(t)||0)+1;Ja.set(t,u),o(e)},l)})}if(Ra.size>20){const a=Date.now()-3e5;for(const[l,o]of Ra.entries())o<a&&(Ra.delete(l),Ja.delete(l))}return e},e=>Promise.reject(e));const Pe={async get(e,t={}){try{return(await we.get(e,t)).data}catch(r){throw this.handleError(r)}},async post(e,t={},r={}){try{return(await we.post(e,t,r)).data}catch(a){throw this.handleError(a)}},async put(e,t={},r={}){try{return(await we.put(e,t,r)).data}catch(a){throw this.handleError(a)}},async patch(e,t={},r={}){try{return(await we.patch(e,t,r)).data}catch(a){throw this.handleError(a)}},async delete(e,t={}){try{return(await we.delete(e,t)).data}catch(r){throw this.handleError(r)}},async upload(e,t,r=null){try{const a=new FormData;a.append("file",t);const l={headers:{"Content-Type":"multipart/form-data"}};return r&&(l.onUploadProgress=u=>{const f=Math.round(u.loaded*100/u.total);r(f)}),(await we.post(e,a,l)).data}catch(a){throw this.handleError(a)}},handleError(e){const t=e.response?.data?.detail||e.response?.data?.message||e.message||"Error desconocido",r=e.response?.status||"UNKNOWN";return{message:t,code:r,originalError:e}},async healthCheck(){try{return(await we.get("/health")).data}catch{return{status:"error",message:"API no disponible"}}},async getCached(e,t={}){const{forceRefresh:r=!1,cacheDuration:a=3e4}=t;return rP(async l=>(await we.get(l)).data,e,{},{forceRefresh:r,cacheDuration:a})},invalidateCache(e){ws.invalidate(e)},getCacheStats(){return ws.getStats()}},sP=Object.freeze(Object.defineProperty({__proto__:null,apiClient:we,apiHelpers:Pe},Symbol.toStringTag,{value:"Module"}));class iP{constructor(){this.sessionCheckInterval=null,this.expirationWarningShown=!1}async login(t){try{const r=await we.post("/auth/login",t);return r.data.expires_at&&this.setupSessionMonitoring(new Date(r.data.expires_at)),{user:r.data.user,token:r.data.access_token,expiresAt:r.data.expires_at,expiresIn:r.data.expires_in}}catch(r){const a=r.response?.status;throw a!==401&&en.warn("Login fallido no esperado:",{status:a,statusText:r.response?.statusText,url:r.config?.url,method:r.config?.method}),new Error(Jk(r))}}setupSessionMonitoring(t){this.clearSessionMonitoring();const r=()=>{const a=new Date,l=t.getTime()-a.getTime();if(l<=300*1e3&&l>0&&!this.expirationWarningShown&&(this.showExpirationWarning(),this.expirationWarningShown=!0),l<=0){this.handleSessionExpired();return}};this.sessionCheckInterval=setInterval(r,3e4),r()}clearSessionMonitoring(){this.sessionCheckInterval&&(clearInterval(this.sessionCheckInterval),this.sessionCheckInterval=null),this.expirationWarningShown=!1}showExpirationWarning(){window.dispatchEvent(new CustomEvent("sessionExpiring",{detail:{message:"Tu sesión expirará en 5 minutos. ¿Deseas renovarla?"}}))}handleSessionExpired(){this.clearSessionMonitoring(),window.dispatchEvent(new CustomEvent("sessionExpired",{detail:{message:"Tu sesión ha expirado. Serás redirigido al login."}}))}async logout(){try{this.clearSessionMonitoring(),await we.post("/auth/logout")}catch(t){en.error("Logout error:",t)}}async getCurrentUser(){try{return(await we.get("/auth/me")).data}catch(t){return t.response?.status===401||t.code!=="ERR_NETWORK"&&en.error("Get current user error:",t),null}}async changePassword(t,r){try{return(await we.post("/auth/change-password",{old_password:t,new_password:r})).data}catch(a){throw console.error("Change password error:",a),new Error(a.response?.data?.detail||"Error al cambiar contraseña")}}hasPermission(t,r){return r?r.tipo_usuario==="admin"?!0:({revendedor:["view_own_inventory","view_own_sales","create_sale","view_own_profile"],trabajador:["view_inventory","create_delivery","view_sales","create_sale"],admin:["view_all","create_all","update_all","delete_all","manage_users","manage_inventory","view_reports"]}[r.tipo_usuario]||[]).includes(t):!1}isAdmin(t){return t?.tipo_usuario==="admin"}isRevendedor(t){return t?.tipo_usuario==="revendedor"}isTrabajador(t){return t?.tipo_usuario==="trabajador"}async checkAdminExists(){try{return await we.get("/auth/admin-exists")}catch(t){throw en.error("checkAdminExists error:",t),t}}async detectRole(t){try{return await we.get("/auth/detect-role",{params:{username:t}})}catch(r){if(r.response?.status===404)return null;throw en.error("detectRole error:",r),r}}}const Qo=new iP;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oP=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),L1=e=>{const t=oP(e);return t.charAt(0).toUpperCase()+t.slice(1)},V_=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),cP=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:o,iconNode:u,...f},m)=>y.createElement("svg",{ref:m,...uP,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:V_("lucide",l),...!o&&!cP(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,p])=>y.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(e,t)=>{const r=y.forwardRef(({className:a,...l},o)=>y.createElement(dP,{ref:o,iconNode:t,className:V_(`lucide-${lP(L1(e))}`,`lucide-${e}`,a),...l}));return r.displayName=L1(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],U1=Ce("activity",fP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Eg=Ce("arrow-left",mP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],G_=Ce("arrow-right",hP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$p=Ce("award",pP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gP=Ce("bell",xP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],yP=Ce("boxes",vP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],sn=Ce("building-2",bP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Cl=Ce("calculator",jP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pi=Ce("calendar",wP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],q1=Ce("chart-column",NP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],B1=Ce("chart-no-axes-column",SP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zc=Ce("check",EP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sl=Ce("chevron-down",_P);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],z0=Ce("chevron-left",CP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],L0=Ce("chevron-right",AP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],U0=Ce("chevron-up",OP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zt=Ce("circle-alert",TP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],St=Ce("circle-check-big",MP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],K_=Ce("circle-x",kP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ba=Ce("clock",PP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],RP=Ce("cloud-upload",DP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zP=Ce("copy",$P);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],UP=Ce("credit-card",LP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],BP=Ce("database",qP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],As=Ce("dollar-sign",IP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Of=Ce("download",FP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_g=Ce("external-link",HP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_s=Ce("eye-off",VP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sa=Ce("eye",GP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],tn=Ce("file-text",KP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Cd=Ce("flag",YP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Tf=Ce("funnel",XP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ZP=Ce("image",WP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ni=Ce("info",QP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Pd=Ce("key",JP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Cg=Ce("lock",eD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dd=Ce("log-out",tD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],aD=Ce("mail",rD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fc=Ce("map-pin",nD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],iD=Ce("menu",sD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],oD=Ce("message-square",lD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ur=Ce("package",cD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Lc=Ce("pen-line",uD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],q0=Ce("phone",dD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zn=Ce("plus",fD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Os=Ce("refresh-cw",mD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],pD=Ce("rotate-cw",hD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hl=Ce("save",xD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xi=Ce("search",gD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Y_=Ce("send",vD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bD=Ce("settings",yD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rd=Ce("shield",jD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ND=Ce("shopping-cart",wD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ad=Ce("target",SD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ta=Ce("trash-2",ED);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Al=Ce("trending-up",_D);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Tt=Ce("triangle-alert",CD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OD=Ce("user-check",AD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],X_=Ce("user-plus",TD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],kD=Ce("user-x",MD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],br=Ce("user",PD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ea=Ce("users",DD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],$D=Ce("warehouse",RD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],I1=Ce("wifi",zD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],Ag=Ce("wrench",LD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qt=Ce("x",UD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ss=Ce("zap",qD),BD=({isVisible:e,onConfirm:t,onCancel:r,navigationType:a="navigate"})=>{if(!e)return null;const l=()=>{switch(a){case"back":return{icon:n.jsx(Eg,{className:"w-6 h-6 text-blue-500"}),title:"Navegación hacia atrás",message:"Estás intentando navegar hacia atrás usando el botón del navegador. Esto puede cerrar tu sesión de trabajo.",action:"navegar hacia atrás"};case"forward":return{icon:n.jsx(G_,{className:"w-6 h-6 text-blue-500"}),title:"Navegación hacia adelante",message:"Estás intentando navegar hacia adelante usando el botón del navegador.",action:"navegar hacia adelante"};case"close":return{icon:n.jsx(Qt,{className:"w-6 h-6 text-red-500"}),title:"Cerrar ventana",message:"Estás intentando cerrar la ventana o pestaña. Tu sesión de trabajo se cerrará.",action:"cerrar la ventana"};default:return{icon:n.jsx(Tt,{className:"w-6 h-6 text-amber-500"}),title:"Navegación detectada",message:"Se detectó un intento de navegación que puede cerrar tu sesión de trabajo.",action:"continuar"}}},{icon:o,title:u,message:f,action:m}=l();return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[9999]",style:{backgroundColor:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 p-6 border border-gray-300",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{className:"flex items-center",children:[o,n.jsx("h3",{className:"text-lg font-semibold text-gray-900 ml-2",children:u})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("p",{className:"text-gray-700 mb-4",children:f}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Tt,{className:"w-4 h-4 text-blue-600 mr-2 flex-shrink-0"}),n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Recomendación:"})," Usa los menús de navegación de la aplicación para moverte de forma segura."]})]})})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"flex-1 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Quedarme en la aplicación"}),n.jsxs("button",{onClick:t,className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2.5 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:["Sí, ",m]})]}),n.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:n.jsxs("p",{className:"text-xs text-gray-600 text-center",children:[n.jsx("strong",{children:"💡 Tip:"}),' Para cerrar sesión correctamente, usa el botón "Cerrar Sesión" del menú.']})})]})})},W_=y.createContext(),zr=()=>{const e=y.useContext(W_);return e||{user:null,loading:!1,isAuthenticated:!1,sessionChanged:!1,sessionExpiring:!1,navigationModal:{isVisible:!1,type:"navigate",pendingAction:null},login:async()=>({success:!1,error:"Auth no inicializado"}),logout:async()=>{},renewSession:async()=>!1,dismissSessionChangeNotification:()=>{},confirmNavigation:()=>{},cancelNavigation:()=>{}}},ID=({children:e})=>{const[t,r]=y.useState(null),[a,l]=y.useState(!0),[o,u]=y.useState(!1),[f,m]=y.useState(!1),[h,p]=y.useState(!1),[x,v]=y.useState(!1),[j,N]=y.useState({isVisible:!1,type:"navigate",pendingAction:null}),w=()=>{N({isVisible:!1,type:"navigate",pendingAction:null})},S=()=>{const{pendingAction:O}=j;w(),O&&O()},E=()=>{w()};y.useEffect(()=>{const O=F=>{v(!0),setTimeout(()=>{v(!1)},3e4)},z=async F=>{console.warn("🕒 Sesión expirada automáticamente"),v(!1),await P(),alert("Tu sesión ha expirado después de 2 horas de inactividad. Por favor, inicia sesión nuevamente.")};return window.addEventListener("sessionExpiring",O),window.addEventListener("sessionExpired",z),()=>{window.removeEventListener("sessionExpiring",O),window.removeEventListener("sessionExpired",z)}},[]);const _=async()=>{try{if(v(!1),await Qo.getCurrentUser())return!0;throw new Error("Sesión no válida")}catch(O){return console.error("❌ Error al renovar sesión:",O),await P(),!1}};y.useEffect(()=>()=>{},[t,o]),y.useEffect(()=>{let O=!0;return(async()=>{try{l(!0);const F=await Qo.getCurrentUser();F&&O&&(r(F),u(!0))}catch(F){F.response?.status===401||(F.code==="ERR_NETWORK"?en.info("Error de red al verificar autenticación (normal en desarrollo)"):en.error("Error al verificar autenticación:",F)),O&&(r(null),u(!1))}finally{O&&(l(!1),p(!0))}})(),()=>{O=!1}},[]);const A=async O=>{try{l(!0);const z=await Qo.login(O);let F=null;try{F=await Qo.getCurrentUser()}catch{F=z.user}return r(F),u(!0),p(!0),z.expiresAt,{success:!0,user:z.user}}catch(z){return en.error("Error en login:",z),{success:!1,error:z.message||"Error de autenticación"}}finally{l(!1)}},P=async()=>{try{await Qo.logout()}catch(O){en.error("Error en logout:",O)}finally{r(null),u(!1),p(!1)}},M={user:t,loading:a,isAuthenticated:o,sessionChanged:f,sessionExpiring:x,navigationModal:j,login:A,logout:P,renewSession:_,dismissSessionChangeNotification:()=>{m(!1)},confirmNavigation:S,cancelNavigation:E};return n.jsxs(W_.Provider,{value:M,children:[e,n.jsx(BD,{isVisible:j.isVisible,navigationType:j.type,onConfirm:S,onCancel:E})]})};class FD{constructor(){this.endpoints={revendedores:"/revendedores",revendedor:t=>`/revendedores/${t}`,tiposFicha:"/tipos-ficha",tipoFicha:t=>`/tipos-ficha/${t}`,inventarioRevendedor:t=>`/inventarios/revendedor/${t}`,ajustarInventario:"/inventarios/ajustar",preciosRevendedor:t=>`/precios/revendedor/${t}`,precios:"/precios",precio:t=>`/precios/${t}`,entregas:"/entregas",entregasHistorial:"/entregas/historial",entregasRevendedor:t=>`/entregas/revendedor/${t}`,ventas:"/ventas",ventasRevendedor:t=>`/ventas/revendedor/${t}`,stockGlobal:"/stock-global",notas:"/notas",equipos:"/equipos",equiposInventario:"/equipos-inventario"},this._cache=new Map,this.defaultTTL=1e4}async _getCached(t,r,{ttl:a=this.defaultTTL,forceRefresh:l=!1}={}){try{if(!l&&this._cache.has(t)){const u=this._cache.get(t);if(Date.now()<u.expiresAt)return u.data;this._cache.delete(t)}const o=await r();return this._cache.set(t,{data:o,expiresAt:Date.now()+a}),o}catch(o){if(this._cache.has(t)){const u=this._cache.get(t);if(Date.now()<u.expiresAt)return u.data}throw o}}_invalidate(t){for(const r of this._cache.keys())r.includes(t)&&this._cache.delete(r)}async obtenerRevendedores(t={}){const r=`${this.endpoints.revendedores}?includeInactive=0`;return await this._getCached("revendedores",()=>Pe.get(r),t)}async obtenerRevendedor(t,r={}){return await this._getCached(`revendedor:${t}`,()=>Pe.get(this.endpoints.revendedor(t)),r)}async obtenerRevendedorActual(t={}){return await this._getCached("revendedor:me",()=>Pe.get("/revendedores/me"),t)}async crearRevendedor(t){const r={nombre_negocio:t.nombre,nombre:t.nombre,responsable:t.responsable,telefono:t.telefono,direccion:t.direccion||null};return await Pe.post(this.endpoints.revendedores,r)}async actualizarRevendedor(t,r){const a=await Pe.put(this.endpoints.revendedor(t),r);return this._invalidate("revendedor"),a}async eliminarRevendedor(t){const r=await Pe.delete(this.endpoints.revendedor(t));return this._invalidate("revendedor"),r}async obtenerUsuarios(){return await Pe.get("/auth/users")}async eliminarUsuario(t){return await Pe.delete(`/auth/users/${t}`)}async crearTrabajador(t){return await Pe.post("/auth/crear-trabajador",t)}async obtenerTiposFicha(t={}){return await this._getCached("tiposFicha",()=>Pe.get(this.endpoints.tiposFicha),t)}async crearTipoFicha(t){return await Pe.post(this.endpoints.tiposFicha,{nombre:t.nombre,duracion_horas:t.duracion_horas,precio_compra:parseFloat(t.precio_compra||0),precio_venta:parseFloat(t.precio_venta||0),descripcion:t.descripcion||""})}async actualizarTipoFicha(t,r){return await Pe.put(this.endpoints.tipoFicha(t),r)}async eliminarTipoFicha(t){return await Pe.delete(this.endpoints.tipoFicha(t))}async obtenerInventarioRevendedor(t,r={}){return await this._getCached(`inventario:${t}`,()=>Pe.get(this.endpoints.inventarioRevendedor(t)),r)}async ajustarInventarioExcel(t,r,a,l){return await Pe.post(this.endpoints.ajustarInventario,{revendedor_id:t,tipo_ficha_id:r,campo:a,cantidad:l})}async actualizarVendidasDirecto(t,r,a){return await Pe.put("/inventarios/vendidas-directo",{revendedor_id:t,tipo_ficha_id:r,cantidad_vendidas:a})}async obtenerPreciosRevendedor(t,r={}){return await this._getCached(`precios:${t}`,()=>Pe.get(this.endpoints.preciosRevendedor(t)),r)}async crearPrecioRevendedor(t){return await Pe.post(this.endpoints.precios,t)}async actualizarPrecioRevendedor(t,r){return await Pe.put(this.endpoints.precio(t),r)}async actualizarPreciosCompletos(t,r,a){const l=[];for(const[o,u]of Object.entries(r)){const f=a[o]||0;l.push(this.crearPrecioRevendedor({revendedor_id:t,tipo_ficha_id:this.mapTipoKeyToId(o),precio:parseFloat(u),comision:parseFloat(f)}))}return await Promise.all(l)}async actualizarPreciosRevendedor(t,r){try{const a=await this.obtenerTiposFicha(),l=[];for(const[o,u]of Object.entries(r)){const f=a.find(m=>m.nombre?.replace(/\s+/g,"").replace("horas","h").replace("hora","h")===o);f&&u>0&&l.push(Pe.post(this.endpoints.precios,{revendedor_id:t,tipo_ficha_id:f.id,precio:parseFloat(u)}))}return await Promise.all(l)}catch(a){throw console.error("Error al actualizar precios del revendedor:",a),a}}async obtenerEntregas(t={}){return await this._getCached("entregas",()=>Pe.get(this.endpoints.entregas),t)}async obtenerHistorialEntregas({page:t=1,pageSize:r=25,revendedor:a,revendedor_id:l,tipo_ficha_id:o,desde:u,hasta:f}={}){const m=new URLSearchParams;t&&m.set("page",t),r&&m.set("pageSize",r),a&&m.set("revendedor",a),l&&m.set("revendedor_id",l),o&&m.set("tipo_ficha_id",o),u&&m.set("desde",u),f&&m.set("hasta",f);const h=`${this.endpoints.entregasHistorial}?${m.toString()}`;return await Pe.get(h)}async obtenerEntregasRevendedor(t,r={}){return await this._getCached(`entregas:${t}`,()=>Pe.get(this.endpoints.entregasRevendedor(t)),r)}async obtenerMisEntregas(t={}){return await this._getCached("entregas:me",()=>Pe.get("/entregas/me"),t)}async crearEntrega(t){return await Pe.post(this.endpoints.entregas,t)}async obtenerVentas(t={}){return await this._getCached("ventas",()=>Pe.get(this.endpoints.ventas),t)}async obtenerVentasRevendedor(t,r={}){return await this._getCached(`ventas:${t}`,()=>Pe.get(this.endpoints.ventasRevendedor(t)),r)}async crearVenta(t){return await Pe.post(this.endpoints.ventas,t)}async obtenerStockGlobal(t={}){return await this._getCached("stockGlobal",()=>Pe.get(this.endpoints.stockGlobal),t)}async crearStockGlobal(t){return await Pe.post(this.endpoints.stockGlobal,t)}async actualizarStockGlobal(t,r){return await Pe.put(`${this.endpoints.stockGlobal}/${t}`,r)}async abastecerStock(t){return await Pe.post(`${this.endpoints.stockGlobal}/abastecimiento`,t)}async entregarFichasDeStock(t){return await Pe.post(`${this.endpoints.entregas}`,t)}async crearNota({titulo:t,contenido:r,revendedor_id:a}){return await Pe.post(this.endpoints.notas,{titulo:t,contenido:r,revendedor_id:a})}async listarNotas({revendedor_id:t,q:r,page:a=1,pageSize:l=25}={}){const o=new URLSearchParams;t&&o.set("revendedor_id",t),r&&o.set("q",r),a&&o.set("page",a),l&&o.set("pageSize",l);const u=`${this.endpoints.notas}?${o.toString()}`;return await Pe.get(u)}async actualizarNota(t,{titulo:r,contenido:a}){return await Pe.put(`${this.endpoints.notas}/${t}`,{titulo:r,contenido:a})}async eliminarNota(t){return await Pe.delete(`${this.endpoints.notas}/${t}`)}async listarEquipos({revendedor_id:t,cliente_id:r,includeInactive:a}={}){const l=new URLSearchParams;t&&l.set("revendedor_id",t),r&&l.set("cliente_id",r),a&&l.set("includeInactive","1");const o=l.toString()?`${this.endpoints.equipos}?${l.toString()}`:this.endpoints.equipos;return(await Pe.get(o))?.items||[]}async crearEquipo({nombre:t,descripcion:r,revendedor_id:a,cliente_id:l}){const o={nombre:t,descripcion:r};return a!=null&&(o.revendedor_id=a),l!=null&&(o.cliente_id=l),await Pe.post(this.endpoints.equipos,o)}async actualizarEquipo(t,r){return await Pe.put(`${this.endpoints.equipos}/${t}`,r)}async eliminarEquipo(t){return await Pe.delete(`${this.endpoints.equipos}/${t}`)}async devolverEquipo(t){return await Pe.post(`${this.endpoints.equipos}/${t}/devolver`,{})}async listarEquiposInventario(){return(await Pe.get(this.endpoints.equiposInventario))?.items||[]}async crearEquipoInventario({nombre:t,cantidad:r=0,estado:a="nuevo",descripcion:l}){return await Pe.post(this.endpoints.equiposInventario,{nombre:t,cantidad:r,estado:a,descripcion:l})}async actualizarEquipoInventario(t,r){return await Pe.put(`${this.endpoints.equiposInventario}/${t}`,r)}async eliminarEquipoInventario(t){return await Pe.delete(`${this.endpoints.equiposInventario}/${t}`)}mapTipoKeyToId(t){return{"1h":1,"2h":2,"3h":3,"5h":4}[t]||1}async mapTipoNombreToId(t){try{return(await this.obtenerTiposFicha()).find(l=>l.nombre===t)?.id||null}catch(r){return console.error("Error mapping tipo nombre to ID:",r),null}}validateRevendedorData(t){const r=[];return(!t.nombre||t.nombre.trim().length<2)&&r.push("El nombre del negocio debe tener al menos 2 caracteres"),(!t.responsable||t.responsable.trim().length<2)&&r.push("El nombre del responsable debe tener al menos 2 caracteres"),t.telefono&&t.telefono.length>13&&r.push("El teléfono no puede tener más de 13 caracteres"),r}validateTipoFichaData(t){const r=[];return(!t.nombre||t.nombre.trim().length<2)&&r.push("El nombre del tipo de ficha es obligatorio"),t.precio&&(isNaN(t.precio)||parseFloat(t.precio)<0)&&r.push("El precio debe ser un número positivo"),t.comision&&(isNaN(t.comision)||parseFloat(t.comision)<0)&&r.push("La comisión debe ser un número positivo"),r}async actualizarPorcentajeComision(t,r){return await Pe.put(`/revendedores/${t}/comision`,{porcentaje_comision:r})}async obtenerConfiguracion(){return await Pe.get("/configuracion")}async obtenerConfiguracionClave(t){return await Pe.get(`/configuracion/${t}`)}async actualizarConfiguracion(t,r,a){const l=await Pe.put(`/configuracion/${t}`,{valor:r,descripcion:a});try{window.dispatchEvent(new CustomEvent("configChanged",{detail:{clave:t,valor:r}}))}catch{}return l}async crearConfiguracion(t,r,a,l="number"){const o=await Pe.post("/configuracion",{clave:t,valor:r,descripcion:a,tipo:l});try{window.dispatchEvent(new CustomEvent("configChanged",{detail:{clave:t,valor:r}}))}catch{}return o}}const Ie=new FD,or={obtenerTrabajadores:async()=>{try{return{success:!0,trabajadores:(await we.get("/tareas/trabajadores")).data.trabajadores||[]}}catch(e){return console.error("Error al obtener trabajadores:",e),{success:!1,error:e.response?.data?.error||"Error al obtener trabajadores"}}},obtenerTrabajadoresDisponibles:async()=>{try{return{success:!0,trabajadores:(await we.get("/tareas/trabajadores/disponibles")).data.trabajadores||[]}}catch(e){return console.error("Error al obtener trabajadores disponibles:",e),{success:!1,error:e.response?.data?.error||"Error al obtener trabajadores disponibles"}}},crearTrabajador:async e=>{try{const t=await we.post("/tareas/trabajadores",e);return{success:!0,trabajador_id:t.data.trabajador_id,credenciales:t.data.credenciales,message:t.data.message}}catch(t){return console.error("Error al crear trabajador:",t),{success:!1,error:t.response?.data?.error||"Error al crear trabajador"}}},eliminarTrabajador:async e=>{try{return{success:!0,message:(await we.delete(`/tareas/trabajadores/${e}`)).data.message}}catch(t){return console.error("Error al eliminar trabajador:",t),{success:!1,error:t.response?.data?.error||"Error al eliminar trabajador"}}},obtenerTareas:async()=>{try{return{success:!0,tareas:(await we.get("/tareas")).data.tareas||[]}}catch(e){return console.error("Error al obtener tareas:",e),{success:!1,error:e.response?.data?.error||"Error al obtener tareas"}}},obtenerMisTareas:async()=>{try{return{success:!0,tareas:(await we.get("/tareas/mis-tareas")).data.tareas||[]}}catch(e){return console.error("Error al obtener mis tareas:",e),{success:!1,error:e.response?.data?.error||"Error al obtener mis tareas"}}},obtenerMisTareasRevendedor:async()=>{try{return{success:!0,tareas:(await we.get("/tareas/mis-tareas-revendedor")).data.tareas||[]}}catch(e){return console.error("Error al obtener mis tareas como revendedor:",e),{success:!1,error:e.response?.data?.error||"Error al obtener mis tareas"}}},obtenerMisTareasCliente:async()=>{try{return{success:!0,tareas:(await we.get("/tareas/mis-tareas-cliente")).data.tareas||[]}}catch(e){return console.error("Error al obtener mis tareas como cliente:",e),{success:!1,error:e.response?.data?.error||"Error al obtener mis tareas"}}},crearTarea:async e=>{try{const t=await we.post("/tareas",e);return{success:!0,tarea_id:t.data.tarea_id,message:t.data.message}}catch(t){return console.error("Error al crear tarea:",t),{success:!1,error:t.response?.data?.error||"Error al crear tarea"}}},actualizarEstadoTarea:async(e,t,r="")=>{try{return{success:!0,message:(await we.put(`/tareas/${e}/estado`,{estado:t,notas:r})).data.message}}catch(a){return console.error("Error al actualizar estado de tarea:",a),{success:!1,error:a.response?.data?.error||"Error al actualizar estado de tarea"}}},actualizarEstadoMiTarea:async(e,t,r="")=>{try{return{success:!0,message:(await we.put(`/tareas/mis-tareas/${e}/estado`,{estado:t,notas:r})).data.message}}catch(a){return console.error("Error al actualizar estado de mi tarea:",a),{success:!1,error:a.response?.data?.error||"Error al actualizar estado de mi tarea"}}},eliminarTarea:async e=>{try{return{success:!0,message:(await we.delete(`/tareas/${e}`)).data.message}}catch(t){return console.error("Error al eliminar tarea:",t),{success:!1,error:t.response?.data?.error||"Error al eliminar tarea"}}},reasignarTarea:async(e,t)=>{try{return{success:!0,message:(await we.put(`/tareas/${e}/reasignar`,{nuevo_trabajador_id:t})).data.message}}catch(r){return console.error("Error al reasignar tarea:",r),{success:!1,error:r.response?.data?.message||r.response?.data?.error||"Error al reasignar tarea"}}},obtenerEstadisticas:async()=>{try{return{success:!0,estadisticas:(await we.get("/tareas/estadisticas")).data.estadisticas||{}}}catch(e){return console.error("Error al obtener estadísticas:",e),{success:!1,error:e.response?.data?.error||"Error al obtener estadísticas"}}},enviarNotificacion:async(e,t)=>{try{return{success:!0,message:"Notificación enviada exitosamente"}}catch(r){return console.error("Error al enviar notificación:",r),{success:!1,error:"Error al enviar notificación"}}}},yl={obtenerHistorial:async(e={})=>{try{const{limit:t=50,offset:r=0}=e;return(await we.get(`/cortes-caja/historial?limit=${t}&offset=${r}`)).data}catch(t){throw console.error("Error al obtener historial de cortes:",t),t}},abonarCorte:async(e,{monto:t,nota:r})=>{try{return(await we.post(`/cortes-caja/${e}/abonar`,{monto:t,nota:r})).data}catch(a){throw console.error("Error al abonar corte:",a),a}},obtenerAbonos:async e=>{try{return(await we.get(`/cortes-caja/${e}/abonos`)).data}catch(t){throw console.error("Error al obtener abonos del corte:",t),t}},guardarCorte:async e=>{try{return(await we.post("/cortes-caja",e)).data}catch(t){throw console.error("Error al guardar corte de caja:",t),t}},obtenerCorte:async e=>{try{return(await we.get(`/cortes-caja/${e}`)).data}catch(t){throw console.error("Error al obtener corte:",t),t}},eliminarCorte:async e=>{try{return(await we.delete(`/cortes-caja/${e}`)).data}catch(t){throw console.error("Error al eliminar corte:",t),t}},obtenerEstadisticas:async(e={})=>{try{const{fecha_desde:t,fecha_hasta:r}=e;let a="/cortes-caja/estadisticas/resumen";const l=new URLSearchParams;return t&&l.append("fecha_desde",t),r&&l.append("fecha_hasta",r),l.toString()&&(a+=`?${l.toString()}`),(await we.get(a)).data}catch(t){throw console.error("Error al obtener estadísticas:",t),t}},obtenerMisCortes:async()=>{try{return(await we.get("/cortes-caja/mis-cortes")).data}catch(e){throw console.error("Error al obtener mis cortes:",e),e}}},Z_=y.createContext(),Mf=()=>{const e=y.useContext(Z_);if(!e)throw new Error("useUsers debe ser usado dentro de un UsersProvider");return e},HD=({children:e})=>{const[t,r]=y.useState(0),[a,l]=y.useState(null),[o,u]=y.useState({trabajadores:[],revendedores:[],usuarios:[]}),f=y.useCallback(()=>{console.log("🔄 Notificando cambios en usuarios..."),r(j=>j+1),l(null),window.dispatchEvent(new CustomEvent("usersChanged",{detail:{timestamp:Date.now()}}))},[]),m=y.useCallback(()=>{console.log("🔄 Notificando cambios en trabajadores..."),f(),window.dispatchEvent(new CustomEvent("trabajadoresChanged",{detail:{timestamp:Date.now()}}))},[f]),h=y.useCallback(()=>{console.log("🔄 Notificando cambios en revendedores..."),f(),window.dispatchEvent(new CustomEvent("revendedoresChanged",{detail:{timestamp:Date.now()}}))},[f]),p=y.useCallback(j=>{u(N=>({...N,...j}))},[]),x=y.useCallback(j=>{l(j)},[]),v={updateTrigger:t,dashboardData:a,usersData:o,notifyUsersChanged:f,notifyTrabajadoresChanged:m,notifyRevendedoresChanged:h,updateUsersData:p,updateDashboardData:x};return n.jsx(Z_.Provider,{value:v,children:e})},Q_=y.createContext(),Hn=()=>{const e=y.useContext(Q_);if(!e)throw new Error("useFichas debe ser usado dentro de un FichasProvider");return e},VD=({children:e})=>{const t=zr(),{notifyRevendedoresChanged:r,notifyTrabajadoresChanged:a,notifyUsersChanged:l,updateTrigger:o}=Mf(),u=t?.isAuthenticated||!1,f=t?.user||null,m=f?.tipo_usuario||f?.role,[h,p]=y.useState([]),[x,v]=y.useState([]),[j,N]=y.useState([]),[w,S]=y.useState([]),[E,_]=y.useState([]),[A,P]=y.useState({}),[D,M]=y.useState([]),[O,z]=y.useState([]),[F,W]=y.useState([]),[R,H]=y.useState([]),[T,L]=y.useState(!1),[B,$]=y.useState(null),q=async()=>{try{console.log("🔄 Recargando trabajadores disponibles desde API...");const ce=await or.obtenerTrabajadoresDisponibles();ce.success?(console.log("✅ Trabajadores disponibles recargados:",ce.trabajadores),W(ce.trabajadores)):console.error("❌ Error al recargar trabajadores disponibles:",ce.error)}catch(ce){console.error("❌ Error al recargar trabajadores disponibles:",ce)}},Z=async()=>{try{console.log("🔄 Recargando revendedores desde API...");const ce=await Ie.obtenerRevendedores();console.log("✅ Revendedores recargados:",ce),p(ce)}catch(ce){console.error("❌ Error al recargar revendedores:",ce)}};y.useEffect(()=>{let ce,te=!0;return u&&f&&te&&(console.log("🔄 Programando carga inicial de datos..."),ce=setTimeout(()=>{te&&(console.log("🚀 Iniciando carga de datos del contexto..."),le())},3e3)),()=>{te=!1,ce&&clearTimeout(ce)}},[u,f?.id]),y.useEffect(()=>{if(!u||!f||m!=="admin")return;console.log("� Configurando sistema de tiempo real optimizado...");let ce;const te=async()=>{if(ce){console.log("⏸️ Actualizacion de trabajadores ya programada, saltando...");return}ce=setTimeout(async()=>{console.log("🔄 Actualizando trabajadores (throttled)...");try{const Pt=await or.obtenerTrabajadoresDisponibles();Pt.success&&(W(Pt.trabajadores),console.log("✅ Trabajadores actualizados:",Pt.trabajadores.length))}catch(Pt){console.error("❌ Error actualizando trabajadores:",Pt)}finally{ce=null}},500)};let oe;const je=async()=>{if(oe){console.log("⏸️ Actualizacion de revendedores ya programada, saltando...");return}oe=setTimeout(async()=>{console.log("🔄 Actualizando revendedores (throttled)...");try{const Pt=await Ie.obtenerRevendedores();p(Pt),console.log("✅ Revendedores actualizados:",Pt.length)}catch(Pt){console.error("❌ Error actualizando revendedores:",Pt)}finally{oe=null}},700)},Ue=()=>{te()},jt=()=>{je()};return window.addEventListener("trabajadoresChanged",Ue),window.addEventListener("revendedoresChanged",jt),()=>{window.removeEventListener("trabajadoresChanged",Ue),window.removeEventListener("revendedoresChanged",jt)}},[u,f,m]),y.useEffect(()=>{u&&f&&m==="admin"&&o>0&&(console.log("🎯 Cambio detectado en UsersContext - recargando datos"),setTimeout(()=>{q()},1e3),setTimeout(()=>{Z()},1500))},[o,u,f,m]);const le=async(ce=!1)=>{if(T&&!ce){console.log("⚠️ Carga ya en progreso, evitando duplicación");return}try{L(!0),$(null),console.log("📦 Cargando datos esenciales (MODO CONSERVADOR)...",{userRole:m,forceRefresh:ce});const te=await Ie.obtenerTiposFicha();if(v(te),console.log("✅ Tipos de fichas cargados"),m==="admin"){console.log("👤 Modo admin detectado - cargando datos críticos con throttling conservador..."),await new Promise(oe=>setTimeout(oe,1e3));try{const oe=await Ie.obtenerRevendedores();p(oe),console.log("✅ Revendedores cargados")}catch(oe){console.error("❌ Error cargando revendedores:",oe)}setTimeout(async()=>{try{const oe=await Ie.obtenerStockGlobal();_(oe),console.log("✅ Stock global cargado (background)")}catch(oe){console.warn("⚠️ Error cargando stock global (no crítico):",oe),_([])}},2e3),setTimeout(async()=>{try{console.log("🔄 Cargando trabajadores (background)...");const oe=await or.obtenerTrabajadoresDisponibles();oe.success?(W(oe.trabajadores),console.log("✅ Trabajadores disponibles cargados (background):",oe.trabajadores.length)):(console.warn("⚠️ Error obteniendo trabajadores disponibles:",oe.error),W([]));const je=await or.obtenerTareas();je.success?(H(je.tareas),console.log("✅ Tareas cargadas (background):",je.tareas.length)):(console.warn("⚠️ Error obteniendo tareas:",je.error),H([]))}catch(oe){console.warn("⚠️ Error cargando trabajadores y tareas en background:",oe),W([]),H([])}},1e3)}else if(m==="revendedor"&&f?.revendedor_id){await new Promise(oe=>setTimeout(oe,200));try{console.log("🔍 Intentando cargar datos del revendedor:",{userRole:m,userId:f?.id,revendedorId:f?.revendedor_id,username:f?.username,fullUser:f});const oe=await Ie.obtenerRevendedorActual();p([oe]),console.log("✅ Datos del revendedor cargados:",oe);try{const je=await or.obtenerMisTareasRevendedor();je.success?(H(je.tareas),console.log("✅ Tareas cargadas para revendedor:",je.tareas.length)):(console.warn("⚠️ Error obteniendo tareas para revendedor:",je.error),H([]))}catch(je){console.warn("⚠️ Error cargando tareas para revendedor:",je),H([])}try{const je=await yl.obtenerMisCortes();je.success?(M(je.data),console.log("✅ Cortes de caja cargados para revendedor:",je.data.length)):(console.warn("⚠️ Error obteniendo cortes para revendedor:",je.error),M([]))}catch(je){console.warn("⚠️ Error cargando cortes para revendedor:",je),M([])}}catch(oe){if(console.error("❌ Error cargando datos del revendedor:",{error:oe.message,status:oe.response?.status,data:oe.response?.data,userInfo:{id:f?.id,username:f?.username,role:f?.role||f?.tipo_usuario,revendedor_id:f?.revendedor_id}}),oe.response?.status===403){console.warn("🚫 Error 403: Problema de autorización en el backend"),console.warn("💡 Verificar que el middleware de autenticación esté correctamente configurado");try{console.log("🔄 Intentando cargar datos básicos como fallback...");const Ue=(await Ie.obtenerRevendedores()).find(jt=>jt.id===f?.revendedor_id);Ue?(p([Ue]),console.log("✅ Datos básicos del revendedor cargados como fallback:",Ue)):(console.error("❌ No se encontró el revendedor con ID:",f?.revendedor_id),$("No se pudo encontrar tu información de revendedor. Contacta al administrador."),p([]))}catch(je){console.error("❌ Error en fallback:",je),$("Error de conexión. Verifica tu conexión a internet."),p([])}}else $(`Error al cargar datos: ${oe.message}`),p([]);N([])}}else if(m==="trabajador"){await new Promise(oe=>setTimeout(oe,200));try{const oe=await Ie.obtenerRevendedores();p(oe),console.log("✅ Datos para trabajador cargados")}catch(oe){console.warn("⚠️ Error cargando datos para trabajador:",oe),p([])}}console.log("✅ Carga de datos esenciales completada")}catch(te){console.error("❌ Error al cargar datos:",te),$(te.message||"Error al cargar datos")}finally{L(!1)}},U=async ce=>{try{const te=await Ie.crearRevendedor(ce);return p(oe=>[...oe,te]),r(),{success:!0,data:te}}catch(te){return console.error("Error al agregar revendedor:",te),{success:!1,error:te.message}}},X=async(ce,te)=>{try{const oe=await Ie.actualizarRevendedor(ce,te);return p(je=>je.map(Ue=>Ue.id===ce?oe:Ue)),r(),{success:!0,data:oe}}catch(oe){return console.error("Error al actualizar revendedor:",oe),{success:!1,error:oe.message}}},ne=async ce=>{try{return await Ie.eliminarRevendedor(ce),p(te=>te.filter(oe=>oe.id!==ce)),r(),{success:!0}}catch(te){return console.error("Error al eliminar revendedor:",te),{success:!1,error:te.message}}},ie=async ce=>{try{console.log(`Intentando eliminar trabajador con ID: ${ce}`);const te=await Ie.eliminarUsuario(ce);return console.log("Resultado del servicio:",te),W(oe=>oe.filter(je=>je.id!==ce)),{success:!0}}catch(te){return console.error("Error al eliminar trabajador:",{message:te.message,response:te.response?.data,status:te.response?.status,statusText:te.response?.statusText}),{success:!1,error:te.response?.data?.detail||te.response?.data?.error||te.message||"Error desconocido"}}},G=async ce=>{try{const te=await Ie.crearTrabajador(ce);return W(oe=>[...oe,te.usuario]),{success:!0,data:te.usuario,credenciales:te.credenciales}}catch(te){return console.error("Error al crear trabajador:",te),{success:!1,error:te.response?.data?.detail||te.message}}},ve=async ce=>{try{const te=await Ie.crearTipoFicha(ce);return v(oe=>[...oe,te]),{success:!0,data:te}}catch(te){return console.error("Error al agregar tipo de ficha:",te),{success:!1,error:te.message}}},K=async(ce,te)=>{try{const oe=await Ie.actualizarTipoFicha(ce,te);return v(je=>je.map(Ue=>Ue.id===ce?oe:Ue)),{success:!0,data:oe}}catch(oe){return console.error("Error al actualizar tipo de ficha:",oe),{success:!1,error:oe.message}}},ge=async ce=>{try{return await Ie.eliminarTipoFicha(ce),v(te=>te.filter(oe=>oe.id!==ce)),{success:!0}}catch(te){return console.error("Error al eliminar tipo de ficha:",te),{success:!1,error:te.message}}},Me=async(ce,te,oe,je)=>{try{const Ue=await Ie.ajustarInventario({revendedorId:ce,tipoFichaId:te,campo:oe,cantidad:je});return p(jt=>jt.map(Pt=>{if(Pt.id===ce){const Va=x.find(Ur=>Ur.id===te)?.nombre?.replace(" ","").replace("horas","h").replace("hora","h");if(Va){const Ur=`${oe}${Va}`;return{...Pt,[Ur]:Ue.nuevoValor}}}return Pt})),{success:!0,data:Ue}}catch(Ue){return console.error("Error al ajustar inventario:",Ue),{success:!1,error:Ue.message}}},ye=async(ce,te,oe)=>{try{const je=await Ie.updatePrecios(ce,{precios:te,comisiones:oe});return p(Ue=>Ue.map(jt=>jt.id===ce?{...jt,precios:te,comisiones:oe}:jt)),{success:!0,data:je}}catch(je){return console.error("Error al actualizar precios:",je),{success:!1,error:je.message}}},Se=async ce=>{try{return{success:!0,data:await Ie.getResumenFinanciero(ce)}}catch(te){return console.error("Error al obtener resumen financiero:",te),{success:!1,error:te.message}}},$e=async()=>{try{return{success:!0,data:await Ie.getAllResumenesFinancieros()}}catch(ce){return console.error("Error al obtener resúmenes financieros:",ce),{success:!1,error:ce.message}}},he=ce=>{let te=0,oe=0,je=0,Ue=0,jt=0,Pt=0;const Va=[];return(x||[]).forEach(Ur=>{const Ga=Ur.nombre||Ur,ar=Ga.replace(" ","").replace("horas","h").replace("hora","h"),Ta=ce[`entregadas${ar}`]||0,ee=ce[`vendidas${ar}`]||0,be=Ta-ee,ze=ce.precios?.[ar]||0,At=ce.comisiones?.[ar]||0;if(Ta>0||ee>0){const Je=ee*ze,gt=ee*At,_r=Je-gt;Va.push({tipo:Ga,fichasEntregadas:Ta,fichasVendidas:ee,fichasExistentes:be,precio:ze,subtotal:Je,comision:gt,total:_r}),te+=Ta,oe+=ee,je+=be,Ue+=Je,jt+=gt,Pt+=_r}}),{detallesPorTipo:Va,totalFichasEntregadas:te,totalFichasVendidas:oe,totalFichasExistentes:je,totalSubtotal:Ue,totalComision:jt,totalFinal:Pt,tieneInventario:Va.length>0}},at=async(ce,te)=>{try{const oe=await Ie.actualizarPorcentajeComision(ce,te);return p(je=>je.map(Ue=>Ue.id===ce?{...Ue,porcentaje_comision:te}:Ue)),{success:!0,data:oe}}catch(oe){return console.error("Error al actualizar porcentaje de comisión:",oe),{success:!1,error:oe.message}}},Fe=async ce=>{try{const te=await or.crearTarea(ce);return te.success&&(console.log("✅ Tarea creada con ID:",te.tarea_id),await Be()),te}catch(te){return console.error("Error al crear tarea:",te),{success:!1,error:te.message}}},Ct=async(ce,te,oe="")=>{try{const je=await or.actualizarEstadoTarea(ce,te,oe);return je.success&&H(Ue=>Ue.map(jt=>jt.id===ce?{...jt,estado:te,notas:oe,fecha_completado:te==="Completado"?new Date().toISOString().split("T")[0]:null}:jt)),je}catch(je){return console.error("Error al actualizar estado de tarea:",je),{success:!1,error:je.message}}},bt=async ce=>{try{const te=await or.eliminarTarea(ce);return te.success&&H(oe=>oe.filter(je=>je.id!==ce)),te}catch(te){return console.error("Error al eliminar tarea:",te),{success:!1,error:te.message}}},pe=async ce=>{try{const te=await or.crearTrabajador(ce);if(te.success){const oe=await or.obtenerTrabajadores();oe.success&&W(oe.trabajadores)}return te}catch(te){return console.error("Error al crear trabajador:",te),{success:!1,error:te.message}}},Ee=async ce=>{try{const te=await or.eliminarTrabajador(ce);return te.success&&(W(oe=>oe.filter(je=>je.id!==ce)),H(oe=>oe.filter(je=>je.trabajador_id!==ce))),te}catch(te){return console.error("Error al eliminar trabajador:",te),{success:!1,error:te.message}}},Be=async()=>{try{const ce=await or.obtenerTareas();return ce.success&&H(ce.tareas),ce}catch(ce){return console.error("Error al recargar tareas:",ce),{success:!1,error:ce.message}}},_e={revendedores:h,tiposFicha:x,entregas:j,inventarios:w,stockGlobal:E,corteCaja:A,historialCortes:D,reportesFichas:O,trabajadores:F,tareasMantenimiento:R,loading:T,error:B,setRevendedores:p,setTiposFicha:v,setEntregas:N,setStockGlobal:_,setCorteCaja:P,setHistorialCortes:M,setReportesFichas:z,setTrabajadores:W,setTareasMantenimiento:H,loadAllData:le,agregarRevendedor:U,actualizarRevendedor:X,eliminarRevendedor:ne,agregarTipoFicha:ve,actualizarTipoFicha:K,eliminarTipoFicha:ge,ajustarInventario:Me,actualizarPrecios:ye,getResumenFinanciero:Se,getAllResumenesFinancieros:$e,calcularResumenFinanciero:he,eliminarTrabajador:ie,crearTrabajador:G,actualizarPorcentajeComision:at,crearTarea:Fe,actualizarEstadoTarea:Ct,eliminarTarea:bt,crearTrabajadorMantenimiento:pe,eliminarTrabajadorMantenimiento:Ee,recargarTareas:Be,recargarTrabajadores:q,recargarRevendedores:Z,cargarHistorialCortes:async(ce={})=>{try{const te=await yl.obtenerHistorial(ce);return te.success&&M(te.data),te}catch(te){return console.error("Error al cargar historial de cortes:",te),{success:!1,error:te.message}}},guardarCorte:async ce=>{try{const te=await yl.guardarCorte(ce);return te.success&&M(oe=>[te.data,...oe]),te}catch(te){return console.error("Error al guardar corte:",te),{success:!1,error:te.message}}},eliminarCorte:async ce=>{try{const te=await yl.eliminarCorte(ce);return te.success&&M(oe=>oe.filter(je=>je.id!==ce)),te}catch(te){return console.error("Error al eliminar corte:",te),{success:!1,error:te.message}}},obtenerEstadisticasCortes:async(ce={})=>{try{return await yl.obtenerEstadisticas(ce)}catch(te){return console.error("Error al obtener estadísticas de cortes:",te),{success:!1,error:te.message}}}};return n.jsx(Q_.Provider,{value:_e,children:e})};function GD(){const e=zr(),[t,r]=y.useState(!1),a=e.isAuthenticated,l=e.user,o=l?.tipo_usuario==="admin",u=l?.tipo_usuario==="revendedor",f=l?.tipo_usuario==="trabajador",m=async x=>{r(!0);try{return await e.login(x)}catch(v){return{success:!1,error:v.message||"Error de autenticación"}}finally{r(!1)}},h=async()=>{r(!0);try{return e.logout(),{success:!0}}catch(x){return console.error("Logout error:",x),e.logout(),{success:!0}}finally{r(!1)}},p=x=>{if(!a)return!1;const j={"/admin":["admin"],"/admin/dashboard":["admin"],"/admin/entregas":["admin"],"/admin/reportes":["admin"],"/admin/tareas":["admin"],"/admin/corte-caja":["admin"],"/admin/stock":["admin"],"/revendedor":["admin","revendedor"],"/revendedor/vista":["admin","revendedor"],"/trabajador":["admin","trabajador"],"/trabajador/vista":["admin","trabajador"]}[x];return j?j.includes(l?.tipo_usuario):!0};return{isAuthenticated:a,user:l,loading:t||e.loading,isAdmin:o,isRevendedor:u,isTrabajador:f,login:m,logout:h,canAccessRoute:p,get userDisplayName(){return l?.username||"Usuario"},get userRole(){return l?.tipo_usuario||"guest"},get userRoleDisplay(){return{admin:"Administrador",revendedor:"Revendedor",trabajador:"Trabajador"}[l?.tipo_usuario]||"Invitado"}}}const KD=({onAdminCreated:e})=>{const[t,r]=y.useState({username:"",email:"",password:"",confirmPassword:"",nombre_completo:""}),[a,l]=y.useState(!1),[o,u]=y.useState(""),f=p=>{const{name:x,value:v}=p.target;r(j=>({...j,[x]:v})),o&&u("")},m=()=>t.username.trim()?t.email.trim()?t.email.includes("@")?t.nombre_completo.trim()?t.password.length<6?(u("La contraseña debe tener al menos 6 caracteres"),!1):t.password!==t.confirmPassword?(u("Las contraseñas no coinciden"),!1):!0:(u("El nombre completo es requerido"),!1):(u("El email debe tener un formato válido"),!1):(u("El email es requerido"),!1):(u("El nombre de usuario es requerido"),!1),h=async p=>{if(p.preventDefault(),!!m()){l(!0),u("");try{const x=await fetch("/api/auth/create-initial-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,email:t.email,password:t.password,nombre_completo:t.nombre_completo})}),v=await x.json();if(!x.ok)throw new Error(v.detail||v.error||"Error creando administrador");e&&e(v.admin)}catch(x){console.error("Error:",x),u(x.message)}finally{l(!1)}}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:n.jsx(Rd,{className:"w-8 h-8 text-indigo-600"})})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configuración Inicial"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"No se encontró un administrador en el sistema. Crea el administrador principal para acceder al sistema."})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Zt,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-yellow-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"¡Importante!"}),n.jsx("p",{children:"Este administrador será el usuario principal del sistema. Guarda las credenciales en un lugar seguro."})]})]})}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zt,{className:"w-5 h-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-sm text-red-800",children:o})]})}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"nombre_completo",className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(br,{className:"w-4 h-4 inline mr-2"}),"Nombre Completo"]}),n.jsx("input",{type:"text",id:"nombre_completo",name:"nombre_completo",value:t.nombre_completo,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Ej: Juan Administrador",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(br,{className:"w-4 h-4 inline mr-2"}),"Nombre de Usuario"]}),n.jsx("input",{type:"text",id:"username",name:"username",value:t.username,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Ej: admin",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(aD,{className:"w-4 h-4 inline mr-2"}),"Email"]}),n.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"admin@empresa.com",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Cg,{className:"w-4 h-4 inline mr-2"}),"Contraseña"]}),n.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Mínimo 6 caracteres",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Cg,{className:"w-4 h-4 inline mr-2"}),"Confirmar Contraseña"]}),n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Repite la contraseña",required:!0})]}),n.jsx("button",{type:"submit",disabled:a,className:"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:a?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creando Administrador..."]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(X_,{className:"w-4 h-4 mr-2"}),"Crear Administrador Principal"]})})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsx("p",{className:"text-xs text-gray-500",children:"Una vez creado el administrador, podrás iniciar sesión normalmente"})})]})})},Og={async getBranding(){return await Pe.get("/configuracion/branding")},async setBranding({name:e,tagline:t,logoDataUrl:r}){return await Pe.put("/configuracion/branding",{name:e,tagline:t,logoDataUrl:r})}},YD=({onLogin:e})=>{const{login:t,loading:r}=GD(),a=Fn(),[l,o]=y.useState({username:"",password:""}),[u,f]=y.useState(!1),[m,h]=y.useState(""),[p,x]=y.useState(!0),[v,j]=y.useState(!1),[N,w]=y.useState(!0),[S,E]=y.useState({name:"Plaza Wifi",tagline:"Sistema de Gestión v2.0",logoDataUrl:null});y.useEffect(()=>{(async()=>{try{const F=await Og.getBranding();F&&E({name:F.name||"Plaza Wifi",tagline:F.tagline||"Sistema de Gestión v2.0",logoDataUrl:F.logoDataUrl||null})}catch{}})();const z=F=>E(W=>({...W,...F.detail||{}}));return window.addEventListener("brandingChanged",z),()=>window.removeEventListener("brandingChanged",z)},[]),y.useEffect(()=>{_()},[]);const _=async()=>{try{const O=await fetch("/api/auth/admin-exists");if(!O.ok){x(!0);return}const z=await O.json();x(!!z?.adminExists)}catch(O){console.error("Error verificando admin:",O),x(!0)}finally{w(!1)}},A=O=>{console.log("Administrador creado:",O),x(!0),j(!1)},P=(O,z)=>{o(F=>({...F,[O]:z})),h("")},D=async()=>{h("");try{if(!l.username||!l.password)throw new Error("Por favor ingresa usuario y contraseña");const O=await t(l);if(O.success===!1)throw new Error(O.error||"Error de autenticación");a("/",{replace:!0})}catch(O){h(O.message||"Error al iniciar sesión")}},M=I1;return n.jsxs("div",{className:"fixed inset-0 w-full h-full overflow-auto",children:[n.jsx("div",{className:"fixed inset-0 w-full h-full bg-slate-900",style:{backgroundImage:`
            radial-gradient(circle at 25% 25%, rgba(148, 163, 184, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 75% 75%, rgba(148, 163, 184, 0.1) 0%, transparent 50%),
            linear-gradient(135deg, rgba(148, 163, 184, 0.05) 0%, transparent 50%),
            repeating-linear-gradient(
              45deg,
              transparent,
              transparent 60px,
              rgba(148, 163, 184, 0.03) 60px,
              rgba(148, 163, 184, 0.03) 62px
            )
          `}}),n.jsx("div",{className:"fixed inset-0 w-full h-full opacity-30",style:{backgroundImage:`
            linear-gradient(rgba(148, 163, 184, 0.1) 1px, transparent 1px),
            linear-gradient(90deg, rgba(148, 163, 184, 0.1) 1px, transparent 1px)
          `,backgroundSize:"50px 50px"}}),n.jsx("div",{className:"relative z-10 bg-slate-800/80 backdrop-blur-sm border-b border-slate-700",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-slate-600 rounded-lg flex items-center justify-center overflow-hidden",children:S.logoDataUrl?n.jsx("img",{src:S.logoDataUrl,alt:"logo",className:"w-full h-full object-cover"}):n.jsx(I1,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),n.jsx("span",{className:"text-white font-semibold text-base sm:text-lg",children:S.name})]}),n.jsx("div",{className:"text-slate-300 text-xs sm:text-sm",children:S.tagline})]})}),n.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-[calc(100vh-80px)] py-4 sm:py-8 px-4",children:n.jsxs("div",{className:"w-full max-w-sm sm:max-w-md",children:[n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-slate-200/50",children:[n.jsxs("div",{className:"px-6 sm:px-8 py-6 sm:py-8 text-center border-b border-slate-200",children:[n.jsx("div",{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 bg-slate-100 rounded-xl flex items-center justify-center mb-4 shadow-inner",children:n.jsx(M,{className:"w-6 h-6 sm:w-8 sm:h-8 text-slate-600"})}),n.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 mb-2",children:"Iniciar sesión"}),n.jsx("p",{className:"text-slate-600 text-sm",children:"Accede a tu cuenta para continuar"})]}),n.jsx("div",{className:"p-6 sm:p-8",children:n.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[m&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[n.jsx(Zt,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-red-700 text-sm",children:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Usuario"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",value:l.username,onChange:O=>P("username",O.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-3 sm:py-4 border border-slate-300 rounded-xl focus:ring-2 focus:ring-slate-500 focus:border-slate-500 transition-all duration-200 bg-white text-sm sm:text-base",placeholder:"Ingresa tu usuario",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Contraseña"}),n.jsxs("div",{className:"relative",children:[n.jsx(Cg,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:u?"text":"password",value:l.password,onChange:O=>P("password",O.target.value),className:"w-full pl-10 sm:pl-12 pr-12 sm:pr-14 py-3 sm:py-4 border border-slate-300 rounded-xl focus:ring-2 focus:ring-slate-500 focus:border-slate-500 transition-all duration-200 bg-white text-sm sm:text-base",placeholder:"Ingresa tu contraseña",required:!0}),n.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:u?n.jsx(_s,{className:"w-5 h-5"}):n.jsx(Sa,{className:"w-5 h-5"})})]})]}),n.jsx("button",{onClick:D,disabled:r||!l.username||!l.password,className:"w-full bg-slate-800 hover:bg-slate-900 disabled:bg-slate-300 disabled:cursor-not-allowed text-white py-3 sm:py-4 px-6 rounded-xl font-semibold flex items-center justify-center space-x-3 transition-all duration-200 shadow-lg hover:shadow-xl text-sm sm:text-base",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n.jsx("span",{children:"Autenticando..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Iniciar Sesión"}),n.jsx(G_,{className:"w-5 h-5"})]})})]})})]}),n.jsxs("div",{className:"mt-6 sm:mt-8 text-center space-y-3",children:[!p&&!N&&n.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx(Zt,{className:"w-5 h-5 text-amber-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-amber-800",children:"No hay administrador en el sistema"})]}),n.jsxs("button",{onClick:()=>j(!0),className:"flex items-center justify-center mx-auto px-4 py-2 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors",children:[n.jsx(X_,{className:"w-4 h-4 mr-2"}),"Crear Administrador Inicial"]})]}),n.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"© 2025 Plaza Wifi. Sistema de Gestión Empresarial"})]})]})}),v&&n.jsxs("div",{className:"fixed inset-0 z-50",children:[n.jsx(KD,{onAdminCreated:A}),n.jsx("button",{onClick:()=>j(!1),className:"absolute top-4 right-4 bg-white/90 hover:bg-white text-gray-600 hover:text-gray-800 p-2 rounded-full shadow-lg transition-colors z-10",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N&&n.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center bg-black/50",children:n.jsx("div",{className:"w-16 h-16 border-4 border-white/30 border-t-white rounded-full animate-spin"})})]})},XD=()=>{const{updateTrigger:e,dashboardData:t,updateDashboardData:r}=Mf(),[a,l]=y.useState({revendedores:[],entregas:[],trabajadores:[],reportesFichas:[],tareasMantenimiento:[],corteCaja:{},tiposFicha:[],loading:!0,error:null});y.useEffect(()=>{let T;if(t){l(B=>({...B,...t,loading:!1,error:null}));return}return T=setTimeout(async()=>{try{l($=>({...$,loading:!0,error:null}));const B=await we.get("/dashboard/stats");if(B.data&&B.data.success){const $=B.data.data;l({revendedores:$.revendedores||[],entregas:$.entregas||[],trabajadores:$.trabajadores||[],reportesFichas:$.reportesFichas||[],tareasMantenimiento:$.tareasMantenimiento||[],corteCaja:$.corteCaja||{},tiposFicha:$.tiposFicha||[],loading:!1,error:null}),r($),console.log("✅ Dashboard datos frescos cargados")}else throw new Error("Respuesta inválida del servidor")}catch(B){console.error("❌ Error loading dashboard data:",B),l($=>({...$,loading:!1,error:B.response?.data?.detail||B.message||"Error al cargar datos del dashboard"}))}},1200),()=>clearTimeout(T)},[t,r]);const o=async()=>{try{l(L=>({...L,loading:!0,error:null}));const T=await we.get("/dashboard/stats");if(T.data&&T.data.success){const L=T.data.data;l({revendedores:L.revendedores||[],entregas:L.entregas||[],trabajadores:L.trabajadores||[],reportesFichas:L.reportesFichas||[],tareasMantenimiento:L.tareasMantenimiento||[],corteCaja:L.corteCaja||{},tiposFicha:L.tiposFicha||[],loading:!1,error:null}),r(L)}}catch(T){console.error("❌ Error recargando datos:",T),l(L=>({...L,loading:!1,error:T.response?.data?.detail||T.message||"Error al recargar datos"}))}};if(a.loading)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Cargando dashboard..."})]})});if(a.error)return n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex",children:[n.jsx(Tt,{className:"h-5 w-5 text-red-400 mr-3 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error al cargar el dashboard"}),n.jsx("p",{className:"mt-1 text-sm text-red-700",children:a.error})]})]})});const{revendedores:u=[],entregas:f=[],trabajadores:m=[],reportesFichas:h=[],tareasMantenimiento:p=[],corteCaja:x={},tiposFicha:v=[]}=a,j=Array.isArray(u)?u:[],N=Array.isArray(f)?f:[],w=Array.isArray(h)?h:[],S=Array.isArray(p)?p:[],E=Array.isArray(v)?v:[],_=j.length,A=j.filter(T=>T.activo===1||T.activo===!0).length,P=N.reduce((T,L)=>T+(L.cantidad||0),0),D=S.filter(T=>T.estado==="Pendiente").length,M=S.filter(T=>T.estado==="Pendiente"&&(T.prioridad==="Urgente"||T.prioridad==="Alta")).length,O=w.filter(T=>!T.estado?.includes("Verificado")).length,z=x&&x.totalGeneralVendido||0,F=x&&x.totalGeneralGanancias||0,W=j.map(T=>{const L=T.total_fichas||0,B=N.filter(le=>le.revendedorId===T.id),$=B.reduce((le,U)=>le+(U.cantidad||0),0),q=B.length>0?Math.max(...B.map(le=>{const U=new Date(le.fecha_completa||le.fecha||Date.now());return isNaN(U.getTime())?0:U.getTime()}).filter(le=>le>0)):null,Z=q?new Date(q).toISOString().split("T")[0]:"Nunca";return{...T,totalInventario:L,totalEntregado:$,fechaUltimaEntrega:Z,estaActivo:L>0}}),R=(E||[]).map(T=>{const L=typeof T=="object"?T.nombre:T,B=j.reduce((le,U)=>L.includes("1 hora")||L.includes("1h")?le+(U.fichas1h||0):L.includes("2 horas")||L.includes("2h")?le+(U.fichas2h||0):L.includes("3 horas")||L.includes("3h")?le+(U.fichas3h||0):L.includes("5 horas")||L.includes("5h")?le+(U.fichas5h||0):le,0),$=N.filter(le=>le.tipoFicha===L).reduce((le,U)=>le+(U.cantidad||0),0),q=B+$,Z=q>0?Math.round($/q*100):0;return{tipo:L,totalEnInventario:B,totalEntregado:$,porcentajeVendido:Z,porcentaje:$>0?Math.round(B/$*100):0}}),H=[];return M>0&&H.push({tipo:"urgente",mensaje:`${M} tarea(s) de mantenimiento urgente(s) pendiente(s)`,icono:Tt,color:"red"}),O>0&&H.push({tipo:"info",mensaje:`${O} reporte(s) de fichas pendiente(s) de verificación`,icono:Sa,color:"amber"}),A<_&&H.push({tipo:"warning",mensaje:`${_-A} revendedor(es) sin fichas en inventario`,icono:ur,color:"slate"}),n.jsx("div",{className:"bg-gray-50 min-h-screen",children:n.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6 sm:space-y-8",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Dashboard"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Resumen general del sistema"})]}),n.jsxs("button",{onClick:o,disabled:a.loading,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 transition-colors",children:[n.jsx(U1,{className:`w-4 h-4 ${a.loading?"animate-spin":""}`}),n.jsx("span",{className:"hidden sm:inline",children:a.loading?"Cargando...":"Recargar Datos"})]})]}),H.length>0&&n.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-50 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(gP,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Alertas Activas"}),n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Elementos que requieren tu atención"})]})]}),n.jsx("div",{className:"space-y-2 sm:space-y-3",children:H.map((T,L)=>{const B=T.icono,$={red:"bg-red-50 border-red-100 text-red-800",amber:"bg-amber-50 border-amber-100 text-amber-800",slate:"bg-slate-50 border-slate-100 text-slate-800"},q={red:"text-red-500",amber:"text-amber-500",slate:"text-slate-500"},Z=`${T.tipo}-${T.color}-${Math.abs((T.mensaje||"").split("").reduce((le,U)=>(le<<5)-le+U.charCodeAt(0),0))}`;return n.jsxs("div",{className:`flex items-center p-3 sm:p-4 rounded-lg sm:rounded-xl border ${$[T.color]}`,children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-lg bg-white flex items-center justify-center mr-3 sm:mr-4 flex-shrink-0",children:n.jsx(B,{className:`w-3 h-3 sm:w-4 sm:h-4 ${q[T.color]}`})}),n.jsx("span",{className:"font-medium text-sm sm:text-base",children:T.mensaje})]},Z)})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Ea,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-500 flex-shrink-0"}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Revendedores"})]}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:_}),n.jsx("div",{className:"flex items-center mt-2 sm:mt-3 text-xs sm:text-sm",children:n.jsxs("div",{className:"flex items-center text-emerald-600",children:[n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2 flex-shrink-0"}),n.jsxs("span",{className:"font-medium",children:[A," activos"]})]})})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-slate-50 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(Ad,{className:"w-5 h-5 sm:w-6 sm:h-6 text-slate-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(ur,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-500 flex-shrink-0"}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Fichas"})]}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:(P||0).toLocaleString()}),n.jsx("div",{className:"flex items-center mt-2 sm:mt-3 text-xs sm:text-sm text-gray-600",children:n.jsx("span",{children:"Total histórico"})})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-50 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(ur,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Al,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-500 flex-shrink-0"}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Ventas"})]}),n.jsxs("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:["$",(z||0).toLocaleString("es-MX",{minimumFractionDigits:0})]}),n.jsx("div",{className:"flex items-center mt-2 sm:mt-3 text-xs sm:text-sm text-gray-600",children:n.jsx("span",{children:"Último corte"})})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-emerald-50 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(Al,{className:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(As,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-500 flex-shrink-0"}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Ganancias"})]}),n.jsxs("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:["$",(F||0).toLocaleString("es-MX",{minimumFractionDigits:0})]}),n.jsx("div",{className:"flex items-center mt-2 sm:mt-3 text-xs sm:text-sm text-gray-600",children:n.jsx("span",{children:"Último corte"})})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-50 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(As,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-amber-50 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(Tt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Estado de Mantenimiento"}),n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Resumen de tareas técnicas"})]})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4 bg-gray-50 rounded-lg sm:rounded-xl",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0",children:[n.jsx(ba,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-gray-700 text-sm sm:text-base",children:"Pendientes"})]}),n.jsx("span",{className:"bg-amber-100 text-amber-800 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium flex-shrink-0",children:D})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4 bg-gray-50 rounded-lg sm:rounded-xl",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0",children:[n.jsx(St,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-500 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-gray-700 text-sm sm:text-base",children:"Completadas"})]}),n.jsx("span",{className:"bg-emerald-100 text-emerald-800 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium flex-shrink-0",children:S.filter(T=>T.estado==="Completado").length})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4 bg-gray-50 rounded-lg sm:rounded-xl",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0",children:[n.jsx(Ss,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-gray-700 text-sm sm:text-base",children:"Urgentes"})]}),n.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium flex-shrink-0 ${M>0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:M})]}),n.jsxs("div",{className:"pt-3 sm:pt-4",children:[n.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-gray-600 mb-2",children:[n.jsx("span",{children:"Progreso general"}),n.jsxs("span",{children:[S.length>0?Math.round(S.filter(T=>T.estado==="Completado").length/S.length*100):0,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${S.length>0?S.filter(T=>T.estado==="Completado").length/S.length*100:0}%`}})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-50 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(U1,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Inventario por Tipo"}),n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Distribución de fichas"})]})]}),n.jsx("div",{className:"space-y-3 sm:space-y-4",children:R.map(T=>n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-slate-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-xs font-semibold text-slate-600",children:T.tipo.split(" ")[0]})}),n.jsx("span",{className:"font-medium text-gray-700 text-sm sm:text-base truncate",children:T.tipo})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:[T.totalEnInventario," rest."]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[T.totalEntregado," entregadas"]})]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(T.porcentajeVendido||0,100)}%`}})})]},`${T.tipo}-${T.totalEnInventario}-${T.totalEntregado}`))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-50 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(ur,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Entregas Recientes"}),n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Últimas 5 entregas realizadas"})]})]}),n.jsxs("div",{className:"space-y-2 sm:space-y-3 max-h-64 sm:max-h-80 overflow-y-auto",children:[N.slice(-5).reverse().map((T,L)=>{const B=j.find($=>$.id===T.revendedorId);return n.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4 bg-gray-50 rounded-lg sm:rounded-xl",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:B?.nombre}),n.jsxs("p",{className:"text-xs text-gray-600",children:[T.cantidad," × ",T.tipoFicha]})]}),n.jsxs("div",{className:"text-right flex-shrink-0 ml-3",children:[n.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["$",((T.cantidad||0)*(T.precio||0)).toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-500",children:T.fecha})]})]},`${T.id||"e"}-${T.fecha||L}`)}),N.length===0&&n.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-500",children:[n.jsx(ur,{className:"mx-auto h-6 w-6 sm:h-8 sm:w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-xs sm:text-sm",children:"No hay entregas registradas"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-purple-50 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(Ea,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Top Revendedores"}),n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Por fichas en inventario"})]})]}),n.jsxs("div",{className:"space-y-2 sm:space-y-3 max-h-64 sm:max-h-80 overflow-y-auto",children:[W.sort((T,L)=>L.totalInventario-T.totalInventario).slice(0,5).map((T,L)=>n.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4 bg-gray-50 rounded-lg sm:rounded-xl",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-slate-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-xs font-bold text-slate-600",children:L+1})}),n.jsx("div",{className:"min-w-0",children:(()=>{const B=T.responsable||T.nombre||T.nombre_negocio||"—",$=T.nombre_negocio&&T.nombre_negocio!==B?T.nombre_negocio:"";return n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:B}),$&&n.jsx("p",{className:"text-xs text-gray-600 truncate",children:$})]})})()})]}),n.jsx("div",{className:"text-right flex-shrink-0 ml-3",children:n.jsxs("span",{className:`inline-flex items-center px-2 sm:px-2.5 py-0.5 rounded-full text-xs font-medium ${T.estaActivo?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:[T.totalInventario," fichas"]})})]},`${T.id}-${T.totalInventario}`)),j.length===0&&n.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-500",children:[n.jsx(Ea,{className:"mx-auto h-6 w-6 sm:h-8 sm:w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-xs sm:text-sm",children:"No hay revendedores registrados"})]})]})]})]})]})})},WD=({message:e,type:t,onClose:r})=>{y.useEffect(()=>{const o=setTimeout(r,3e3);return()=>clearTimeout(o)},[r]);const a="fixed top-5 right-5 z-50 p-4 rounded-xl shadow-lg border max-w-sm w-full animate-in fade-in-5 slide-in-from-top-5",l={success:"bg-green-100 border-green-200 text-green-800",error:"bg-red-100 border-red-200 text-red-800"};return n.jsx("div",{className:`${a} ${l[t]}`,children:n.jsx("p",{className:"font-medium",children:e})})},ZD=({title:e,message:t,onConfirm:r,onCancel:a})=>n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in-25",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 sm:p-8 max-w-md w-full shadow-2xl border animate-in zoom-in-95",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:n.jsx(Tt,{className:"w-6 h-6 text-red-600"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e})]}),n.jsx("p",{className:"text-gray-700 mb-6 whitespace-pre-line",children:t}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("button",{onClick:r,className:"w-full sm:flex-1 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl font-medium transition-colors flex items-center justify-center",children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Eliminar"]}),n.jsxs("button",{onClick:a,className:"w-full sm:flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium transition-colors flex items-center justify-center",children:[n.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]})}),QD=({resumen:e})=>{const[t,r]=y.useState(!0);return e.tieneInventario?n.jsxs("div",{className:"mt-4",children:[n.jsxs("button",{onClick:()=>r(!t),className:"w-full flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200 hover:bg-green-100 transition-colors",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Cl,{className:"w-5 h-5 mr-3 text-green-600"}),n.jsx("span",{className:"font-semibold text-green-800 text-base",children:"Resumen Financiero"})]}),t?n.jsx(U0,{className:"w-5 h-5 text-green-600"}):n.jsx(Sl,{className:"w-5 h-5 text-green-600"})]}),t&&n.jsx("div",{className:"mt-2 bg-white p-4 rounded-lg border border-gray-200 animate-in fade-in-50",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-600 text-sm mb-2 font-medium",children:"Total Fichas"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[n.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Entregadas"}),n.jsx("div",{className:"font-semibold text-blue-800 text-lg",children:e.totalFichasEntregadas})]}),n.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Vendidas"}),n.jsx("div",{className:"font-semibold text-green-800 text-lg",children:e.totalFichasVendidas})]}),n.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded",children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Existentes"}),n.jsx("div",{className:"font-semibold text-orange-800 text-lg",children:e.totalFichasExistentes})]})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-600 text-sm mb-2 font-medium",children:"Cálculos Finales"}),n.jsxs("div",{className:"space-y-2 bg-gray-50 p-3 rounded",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:"Subtotal (Ventas):"}),n.jsxs("span",{className:"font-semibold text-blue-800",children:["$",(e.totalSubtotal||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-700",children:["Mi ganancia (",e.porcentajeGananciaCreador??20,"%):"]}),n.jsxs("span",{className:"font-semibold text-orange-800",children:["$",(e.totalGananciaCreador||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-base pt-2 border-t",children:[n.jsx("span",{className:"font-medium text-gray-800",children:"Para el revendedor:"}),n.jsxs("span",{className:"font-bold text-green-800 text-xl",children:["$",(e.totalGananciaRevendedor||0).toFixed(2)]})]})]})]})]})})]}):null},JD=({revendedor:e,tiposFicha:t,onEditPrecios:r,onDelete:a,onEditComision:l,onUpdateVendidas:o,calcularResumenFinanciero:u,ajustarInventarioExcel:f,porcentajeGlobal:m})=>{const[h,p]=y.useState({}),x=u(e),v=e.porcentaje_comision;let j=Number.isFinite(Number(v))?Number(v):NaN;const N=!Number.isNaN(j)&&j>0?j:null,w=m!=null&&`${m}`.trim()!==""&&!Number.isNaN(parseFloat(m))?parseFloat(m):null,S=N!==null?N:w!==null?w:20,E=N===null,_=(P,D)=>{(D===""||/^\d+$/.test(D))&&p(M=>({...M,[P]:D}))},A=P=>{const M=e.inventarios?.find(z=>z.tipo_ficha_id===P)?.fichas_entregadas||0,O=parseInt(h[P]||"0",10);O>=0&&O<=M?(o(e.id,P,O),p(z=>{const F={...z};return delete F[P],F})):alert(`El número de fichas vendidas debe estar entre 0 y ${M}.`)};return n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex-1",children:[(()=>{const P=e.responsable||e.nombre||e.nombre_negocio||"—",D=e.nombre_negocio&&e.nombre_negocio!==P?e.nombre_negocio:"";return n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center text-lg",children:[n.jsx(br,{className:"w-5 h-5 mr-3 text-gray-500"}),P]}),D&&n.jsxs("div",{className:"pl-8 mt-1 text-sm text-gray-600 flex items-center",children:[n.jsx(sn,{className:"w-4 h-4 mr-2 text-gray-400"}),D]})]})})(),n.jsxs("div",{className:"mt-2 space-y-1 pl-8",children:[n.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[n.jsx(q0,{className:"w-4 h-4 mr-2 text-gray-400"}),e.telefono]}),e.direccion&&n.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[n.jsx(fc,{className:"w-4 h-4 mr-2 text-gray-400"}),e.direccion]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-1",children:[n.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[n.jsx(Cl,{className:"w-4 h-4 mr-2 text-gray-400"}),"Comisión: ",S.toFixed(2),"%",E?" (global)":""]}),n.jsx("button",{onClick:()=>l(e),className:"text-blue-600 hover:text-blue-700 text-xs font-semibold px-2 py-1 rounded hover:bg-blue-50 transition-colors",children:"Editar"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>r(e.id),className:"text-blue-600 hover:text-blue-700 p-2 rounded-full hover:bg-blue-50 transition-colors",title:"Editar precios",children:n.jsx(Lc,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>a(e),className:"text-red-600 hover:text-red-700 p-2 rounded-full hover:bg-red-50 transition-colors",title:"Eliminar revendedor",children:n.jsx(ta,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:(t||[]).map(P=>{const D=e.inventarios?.find(R=>R.tipo_ficha_id===P.id),M=D?.fichas_entregadas||0,O=D?.fichas_vendidas||0;D?.stock_actual??M-O;const z=M-O;if(M===0&&O===0)return null;const F=h[P.id],W=F!==void 0&&parseInt(F||0)!==O;return n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[n.jsx("div",{className:"text-base font-semibold text-gray-800 mb-3",children:P.nombre}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mb-3",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-600 text-xs",children:"Entregadas"}),n.jsx("div",{className:"font-semibold text-lg text-blue-800 p-2 bg-blue-100 rounded",children:M})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-600 text-xs",children:"Vendidas (Editable, acumulado)"}),n.jsx("input",{type:"text",inputMode:"numeric",value:F!==void 0?F:O,onChange:R=>_(P.id,R.target.value),className:"w-full font-semibold text-lg text-green-800 bg-white rounded px-2 py-1 text-center border-2 border-green-300 focus:ring-2 focus:ring-green-400",title:`Es un valor acumulado hasta hoy. No crea ventas ni afecta reportes hasta hacer un corte. Máximo permitido: ${M}.`})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-600 text-xs",children:"Existentes"}),n.jsx("div",{className:`font-semibold text-lg p-2 rounded ${z>0?"text-orange-800 bg-orange-100":"text-red-800 bg-red-100"}`,children:z})]})]}),W&&n.jsx("button",{onClick:()=>A(P.id),className:"w-full bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-semibold transition-colors mb-2 animate-in fade-in-50",children:"Guardar"}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-2 border-t pt-3 mt-2",children:[n.jsx("button",{onClick:()=>f(e.id,P.nombre,"entregadas",1),className:"bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded text-sm transition-colors",title:"Agregar entregada",children:"+Entregada"}),n.jsx("button",{onClick:()=>f(e.id,P.nombre,"vendidas",1),className:"bg-green-100 hover:bg-green-200 text-green-700 px-3 py-1 rounded text-sm transition-colors",title:"Agregar vendida",children:"+Vendida"}),n.jsx("button",{onClick:()=>f(e.id,P.nombre,"vendidas",-1),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-1 rounded text-sm transition-colors",title:"Restar vendida",children:"-Vendida"})]})]},P.id)})}),n.jsx(QD,{resumen:x})]})},eR=({isOpen:e,onClose:t,onSave:r,tiposFicha:a,revendedorId:l})=>{const[o,u]=y.useState({});if(y.useEffect(()=>{(async()=>{if(e&&l)try{const p=(await Ie.obtenerPreciosRevendedor(l)).reduce((x,v)=>(x[v.tipo_ficha_id]=v.precio,x),{});u(p)}catch(h){console.error("Error fetching prices:",h)}})()},[e,l]),!e)return null;const f=()=>{r(l,o)};return n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 sm:p-8 max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Editar Precios"}),n.jsx("div",{className:"space-y-4",children:(a||[]).map(m=>n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl flex justify-between items-center",children:[n.jsx("span",{className:"font-medium text-gray-900",children:m.nombre}),n.jsx("input",{type:"number",inputMode:"decimal",value:o[m.id]||"",onChange:h=>u({...o,[m.id]:parseFloat(h.target.value)||0}),className:"w-28 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 text-center [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{MozAppearance:"textfield"},placeholder:"0.00"})]},m.id))}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 mt-6 border-t",children:[n.jsxs("button",{onClick:f,className:"w-full sm:flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium transition-colors flex items-center justify-center",children:[n.jsx(zc,{className:"w-5 h-5 mr-2"}),"Guardar"]}),n.jsxs("button",{onClick:t,className:"w-full sm:flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium transition-colors flex items-center justify-center",children:[n.jsx(Qt,{className:"w-5 h-5 mr-2"}),"Cancelar"]})]})]})})},tR=({isOpen:e,onClose:t,revendedor:r,onSave:a,porcentajeGlobal:l})=>{const[o,u]=y.useState(20),[f,m]=y.useState(!1),[h,p]=y.useState(!1);if(y.useEffect(()=>{if(r){const v=Number(r.porcentaje_comision);if(m(!0),Number.isFinite(v)&&v>0)u(v);else{const j=Number(l);u(Number.isFinite(j)?j:20)}}},[r]),!e)return null;const x=async()=>{if(!f&&(o<0||o>100)){alert("El porcentaje debe estar entre 0 y 100");return}p(!0),await a(r.id,f?null:parseFloat(o)),p(!1),t()};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md border border-gray-300 shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configurar Comisión"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",disabled:h,children:n.jsx(Qt,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Revendedor"}),(()=>{const v=r?.responsable||r?.nombre||r?.nombre_negocio||"—",j=r?.nombre_negocio&&r?.nombre_negocio!==v?r?.nombre_negocio:"";return n.jsxs("div",{className:"text-gray-900 font-medium",children:[v,j&&n.jsx("div",{className:"text-sm text-gray-500",children:j})]})})()]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porcentaje de Mi Ganancia (%)"}),n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("input",{id:"usarGlobalPct",type:"checkbox",checked:f,onChange:v=>m(v.target.checked),disabled:h}),n.jsx("label",{htmlFor:"usarGlobalPct",className:"text-sm text-gray-700",children:"Usar porcentaje global"})]}),n.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",inputMode:"decimal",value:o,onChange:v=>u(v.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{MozAppearance:"textfield"},placeholder:"Ej: 20.00",disabled:h||f})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[n.jsx("button",{onClick:t,className:"w-full sm:flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium transition-colors",disabled:h,children:"Cancelar"}),n.jsx("button",{onClick:x,disabled:h||!f&&(o<0||o>100),className:"w-full sm:flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:h?"Guardando...":"Guardar"})]})]})})},rR=()=>{const{revendedores:e=[],tiposFicha:t=[],loading:r=!1,error:a,loadAllData:l,eliminarRevendedor:o}=Hn(),{notifyUsersChanged:u,notifyRevendedoresChanged:f}=Mf(),[m,h]=y.useState(null),[p,x]=y.useState(null),[v,j]=y.useState({isOpen:!1,revendedorId:null}),[N,w]=y.useState({isOpen:!1,revendedor:null}),[S,E]=y.useState(""),[_,A]=y.useState(20);y.useEffect(()=>{let H=!0;const T=async()=>{try{const $=await Ie.obtenerConfiguracionClave("porcentaje_ganancia_creador"),q=$?.valor!=null?parseFloat($.valor):NaN;H&&!Number.isNaN(q)&&A(q)}catch{}};T();const L=$=>{if($?.detail?.clave==="porcentaje_ganancia_creador"){const q=$.detail.valor,Z=q!=null&&`${q}`.trim()!==""&&!Number.isNaN(parseFloat(q))?parseFloat(q):null;Z!==null&&A(Z)}};window.addEventListener("configChanged",L);const B=()=>T();return window.addEventListener("focus",B),()=>{H=!1,window.removeEventListener("configChanged",L),window.removeEventListener("focus",B)}},[]);const P=(H,T="success")=>{h({mensaje:H,tipo:T})},D=e.filter(H=>{if(!S.trim())return!0;const T=S.toLowerCase();return(H.responsable||H.nombre||H.nombre_negocio||"").toLowerCase().includes(T)||(H.responsable||"").toLowerCase().includes(T)||(H.telefono||"").toLowerCase().includes(T)||(H.direccion||"").toLowerCase().includes(T)}),M=H=>{if(!H||!t)return{tieneInventario:!1};const T=H.porcentaje_comision,L=Number(T),B=Number.isFinite(L)&&L>0?L:null,$=_!=null&&`${_}`.trim()!==""&&!Number.isNaN(parseFloat(_))?parseFloat(_):null,q=B!==null?B:$!==null?$:20;let Z=0,le=0,U=0;(H.inventarios||[]).forEach(ie=>{const G=t.find(ge=>ge.id===ie.tipo_ficha_id),K=H.precios?.find(ge=>ge.tipo_ficha_id===ie.tipo_ficha_id)?.precio||G?.precio_venta||0;Z+=ie.fichas_vendidas*K,le+=ie.fichas_entregadas,U+=ie.fichas_vendidas});const X=Z*(q/100),ne=Z-X;return{totalFichasEntregadas:le,totalFichasVendidas:U,totalFichasExistentes:le-U,totalSubtotal:Z,totalGananciaCreador:X,totalGananciaRevendedor:ne,porcentajeGananciaCreador:q,tieneInventario:(H.inventarios||[]).length>0}},O=async(H,T,L)=>{try{await Ie.actualizarVendidasDirecto(H,T,L),P("Cantidad vendida actualizada","success"),await l()}catch(B){console.error("Error al actualizar vendidas:",B),P("Error al actualizar cantidad vendida","error")}},z=async(H,T,L,B)=>{try{const $=t.find(q=>q.nombre===T);if(!$)throw new Error("Tipo de ficha no encontrado");await Ie.ajustarInventarioExcel(H,$.id,L,B),P("Inventario ajustado","success"),await l()}catch($){console.error("Error al ajustar inventario:",$),P(`Error al ajustar inventario: ${$.message}`,"error")}},F=async(H,T)=>{try{const L={};for(const[B,$]of Object.entries(T||{})){const q=parseInt(B,10),Z=(t||[]).find(X=>X.id===q);if(!Z)continue;const le=Z.nombre?.replace(/\s+/g,"").replace("horas","h").replace("hora","h"),U=parseFloat($);!Number.isNaN(U)&&U>0&&(L[le]=U)}await Ie.actualizarPreciosRevendedor(H,L),j({isOpen:!1,revendedorId:null}),P("Precios actualizados exitosamente"),await l()}catch(L){console.error("Error al actualizar precios:",L),P(`Error al actualizar precios: ${L.message}`,"error")}},W=async(H,T)=>{try{await Ie.actualizarPorcentajeComision(H,T),P("Porcentaje de comisión actualizado","success"),await l()}catch(L){console.error("Error al actualizar porcentaje:",L),P(`Error al actualizar comisión: ${L.message}`,"error")}},R=async H=>{try{const T=await o(H);if(T.success)x(null),P("Revendedor eliminado exitosamente"),f(),u();else throw new Error(T.error||"Error desconocido")}catch(T){console.error("Error al eliminar revendedor:",T),P(`Error al eliminar: ${T.message}`,"error")}};return n.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 sm:p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-14 h-14 bg-white border border-gray-200 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-sm",children:n.jsx(Ea,{className:"w-7 h-7 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Gestión de Revendedores"}),n.jsx("p",{className:"text-gray-600",children:"Administra inventarios, precios y comisiones."})]})]}),r&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando..."}),a&&n.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg",children:a}),!r&&!a&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(xi,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nombre, responsable, teléfono...",value:S,onChange:H=>E(H.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),D.length>0?n.jsx("div",{className:"space-y-6",children:D.map(H=>n.jsx(JD,{revendedor:H,tiposFicha:t,onEditPrecios:T=>j({isOpen:!0,revendedorId:T}),onDelete:T=>x({title:"Eliminar Revendedor",message:(()=>{const L=T.responsable||T.nombre||T.nombre_negocio||"—",B=T.nombre_negocio&&T.nombre_negocio!==L?` (${T.nombre_negocio})`:"";return`¿Seguro que quieres eliminar a "${L}${B}"? Esta acción no se puede deshacer.`})(),onConfirm:()=>R(T.id),onCancel:()=>x(null)}),onEditComision:T=>w({isOpen:!0,revendedor:T}),onUpdateVendidas:O,calcularResumenFinanciero:M,ajustarInventarioExcel:z,porcentajeGlobal:_},H.id))}):n.jsxs("div",{className:"text-center py-16 text-gray-500",children:[n.jsx(Ea,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),n.jsx("p",{className:"text-xl font-medium",children:"No se encontraron revendedores"}),n.jsx("p",{className:"text-md text-gray-400 mt-1",children:S?"Intenta con otros términos de búsqueda.":"Agrega revendedores desde el panel de usuarios."})]})]})]}),m&&n.jsx(WD,{message:m.mensaje,type:m.tipo,onClose:()=>h(null)}),p&&n.jsx(ZD,{...p}),n.jsx(eR,{isOpen:v.isOpen,onClose:()=>j({isOpen:!1,revendedorId:null}),onSave:F,tiposFicha:t,revendedorId:v.revendedorId}),n.jsx(tR,{isOpen:N.isOpen,onClose:()=>w({isOpen:!1,revendedor:null}),onSave:W,revendedor:N.revendedor,porcentajeGlobal:_})]})},aR=({isOpen:e,onClose:t,message:r,type:a="success"})=>{if(!e)return null;const l={success:{color:"bg-green-100 text-green-800 border-green-200",icon:n.jsx(zc,{className:"w-5 h-5"})},error:{color:"bg-red-100 text-red-800 border-red-200",icon:n.jsx(Zt,{className:"w-5 h-5"})},info:{color:"bg-blue-100 text-blue-800 border-blue-200",icon:n.jsx(Ni,{className:"w-5 h-5"})}},{color:o,icon:u}=l[a];return n.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-in fade-in-25",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl animate-in zoom-in-95",children:[n.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg border ${o}`,children:[u,n.jsx("p",{className:"font-medium",children:r})]}),n.jsx("div",{className:"flex justify-end mt-5",children:n.jsx("button",{onClick:t,className:"px-5 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Aceptar"})})]})})},nR=({isOpen:e,onClose:t,onConfirm:r,title:a,message:l})=>e?n.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-in fade-in-25",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl animate-in zoom-in-95",children:[n.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(Ni,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a}),n.jsx("p",{className:"text-gray-600 mt-2 whitespace-pre-line",children:l})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2",children:"Cancelar"}),n.jsx("button",{onClick:()=>{r(),t()},className:"px-5 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Confirmar"})]})]})}):null,ld=({titulo:e,valor:t,icono:r,colorClass:a})=>n.jsx("div",{className:"bg-white border border-gray-200/80 rounded-2xl p-3 sm:p-5 shadow-sm hover:shadow-md transition-shadow duration-300",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:`text-xs sm:text-sm font-semibold ${a} uppercase tracking-wider leading-tight`,children:e}),n.jsx("p",{className:"text-lg sm:text-3xl font-bold text-gray-800 mt-1 truncate leading-tight",children:t})]}),n.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center ${a} bg-opacity-10 flex-shrink-0`,children:n.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6",children:r})})]})}),an=({label:e,children:t})=>n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:e}),t]}),Cn=e=>n.jsx("input",{...e,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-moz-appearance]:textfield",style:{MozAppearance:"textfield"}}),$d=e=>n.jsx("select",{...e,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"}),kf=({onClick:e,children:t,className:r,disabled:a})=>n.jsx("button",{onClick:e,disabled:a,className:`w-full font-semibold py-2.5 px-4 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 focus:outline-none focus:ring-2 focus:ring-offset-2 ${r}`,children:t}),sR=({nuevoStock:e,setNuevoStock:t,tiposFicha:r,agregarStock:a})=>{const l=o=>{const u=o.target.value,f=r.find(m=>m.nombre===u);t({...e,tipo:u,precio:f?f.precio_venta:""})};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(an,{label:"Tipo de Ficha",children:n.jsxs($d,{value:e.tipo,onChange:l,children:[n.jsx("option",{value:"",children:"Selecciona un tipo"}),r.map(o=>n.jsx("option",{value:o.nombre,children:o.nombre},o.id))]})}),n.jsx(an,{label:"Cantidad",children:n.jsx(Cn,{type:"number",inputMode:"numeric",value:e.cantidad,onChange:o=>t({...e,cantidad:o.target.value}),placeholder:"Ej: 100"})}),n.jsxs(an,{label:"Precio de Venta por Ficha ($)",children:[n.jsx(Cn,{type:"number",inputMode:"decimal",value:e.precio,onChange:o=>t({...e,precio:o.target.value}),placeholder:"Se llena automáticamente",step:"0.01",readOnly:!!e.tipo,className:`mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none ${e.tipo?"bg-gray-50 cursor-not-allowed":""}`}),e.tipo&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:['💡 Precio automático del tipo "',e.tipo,'". Puedes modificar el precio en la sección "Tipos de Fichas".']})]}),n.jsxs(kf,{onClick:a,className:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",children:[n.jsx(zn,{className:"w-5 h-5"}),n.jsx("span",{children:"Agregar Stock"})]})]})},iR=({entregaActual:e,setEntregaActual:t,revendedores:r,tiposFicha:a,entregarFichasDeStock:l})=>n.jsxs("div",{className:"space-y-4",children:[n.jsx(an,{label:"Revendedor",children:n.jsxs($d,{value:e.revendedorId,onChange:o=>t({...e,revendedorId:o.target.value}),children:[n.jsx("option",{value:"",children:"Selecciona un revendedor"}),r.map(o=>n.jsx("option",{value:o.id,children:o.nombre},o.id))]})}),n.jsx(an,{label:"Tipo de Ficha",children:n.jsxs($d,{value:e.tipo,onChange:o=>t({...e,tipo:o.target.value}),children:[n.jsx("option",{value:"",children:"Selecciona un tipo"}),a.map(o=>n.jsx("option",{value:o.nombre,children:o.nombre},o.id))]})}),n.jsx(an,{label:"Cantidad a Entregar",children:n.jsx(Cn,{type:"number",inputMode:"numeric",value:e.cantidad,onChange:o=>t({...e,cantidad:o.target.value}),placeholder:"Ej: 50"})}),n.jsxs(kf,{onClick:l,className:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",children:[n.jsx(Y_,{className:"w-5 h-5"}),n.jsx("span",{children:"Entregar Fichas"})]})]}),lR=({tiposFicha:e,nuevoTipoFicha:t,setNuevoTipoFicha:r,duracionNuevoTipo:a,setDuracionNuevoTipo:l,unidadDuracion:o,setUnidadDuracion:u,precioVentaNuevoTipo:f,setPrecioVentaNuevoTipo:m,agregarTipoFichaLocal:h,editandoTipo:p,iniciarEdicion:x,cancelarEdicion:v,tipoEditado:j,setTipoEditado:N,guardarEdicion:w,eliminarTipo:S})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4 p-4 border border-gray-200 rounded-lg bg-gray-50/50",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Crear Nuevo Tipo de Ficha"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(an,{label:"Duración",children:n.jsxs("div",{className:"flex",children:[n.jsx(Cn,{type:"number",inputMode:"numeric",value:a,onChange:E=>l(E.target.value),placeholder:"Ej: 24",className:"rounded-r-none"}),n.jsxs($d,{value:o,onChange:E=>u(E.target.value),className:"rounded-l-none border-l-0",children:[n.jsx("option",{value:"H",children:"Horas"}),n.jsx("option",{value:"S",children:"Semanas"}),n.jsx("option",{value:"M",children:"Meses"})]})]})}),n.jsx(an,{label:"Precio Venta ($)",children:n.jsx(Cn,{type:"number",inputMode:"decimal",value:f,onChange:E=>m(E.target.value),placeholder:"Ej: 10.00",step:"0.01"})})]}),n.jsx(an,{label:"Nombre (Opcional)",children:n.jsx(Cn,{type:"text",value:t,onChange:E=>r(E.target.value),placeholder:"Autogenerado si se deja vacío"})}),n.jsxs(kf,{onClick:h,className:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",children:[n.jsx(zn,{className:"w-5 h-5"}),n.jsx("span",{children:"Crear Tipo"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Tipos Existentes"}),e&&e.length>0?e.map(E=>p===E.id?n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-3 border border-blue-200",children:[n.jsx(Cn,{value:j.nombre,onChange:_=>N({...j,nombre:_.target.value})}),n.jsx(Cn,{type:"number",inputMode:"numeric",value:j.duracion_horas,onChange:_=>N({...j,duracion_horas:_.target.value}),placeholder:"Duración en Horas"}),n.jsx(Cn,{type:"number",inputMode:"decimal",value:j.precio_venta,onChange:_=>N({...j,precio_venta:_.target.value}),placeholder:"Precio de Venta",step:"0.01"}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:v,className:"p-2 bg-gray-200 rounded-full hover:bg-gray-300 transition-colors",children:n.jsx(Qt,{className:"w-4 h-4 text-gray-700"})}),n.jsx("button",{onClick:w,className:"p-2 bg-green-500 rounded-full hover:bg-green-600 transition-colors",children:n.jsx(zc,{className:"w-4 h-4 text-white"})})]})]},E.id):n.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-200 hover:border-blue-400 transition-colors",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800",children:E.nombre}),n.jsxs("p",{className:"text-sm text-gray-500",children:[E.duracion_horas," horas - $",Number(E.precio_venta||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>x(E),className:"p-2 rounded-full hover:bg-gray-100 text-gray-500 hover:text-blue-600 transition-colors",children:n.jsx(Lc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>S(E),className:"p-2 rounded-full hover:bg-red-50 text-gray-500 hover:text-red-600 transition-colors",children:n.jsx(ta,{className:"w-4 h-4"})})]})]},E.id)):n.jsxs("div",{className:"text-center py-6 text-gray-500",children:[n.jsx(ur,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"No hay tipos de fichas creados"}),n.jsx("p",{className:"text-sm",children:"Crea tu primer tipo usando el formulario de arriba"})]})]})]}),oR=({stockGlobal:e,tiposFicha:t,porcentajeComisionGlobal:r})=>!e||!Array.isArray(e)||e.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ur,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No hay stock disponible"}),n.jsx("p",{children:"Agrega fichas al inventario para verlas aquí"})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ni,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Stock Global:"})," Inventario total disponible para entregar a revendedores."]})]})}),n.jsx("div",{className:"grid gap-3",children:e.map(a=>{const l=t.find(p=>p.id===a.tipo_ficha_id),o=Number(a.cantidad_disponible)||0,u=Number(a.precio_base)||0,f=u*(Number(r)/100),m=u-f,h=o*u;return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:l?.nombre||"Tipo desconocido"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[l?.duracion_horas," horas de duración"]})]})]})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.toLocaleString()}),n.jsx("div",{className:"text-sm text-gray-500",children:"fichas"})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-3 pt-3 border-t border-gray-100",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-sm font-semibold text-green-600",children:["$",u.toFixed(2)]}),n.jsx("div",{className:"text-xs text-gray-500",children:"Precio unitario"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-sm font-semibold text-blue-600",children:["$",f.toFixed(2)]}),n.jsx("div",{className:"text-xs text-gray-500",children:"Tu ganancia"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-sm font-semibold text-amber-600",children:["$",m.toFixed(2)]}),n.jsx("div",{className:"text-xs text-gray-500",children:"P/ revendedor"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-sm font-semibold text-gray-700",children:["$",h.toLocaleString()]}),n.jsx("div",{className:"text-xs text-gray-500",children:"Valor total"})]})]}),o<=10&&o>0&&n.jsx("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded-md",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Zt,{className:"w-4 h-4 text-yellow-600"}),n.jsxs("p",{className:"text-sm text-yellow-800",children:["Stock bajo - Solo quedan ",o," fichas"]})]})}),o===0&&n.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-md",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Zt,{className:"w-4 h-4 text-red-600"}),n.jsx("p",{className:"text-sm text-red-800",children:"Sin stock disponible"})]})})]},a.tipo_ficha_id)})})]}),cR=({porcentajeComisionGlobal:e,setPorcentajeComisionGlobal:t,guardarComisionGlobal:r,hayCambiosSinGuardar:a,guardandoComision:l})=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ni,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Configuración de Ganancia:"})," Define qué porcentaje de cada venta te corresponde como creador del sistema."]})]})}),a&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Zt,{className:"w-4 h-4 text-yellow-600 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-yellow-800",children:'Tienes cambios sin guardar. Haz clic en "Guardar Cambios" para aplicar la configuración.'})]})}),n.jsx(an,{label:"Tu porcentaje de ganancia sobre ventas (%)",children:n.jsxs("div",{className:"relative pt-1",children:[n.jsx("input",{type:"range",min:"0",max:"100",value:e,onChange:o=>t(parseFloat(o.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),n.jsxs("div",{className:"text-center text-xl font-bold text-blue-600 mt-2",children:[e,"%"]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[n.jsxs("span",{children:["Tu ganancia: ",e,"%"]}),n.jsxs("span",{children:["Para revendedor: ",100-e,"%"]})]})]})}),n.jsx("div",{className:"space-y-2",children:n.jsxs(kf,{onClick:r,disabled:!a||l,className:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 disabled:bg-blue-300 disabled:cursor-not-allowed",children:[n.jsx(Hl,{className:"w-5 h-5"}),n.jsx("span",{children:l?"Guardando...":"Guardar Cambios"})]})}),!a&&n.jsx("p",{className:"text-xs text-center text-green-600 font-medium",children:"✅ Configuración guardada"})]}),Jo=({icon:e,title:t,subtitle:r,children:a})=>n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200/80 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t}),n.jsx("p",{className:"text-gray-500 text-sm",children:r})]})]}),a]}),uR=()=>{const{stockGlobal:e,tiposFicha:t,revendedores:r,agregarTipoFicha:a,actualizarTipoFicha:l,eliminarTipoFicha:o,loadAllData:u}=Hn(),f=m1.useMemo(()=>{const xe=new Set;return(t||[]).filter(Ne=>Ne&&!xe.has(Ne.id)&&(xe.add(Ne.id),!0))},[t]),m=m1.useMemo(()=>{const xe=new Set;return(Array.isArray(e)?e:[]).filter(_e=>_e&&!xe.has(_e.tipo_ficha_id)&&(xe.add(_e.tipo_ficha_id),!0))},[e]),[h,p]=y.useState({tipo:"",cantidad:"",precio:""}),[x,v]=y.useState(25),[j,N]=y.useState(25),[w,S]=y.useState(!1),[E,_]=y.useState(""),[A,P]=y.useState(""),[D,M]=y.useState("H"),[O,z]=y.useState(""),[F,W]=y.useState(null),[R,H]=y.useState({nombre:"",duracion_horas:"",precio_venta:""}),[T,L]=y.useState({revendedorId:"",tipo:"",cantidad:""}),[B,$]=y.useState({isOpen:!1,message:"",type:"success"}),[q,Z]=y.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[le,U]=y.useState("agregar"),X=(xe,Ne="success")=>{$({isOpen:!0,message:xe,type:Ne})},ne=()=>$({isOpen:!1,message:"",type:"success"}),ie=(xe,Ne,_e)=>{Z({isOpen:!0,title:xe,message:Ne,onConfirm:_e})},G=()=>Z({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),ve=async()=>{if(x<0||x>100){X("El porcentaje debe estar entre 0 y 100","error");return}S(!0);try{try{await Ie.actualizarConfiguracion("porcentaje_ganancia_creador",x,"Porcentaje de ganancia del creador de fichas sobre las ventas"),X(`Tu porcentaje de ganancia actualizado a ${x}%`,"success")}catch(xe){if(xe.response?.status===404)await Ie.crearConfiguracion("porcentaje_ganancia_creador",x,"Porcentaje de ganancia del creador de fichas sobre las ventas","number"),X(`Configuración creada. Tu porcentaje de ganancia establecido en ${x}%`,"success");else throw xe}N(x)}catch(xe){console.error("Error al guardar el porcentaje de ganancia:",xe),X(xe.response?.data?.detail||"Error al guardar la configuración en el servidor","error")}finally{S(!1)}},K=async()=>{try{const xe=await Ie.obtenerConfiguracionClave("porcentaje_ganancia_creador");if(xe&&xe.valor!==void 0){const Ne=parseFloat(xe.valor);v(Ne),N(Ne)}else v(25),N(25)}catch(xe){console.error("Error al cargar la comisión global desde el servidor:",xe),v(25),N(25),xe.response?.status!==404&&X("Error al cargar configuración. Usando valores por defecto.","info")}};y.useEffect(()=>{K()},[]);const ge=x!==j,Me=(xe,Ne)=>{const _e=parseInt(xe)||0;switch(Ne){case"H":return _e;case"S":return _e*168;case"M":return _e*730;default:return _e}},ye=(xe,Ne)=>{const _e=parseInt(xe)||0;if(_e<=0)return"";switch(Ne){case"H":return _e===1?"1 hora":`${_e} horas`;case"S":return _e===1?"1 semana":`${_e} semanas`;case"M":return _e===1?"1 mes":`${_e} meses`;default:return""}},Se=async()=>{const xe=parseInt(h.cantidad)||0;if(!h.tipo||xe<=0){X("Completa todos los campos correctamente","error");return}const Ne=t.find(je=>je.nombre===h.tipo);if(!Ne){X("Tipo de ficha no encontrado","error");return}const _e=parseFloat(Ne.precio_venta)||0;if(_e<=0){X("El tipo de ficha debe tener un precio de venta válido","error");return}const ce=_e*x/100,te=_e-ce,oe=`¿Confirmar crear ${xe} fichas de ${h.tipo}?

Precio de venta: $${_e}
Tu ganancia por ficha (${x}%): $${ce.toFixed(2)}
Para revendedor por ficha: $${te.toFixed(2)}`;ie("Confirmar Creación",oe,async()=>{try{const je={tipo_ficha_id:Ne.id,cantidad:xe,proveedor:"Stock Manual",costo_total:_e*xe,observaciones:"Stock agregado manualmente"};await Ie.abastecerStock(je),await u(),p({tipo:"",cantidad:"",precio:""}),X("Stock agregado exitosamente","success")}catch(je){X(je.response?.data?.detail||"Error al agregar stock","error")}})},$e=async()=>{const xe=parseInt(T.cantidad);if(!T.revendedorId||!T.tipo||!xe||xe<=0){X("Completa todos los campos para la entrega","error");return}const Ne=t.find(oe=>oe.nombre===T.tipo),_e=r.find(oe=>oe.id===parseInt(T.revendedorId));if(!Ne||!_e){X("Tipo de ficha o revendedor no encontrado","error");return}const ce=e?.find(oe=>oe.tipo_ficha_id===Ne.id);if(!ce||ce.cantidad_disponible<xe){X(`Stock insuficiente. Disponibles: ${ce?.cantidad_disponible||0}`,"error");return}const te=`¿Confirmar entrega de ${xe} fichas de ${T.tipo} a ${_e?.nombre}?`;ie("Confirmar Entrega",te,async()=>{try{const oe={revendedor_id:parseInt(T.revendedorId),tipo_ficha_id:Ne.id,cantidad:xe,tipo_movimiento:"entrega",nota:"Entrega desde stock global"};await Ie.entregarFichasDeStock(oe),await u(),L({revendedorId:"",tipo:"",cantidad:""}),X(`Entrega realizada a ${_e?.nombre}`,"success")}catch(oe){X(oe.response?.data?.detail||"Error al entregar fichas","error")}})},he=async()=>{let xe=E.trim();if(xe||(xe=ye(A,D)),!xe||!A||!O){X("Completa todos los campos para el nuevo tipo","error");return}if(t.some(Ne=>Ne.nombre.toLowerCase()===xe.toLowerCase())){X("Este tipo de ficha ya existe","error");return}try{const Ne={nombre:xe,duracion_horas:Me(A,D),precio_compra:0,precio_venta:parseFloat(O)||0,descripcion:`Ficha de ${xe}`},_e=await a(Ne);_e.success?(_(""),P(""),M("H"),z(""),await u(),X(`Tipo "${xe}" agregado`)):X(_e.error||"Error al agregar","error")}catch{X("Error al agregar el tipo de ficha","error")}},at=xe=>{W(xe.id),H({nombre:xe.nombre,duracion_horas:xe.duracion_horas,precio_venta:xe.precio_venta})},Fe=()=>{W(null),H({nombre:"",duracion_horas:"",precio_venta:""})},Ct=async()=>{if(!R.nombre||!R.duracion_horas||!R.precio_venta){X("Completa todos los campos","error");return}try{const xe={nombre:R.nombre.trim(),duracion_horas:parseInt(R.duracion_horas)||1,precio_compra:0,precio_venta:parseFloat(R.precio_venta)||0,descripcion:`Ficha de ${R.nombre.trim()}`},Ne=await l(F,xe);Ne.success?(Fe(),await u(),X("Tipo actualizado")):X(Ne.error||"Error al actualizar","error")}catch{X("Error al actualizar","error")}},bt=async xe=>{ie("Confirmar Eliminación",`¿Seguro que quieres eliminar "${xe.nombre}"?`,async()=>{try{const Ne=await o(xe.id);Ne.success?(await u(),X(`"${xe.nombre}" eliminado`)):X(Ne.error||"Error al eliminar","error")}catch{X("Error al eliminar","error")}})},Ee=(()=>{let xe=0,Ne=0,_e=0,ce=0;return e&&Array.isArray(e)&&e.forEach(te=>{if(te&&typeof te=="object"){const oe=te.cantidad_disponible||0,je=te.precio_base||0,Ue=je*(x/100);xe+=oe,Ne+=oe*je,_e+=oe*Ue,ce+=oe*(je-Ue)}}),{totalFichas:xe,valorTotal:Ne,comisionTotal:_e,gananciaTotal:ce}})(),Be=()=>{const xe={agregar:n.jsx(Jo,{icon:n.jsx(zn,{className:"w-6 h-6 text-blue-600"}),title:"Agregar Stock",subtitle:"Añade nuevas fichas al inventario",children:n.jsx(sR,{nuevoStock:h,setNuevoStock:p,tiposFicha:f,agregarStock:Se})}),entregar:n.jsx(Jo,{icon:n.jsx(Y_,{className:"w-6 h-6 text-blue-600"}),title:"Entregar Fichas",subtitle:"Envía fichas a revendedores",children:n.jsx(iR,{entregaActual:T,setEntregaActual:L,revendedores:r,tiposFicha:f,entregarFichasDeStock:$e})}),inventario:n.jsx(Jo,{icon:n.jsx(yP,{className:"w-6 h-6 text-blue-600"}),title:"Inventario Global",subtitle:"Stock disponible por tipo de ficha",children:n.jsx(oR,{stockGlobal:m,tiposFicha:f,porcentajeComisionGlobal:x})}),tipos:n.jsx(Jo,{icon:n.jsx(ur,{className:"w-6 h-6 text-blue-600"}),title:"Tipos de Fichas",subtitle:"Crea y administra los tipos de fichas",children:n.jsx(lR,{tiposFicha:f,nuevoTipoFicha:E,setNuevoTipoFicha:_,duracionNuevoTipo:A,setDuracionNuevoTipo:P,unidadDuracion:D,setUnidadDuracion:M,precioVentaNuevoTipo:O,setPrecioVentaNuevoTipo:z,agregarTipoFichaLocal:he,editandoTipo:F,iniciarEdicion:at,cancelarEdicion:Fe,tipoEditado:R,setTipoEditado:H,guardarEdicion:Ct,eliminarTipo:bt})}),config:n.jsx(Jo,{icon:n.jsx(Cl,{className:"w-6 h-6 text-blue-600"}),title:"Configuración de Ganancia",subtitle:"Define tu porcentaje de comisión",children:n.jsx(cR,{porcentajeComisionGlobal:x,setPorcentajeComisionGlobal:v,guardarComisionGlobal:ve,hayCambiosSinGuardar:ge,guardandoComision:w})})};return{desktop:n.jsxs("div",{className:"hidden lg:grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[xe.agregar,xe.entregar,xe.inventario]}),n.jsxs("div",{className:"space-y-6",children:[xe.tipos,xe.config]})]}),mobile:n.jsxs("div",{className:"lg:hidden space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2 p-1 bg-gray-200/80 rounded-xl overflow-x-auto",children:Object.keys(xe).map(Ne=>n.jsx("button",{onClick:()=>U(Ne),className:`px-3 py-2 text-sm font-semibold rounded-lg transition-all duration-200 whitespace-nowrap ${le===Ne?"bg-white text-blue-600 shadow-md":"text-gray-600 hover:bg-white/60"}`,children:Ne==="inventario"?"Stock":Ne.charAt(0).toUpperCase()+Ne.slice(1)},Ne))}),xe[le]]})}},{desktop:ke,mobile:Qe}=Be();return n.jsx("div",{className:"bg-gray-50 min-h-screen",children:n.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 sm:p-6 space-y-6",children:[n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-14 h-14 bg-white border border-gray-200 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-sm",children:n.jsx(ur,{className:"w-7 h-7 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Gestión de Stock"}),n.jsx("p",{className:"text-gray-600",children:"Administra el inventario global de fichas y entregas."})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-5",children:[n.jsx(ld,{titulo:"Total Fichas",valor:Ee.totalFichas.toLocaleString(),icono:n.jsx(ur,{}),colorClass:"text-blue-600"}),n.jsx(ld,{titulo:"Valor Total",valor:`$${Ee.valorTotal.toLocaleString("es-MX")}`,icono:n.jsx(As,{}),colorClass:"text-green-600"}),n.jsx(ld,{titulo:"Tu Ganancia",valor:`$${Ee.comisionTotal.toLocaleString("es-MX")}`,icono:n.jsx(Ea,{}),colorClass:"text-amber-600"}),n.jsx(ld,{titulo:"P/ Revendedores",valor:`$${Ee.gananciaTotal.toLocaleString("es-MX")}`,icono:n.jsx(Al,{}),colorClass:"text-teal-600"})]}),Qe,ke,n.jsx(aR,{isOpen:B.isOpen,onClose:ne,message:B.message,type:B.type}),n.jsx(nR,{isOpen:q.isOpen,onClose:G,onConfirm:q.onConfirm,title:q.title,message:q.message})]})})},dR=(e,t=!1)=>{if(!e)return"Fecha no disponible";try{const r=new Date(e);return isNaN(r.getTime())?"Fecha inválida":t?r.toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"}):r.toLocaleDateString("es-MX")}catch(r){return console.error("Error al formatear fecha:",r),"Error en fecha"}},fR=({isOpen:e,onClose:t,title:r,message:a})=>e?n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in-25",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl border animate-in zoom-in-95",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 border-4 border-white ring-4 ring-red-100",children:n.jsx(Zt,{className:"w-6 h-6 text-red-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r||"Alerta"})]}),n.jsx("p",{className:"text-gray-700 mb-6 whitespace-pre-line",children:a}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all transform hover:scale-105 shadow-md hover:shadow-lg",children:"Entendido"})})]})}):null,mR=({isOpen:e,onClose:t,onConfirm:r,title:a,message:l})=>{if(!e)return null;const o=()=>{const u=l.split(`

`);if(u.length<=1)return n.jsx("div",{className:"text-gray-700 mb-6 whitespace-pre-line",children:l});const[f,m,h]=u;return n.jsxs("div",{className:"mb-6",children:[n.jsx("p",{className:"text-gray-700 mb-4 font-medium",children:f}),m&&n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 text-sm border border-gray-200",children:n.jsx("div",{className:"pl-2 border-l-2 border-blue-400 space-y-2 whitespace-pre-line",children:m})}),h&&n.jsx("p",{className:"text-gray-600 text-sm",children:h})]})};return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in-25",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl border animate-in zoom-in-95",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 border-4 border-white ring-4 ring-blue-100",children:n.jsx(Ni,{className:"w-6 h-6 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a||"Confirmar"})]}),o(),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:t,className:"px-5 py-2.5 bg-white border border-gray-300 text-gray-800 rounded-lg hover:bg-gray-100 transition-all transform hover:scale-105",children:"Cancelar"}),n.jsx("button",{onClick:()=>{r(),t()},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all transform hover:scale-105 shadow-md hover:shadow-lg",children:"Confirmar"})]})]})})},hR=({isOpen:e,onClose:t,title:r,message:a})=>e?n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in-25",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl border animate-in zoom-in-95",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 border-4 border-white ring-4 ring-green-100",children:n.jsx(zc,{className:"w-6 h-6 text-green-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r||"Éxito"})]}),n.jsx("p",{className:"text-gray-700 mb-6 whitespace-pre-line",children:a}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all transform hover:scale-105 shadow-md hover:shadow-lg",children:"Aceptar"})})]})}):null,pR=()=>{const{user:e}=zr(),{revendedores:t,setRevendedores:r,tiposFicha:a,corteCaja:l,setCorteCaja:o,historialCortes:u,loading:f,guardarCorte:m,cargarHistorialCortes:h,loadAllData:p}=Hn(),[x,v]=y.useState("selector"),[j,N]=y.useState(null),[w,S]=y.useState({}),[E,_]=y.useState(new Date().toISOString().split("T")[0]),[A,P]=y.useState(""),[D,M]=y.useState({}),[O,z]=y.useState(!1),[F,W]=y.useState(20),[R,H]=y.useState(80),[T,L]=y.useState(""),[B,$]=y.useState(""),[q,Z]=y.useState({isOpen:!1,title:"",message:""}),[le,U]=y.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[X,ne]=y.useState({isOpen:!1,title:"",message:""}),[ie,G]=y.useState(!1);y.useEffect(()=>{x==="historial"&&h().catch(console.error)},[x,h]);const ve=(t||[]).filter(pe=>{if(!A.trim())return!0;const Ee=A.toLowerCase().trim();return(pe.responsable||"").toLowerCase().includes(Ee)||(pe.nombre||"").toLowerCase().includes(Ee)||(pe.nombre_negocio||"").toLowerCase().includes(Ee)});y.useEffect(()=>{if(j){const pe=j.porcentaje_comision,Ee=Number(pe);Number.isFinite(Ee)&&Ee>0&&Ee<=100?(W(Ee),H(100-Ee)):(async()=>{try{const ke=await Ie.obtenerConfiguracionClave("porcentaje_ganancia_creador"),Qe=Number(ke?.valor);Number.isFinite(Qe)&&Qe>=0&&Qe<=100?(W(Qe),H(100-Qe)):(W(20),H(80))}catch{W(20),H(80)}})();const Be={};(a||[]).forEach(ke=>{const Qe=typeof ke=="object"?ke.nombre:ke,xe=typeof ke=="object"?ke.id:null,Ne=j.inventarios?.find(jt=>jt.tipo_ficha_id===xe),_e=Ne?.fichas_entregadas||0,ce=Ne?.fichas_vendidas||0,te=Ne?.stock_actual??_e-ce,oe=_e-ce,Ue=j.precios?.find(jt=>jt.tipo_ficha_id===xe)?.precio||ke.precio_venta||0;Be[Qe]={inventarioMaximo:te,inventarioActual:te,inventarioCalculado:oe,entregadas:_e,vendidas:0,precio:Ue}}),S(Be)}},[j,a]);const K=pe=>{N(pe),v("corte"),M({})},ge=(pe,Ee)=>{const Be={...D};if(delete Be[pe],M(Be),Ee===""){S(xe=>({...xe,[pe]:{...xe[pe],vendidas:""}}));return}const ke=parseInt(Ee);if(isNaN(ke))return;const Qe=w[pe]?.inventarioActual||0;if(ke>Qe){M(xe=>({...xe,[pe]:`Solo hay ${Qe} disponible(s)`}));return}if(ke<0){M(xe=>({...xe,[pe]:"No se permiten negativos"}));return}S(xe=>({...xe,[pe]:{...xe[pe],vendidas:ke}}))},Me=()=>{if(!j)return null;const pe=Object.entries(w||{}).map(([xe,Ne])=>{const _e=Ne.vendidas===""||Ne.vendidas===0?0:parseInt(Ne.vendidas)||0,ce=_e*Ne.precio;return{tipo:xe,inventarioActual:Ne.inventarioActual,vendidas:_e,inventarioResultante:Ne.inventarioActual-_e,valorVendido:ce,valor_total:ce,precio:Ne.precio}}),Ee=pe.reduce((xe,Ne)=>xe+Ne.valorVendido,0),Be=pe.reduce((xe,Ne)=>xe+Ne.vendidas,0),ke=Ee*(F/100),Qe=Ee-ke;return{resumenPorTipo:pe,totalVendido:Ee,totalGananciaCreador:ke,totalGananciaRevendedor:Qe,totalFichasVendidas:Be,porcentajeGananciaCreador:F}},ye=async()=>{try{const pe=Me(),Ee=pe.resumenPorTipo.filter(_e=>_e.vendidas>0).map(_e=>({tipo_ficha_id:(a||[]).find(te=>te.nombre===_e.tipo)?.id,fichas_vendidas_nuevas:_e.vendidas})).filter(_e=>_e.tipo_ficha_id),Be=j?.responsable||j?.nombre||"",ke=j?.nombre_negocio||"",Qe=ke&&ke.toLowerCase()!==Be.toLowerCase()?`Corte para ${Be} (${ke})`:`Corte para ${Be||ke}`,xe={fecha_corte:E,usuario_id:e?.id,usuario_nombre:e?.nombre||e?.username||"Admin",revendedor_id:j?.id,total_ingresos:pe.totalVendido,total_ganancias:pe.totalGananciaCreador,total_revendedores:pe.totalGananciaRevendedor,detalle_tipos:pe.resumenPorTipo.map(_e=>({..._e})),actualizaciones_inventario:Ee,observaciones:Qe,monto_pagado_revendedor:Number(T)||0,abono_nota_inicial:B||null};console.log("📦 Datos del corte a enviar:",{revendedor_id:xe.revendedor_id,actualizaciones:Ee,total:pe.totalVendido});const Ne=await m(xe);if(Ne.success)await p(),o({...xe,id:Ne.data.id,created_at:Ne.data.created_at}),ne({isOpen:!0,title:"Corte Completado",message:`Corte por $${pe.totalVendido.toFixed(2)} guardado.
El inventario ha sido actualizado.`}),$e();else throw new Error(Ne.error||"Error desconocido al guardar.")}catch(pe){Z({isOpen:!0,title:"Error al Procesar",message:`No se pudo completar el corte: ${pe.message}`})}},Se=()=>{const pe=Me();if(pe.totalFichasVendidas===0){Z({isOpen:!0,title:"Sin Ventas",message:"No se puede realizar un corte sin ventas registradas."});return}let Ee=`¿Confirmar corte por $${pe.totalVendido.toFixed(2)}?

`;Ee+=pe.resumenPorTipo.filter(Be=>Be.vendidas>0).map(Be=>`- ${Be.tipo}: ${Be.vendidas} fichas`).join(`
`),Ee+=`

El inventario se actualizará permanentemente.`,U({isOpen:!0,title:"Confirmar Corte",message:Ee,onConfirm:ye})},$e=()=>{v("selector"),N(null),S({}),P(""),M({}),L(""),$("")},he=pe=>{pe.preventDefault(),pe.target.focus(),setTimeout(()=>{pe.target.value&&pe.target.select()},100)},at=async pe=>{try{if(ie)return;const Ee=window.prompt("Monto a abonar (MXN):","");if(Ee===null)return;const Be=Number(String(Ee).replace(",","."));if(!Be||Be<=0){Z({isOpen:!0,title:"Monto inválido",message:"Ingresa un monto mayor a 0."});return}const ke=window.prompt("Nota (opcional):","")||void 0;G(!0);const Qe=await yl.abonarCorte(pe.id,{monto:Be,nota:ke});Qe?.success?(await h(),ne({isOpen:!0,title:"Abono registrado",message:`Se registró un abono por $${Be.toFixed(2)}.`})):Z({isOpen:!0,title:"Error",message:Qe?.message||"No se pudo registrar el abono."})}catch(Ee){Z({isOpen:!0,title:"Error",message:Ee?.message||"No se pudo registrar el abono."})}finally{G(!1)}};if(f)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando datos..."})]})});const Fe=Me(),Ct=()=>n.jsxs("div",{className:"space-y-6 animate-in fade-in-50",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(Cl,{className:"w-6 h-6 text-slate-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Corte de Caja"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Selecciona un revendedor para iniciar"})]})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{onClick:()=>v("historial"),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold rounded-lg transition-all text-sm",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Ver Historial"})]})})]})}),n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Corte"}),n.jsxs("div",{className:"relative",children:[n.jsx(pi,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-5 text-gray-400"}),n.jsx("input",{type:"date",value:E,onChange:pe=>_(pe.target.value),className:"w-full pl-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar Revendedor"}),n.jsxs("div",{className:"relative",children:[n.jsx(xi,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Nombre o responsable...",value:A,onChange:pe=>P(pe.target.value),className:"w-full pl-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all"})]})]})]})}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Revendedores Disponibles"}),ve.length>0?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4",children:ve.map(pe=>{const Ee=(pe.inventarios||[]).reduce((Be,ke)=>Be+Math.max(0,ke.stock_actual??(ke.fichas_entregadas||0)-(ke.fichas_vendidas||0)),0);return n.jsxs("div",{onClick:()=>K(pe),className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-xl hover:-translate-y-1 transform-gpu cursor-pointer transition-all duration-300 group active:scale-[0.97] flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-14 h-14 bg-slate-100 rounded-2xl flex items-center justify-center group-hover:bg-blue-500 transition-colors duration-300 mb-3",children:n.jsx(sn,{className:"w-7 h-7 text-slate-500 group-hover:text-white transition-colors duration-300"})}),n.jsx("div",{className:"flex-1 min-w-0 w-full mb-3",children:(()=>{const Be=pe.responsable||pe.nombre||"—",ke=pe.nombre_negocio||"",Qe=ke&&Be&&ke.toLowerCase()===Be.toLowerCase();return n.jsxs(n.Fragment,{children:[n.jsx("h4",{className:"font-bold text-base text-gray-800 truncate w-full",title:Be,children:Be}),!Qe&&!!ke&&n.jsx("p",{className:"text-sm text-gray-500 truncate w-full",title:ke,children:ke})]})})()}),n.jsxs("div",{className:"w-full flex justify-between items-center text-xs mt-auto pt-2 border-t border-gray-100",children:[n.jsxs("span",{className:"font-mono text-gray-400",children:["ID: ",pe.id]}),n.jsx("span",{className:`font-semibold px-2.5 py-1 rounded-full ${Ee>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Ee})]})]},pe.id)})}):n.jsx("p",{className:"text-center py-8 text-gray-500",children:"No se encontraron revendedores."})]})]}),bt=()=>n.jsxs("div",{className:"space-y-6 animate-in fade-in-50",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:$e,className:"w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors",children:n.jsx(Eg,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Historial de Cortes"}),n.jsx("p",{className:"text-gray-500",children:"Cortes de caja realizados previamente"})]})]})}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Todos los Cortes"}),n.jsxs("button",{onClick:()=>h(),className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 hover:bg-blue-200 text-blue-800 font-medium rounded-lg transition-all text-sm",title:"Actualizar historial",children:[n.jsx(Os,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Actualizar"})]})]}),u.length>0?n.jsx("div",{className:"space-y-4",children:[...u].reverse().map((pe,Ee)=>{const Be=pe.total_ingresos??0,ke=pe.total_ganancias??0,Qe=pe.total_revendedores??0,xe=pe.observaciones?.replace("Corte realizado para ","")||"N/A",Ne=typeof pe.saldo_revendedor=="number"?pe.saldo_revendedor:Math.max(0,(ke||0)-(pe.monto_pagado_revendedor||0)),_e=pe.estado_cobro||(Ne>0?(pe.monto_pagado_revendedor||0)>0?"parcial":"pendiente":"saldado");return n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[n.jsx(tn,{className:"w-6 h-6 text-slate-500 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-bold text-gray-900 truncate",children:xe}),n.jsx("p",{className:"text-sm text-gray-500",children:dR(pe.fecha_corte||pe.created_at,!0)})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-x-4 gap-y-2 flex-wrap flex-shrink-0",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Vendido"}),n.jsxs("p",{className:"font-semibold text-gray-900",children:["$",Be.toLocaleString("es-MX")]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-emerald-600",children:"Mi Ganancia"}),n.jsxs("p",{className:"font-semibold text-emerald-600",children:["$",ke.toLocaleString("es-MX")]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-amber-600",children:"P/ Revendedor"}),n.jsxs("p",{className:"font-semibold text-amber-600",children:["$",Qe.toLocaleString("es-MX")]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:`text-xs ${_e==="saldado"?"text-emerald-700":_e==="parcial"?"text-amber-700":"text-red-700"}`,children:"Estado"}),n.jsx("p",{className:`font-semibold ${_e==="saldado"?"text-emerald-700":_e==="parcial"?"text-amber-700":"text-red-700"}`,children:String(_e).toUpperCase()}),_e!=="saldado"&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Saldo $",Number(Ne||0).toLocaleString("es-MX")]})]}),_e!=="saldado"&&n.jsx("div",{children:n.jsx("button",{onClick:()=>at(pe),className:"px-3 py-1.5 bg-amber-100 text-amber-800 rounded-lg text-xs hover:bg-amber-200 disabled:opacity-50",disabled:ie,children:ie?"Guardando...":"Abonar"})})]})]}),pe.detalle_tipos?.filter(ce=>ce.vendidas>0).length>0&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 text-xs",children:pe.detalle_tipos.filter(ce=>ce.vendidas>0).map((ce,te)=>{const oe=ce.valor_total||ce.valorVendido||ce.vendidas*(ce.precio||0);return n.jsxs("div",{className:"bg-gray-100 rounded p-2",children:[n.jsx("p",{className:"font-medium text-gray-800",children:ce.tipo}),n.jsxs("p",{className:"text-gray-600",children:[ce.vendidas," vendidas - $",oe.toFixed(2)]})]},te)})})})]},pe.id||Ee)})}):n.jsx("p",{className:"text-center py-8 text-gray-500",children:"No hay cortes de caja registrados."})]})]});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"w-full px-2 sm:px-6 lg:px-8 py-6",children:[x==="selector"&&Ct(),x==="historial"&&bt(),x==="corte"&&n.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in fade-in-50",children:[n.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 space-y-6",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:$e,className:"w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors flex-shrink-0",children:n.jsx(Eg,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Realizando Corte"}),n.jsx("p",{className:"text-gray-500 truncate",children:(j?.responsable||j?.nombre)+(j?.nombre_negocio&&j?.nombre_negocio?.toLowerCase()!==(j?.responsable||j?.nombre||"").toLowerCase()?` — ${j?.nombre_negocio}`:"")})]})]}),n.jsxs("button",{onClick:()=>z(!O),className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm flex-shrink-0",children:[n.jsx(Sa,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Detalles"}),O?n.jsx(U0,{className:"w-4 h-4"}):n.jsx(Sl,{className:"w-4 h-4"})]})]})}),O&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 animate-in fade-in-50",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Información del Revendedor"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(br,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Persona"}),n.jsx("p",{className:"font-medium truncate",children:j?.responsable||j?.nombre||"—"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(sn,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Negocio"}),n.jsx("p",{className:"font-medium truncate",children:j?.nombre_negocio||"—"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(q0,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Teléfono"}),n.jsx("p",{className:"font-medium truncate",children:j?.telefono})]})]})]})]}),n.jsxs("div",{className:"lg:hidden bg-white rounded-2xl shadow-sm border border-gray-100 p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center text-blue-800",children:[n.jsx("p",{children:"Total Vendido"}),n.jsxs("p",{className:"text-xl font-bold",children:["$",(Fe?.totalVendido||0).toLocaleString("es-MX")]})]}),n.jsxs("div",{className:"flex justify-between items-center text-emerald-800",children:[n.jsx("p",{children:"Mi Ganancia"}),n.jsxs("p",{className:"font-bold",children:["$",(Fe?.totalGananciaCreador||0).toLocaleString("es-MX")]})]}),n.jsxs("div",{className:"flex justify-between items-center text-amber-800",children:[n.jsx("p",{children:"Para Revendedor"}),n.jsxs("p",{className:"font-bold",children:["$",(Fe?.totalGananciaRevendedor||0).toLocaleString("es-MX")]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Ingresar Ventas por Tipo de Ficha"}),n.jsx("div",{className:"space-y-6",children:Object.entries(w||{}).map(([pe,Ee])=>n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:pe}),n.jsx("div",{className:`text-sm px-3 py-1 rounded-full font-semibold ${Ee.precio>0?"text-gray-700 bg-gray-100":"text-red-700 bg-red-100"}`,children:Ee.precio>0?`$${Ee.precio}`:"Sin precio"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 sm:mb-3",children:"Entregadas"}),n.jsx("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg text-center",children:n.jsx("p",{className:"text-lg sm:text-xl font-bold text-blue-900",children:Ee.entregadas})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 sm:mb-3",children:"Inventario"}),n.jsx("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-lg text-center",children:n.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-900",children:Ee.inventarioCalculado!==void 0?Ee.inventarioCalculado:Ee.inventarioActual})})]}),n.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 sm:mb-3",children:"Vendidas *"}),n.jsx("input",{type:"text",inputMode:"numeric",value:Ee.vendidas===0?"":Ee.vendidas,onChange:Be=>{(Be.target.value===""||/^\d+$/.test(Be.target.value))&&ge(pe,Be.target.value)},onFocus:Be=>Be.target.select(),onClick:he,onTouchStart:he,autoComplete:"off",className:`w-full p-3 sm:p-4 border rounded-lg text-center text-lg sm:text-xl font-semibold [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none transition-all ${D[pe]?"border-red-400 bg-red-50 ring-2 ring-red-200":"border-gray-300 bg-white focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,placeholder:"0"}),D[pe]&&n.jsxs("p",{className:"text-xs text-red-600 mt-2 flex items-center gap-1",children:[n.jsx(Zt,{className:"w-3 h-3"}),D[pe]]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 sm:mb-3",children:"Valor Total"}),n.jsx("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg text-center",children:n.jsxs("p",{className:"text-lg sm:text-xl font-bold text-green-900",children:["$",((parseInt(Ee.vendidas)||0)*Ee.precio).toLocaleString("es-MX")]})})]})]})]},pe))}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto recibido del revendedor (opcional)"}),n.jsx("input",{type:"text",inputMode:"decimal",value:T,onChange:pe=>{const Ee=pe.target.value;(Ee===""||/^\d*(?:[\.,]\d{0,2})?$/.test(Ee))&&L(Ee.replace(",","."))},className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",placeholder:"0.00"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se registrará como abono inicial del corte."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nota del abono (opcional)"}),n.jsx("input",{type:"text",value:B,onChange:pe=>$(pe.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",placeholder:"Ej. Transferencia parcial"})]})]})]})]}),n.jsx("aside",{className:"hidden lg:block lg:col-span-5 xl:col-span-4",children:n.jsxs("div",{className:"sticky top-6 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Resumen del Corte"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl flex justify-between items-center",children:[n.jsx("p",{className:"font-medium text-blue-800",children:"Total Vendido"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",(Fe?.totalVendido||0).toLocaleString("es-MX")]})]}),n.jsxs("div",{className:"p-4 bg-emerald-50 rounded-xl flex justify-between items-center",children:[n.jsxs("p",{className:"font-medium text-emerald-800",children:["Mi Ganancia (",Fe?.porcentajeGananciaCreador,"%)"]}),n.jsxs("p",{className:"text-xl font-bold text-emerald-900",children:["$",(Fe?.totalGananciaCreador||0).toLocaleString("es-MX")]})]}),n.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl flex justify-between items-center",children:[n.jsxs("p",{className:"font-medium text-amber-800",children:["Para Revendedor (",100-(Fe?.porcentajeGananciaCreador||0),"%)"]}),n.jsxs("p",{className:"text-xl font-bold text-amber-900",children:["$",(Fe?.totalGananciaRevendedor||0).toLocaleString("es-MX")]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 space-y-3",children:[n.jsxs("button",{onClick:Se,disabled:(Fe?.totalFichasVendidas||0)===0||Object.keys(D||{}).length>0,className:"w-full flex items-center justify-center gap-2 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-6 py-3 rounded-xl font-bold transition-all text-base transform hover:scale-105 shadow-md hover:shadow-lg",children:[n.jsx(zc,{className:"w-5 h-5"}),n.jsx("span",{children:"Confirmar Corte"})]}),n.jsxs("button",{onClick:$e,className:"w-full flex items-center justify-center gap-2 text-gray-800 bg-gray-100 hover:bg-gray-200 border border-gray-200 px-6 py-3 rounded-xl transition-colors text-base font-medium",children:[n.jsx(Qt,{className:"w-5 h-5"}),n.jsx("span",{children:"Cancelar"})]})]})]})})]})]}),n.jsx(fR,{isOpen:q.isOpen,onClose:()=>Z({...q,isOpen:!1}),title:q.title,message:q.message}),n.jsx(mR,{isOpen:le.isOpen,onClose:()=>U({...le,isOpen:!1}),onConfirm:le.onConfirm,title:le.title,message:le.message}),n.jsx(hR,{isOpen:X.isOpen,onClose:()=>ne({...X,isOpen:!1}),title:X.title,message:X.message})]})},xR={async listarEntidades({includeInactive:e=!1,tipo:t}={}){const r={};e&&(r.includeInactive=1),t&&(r.tipo=t);const a=await we.get("/catalogo/entidades",{params:r});return a.data||a}},hl=(e,t=30)=>{if(!e)return"";if(e.length<=t)return e;const r=e.substring(0,t),a=r.lastIndexOf(" ");return a>t*.7?r.substring(0,a)+"...":r+"..."},F1=({nuevaTarea:e,setNuevaTarea:t,handleAsignarTarea:r,revendedores:a,trabajadores:l,prioridades:o,clientesServicio:u=[],isMobile:f=!1})=>n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[(()=>{const m=e.revendedorId?`revendedor:${e.revendedorId}`:e.clienteId?`cliente:${e.clienteId}`:"";return n.jsxs("select",{value:m,onChange:h=>{const p=h.target.value;if(!p){t({...e,destinoTipo:"revendedor",revendedorId:"",clienteId:""});return}const[x,v]=p.split(":");t({...e,destinoTipo:x,revendedorId:x==="revendedor"?v:"",clienteId:x==="cliente"?v:""})},className:"w-full px-3 py-3 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white text-sm appearance-none cursor-pointer hover:border-blue-300 hover:shadow-sm focus:shadow-md overflow-hidden text-ellipsis whitespace-nowrap",style:{minHeight:"44px",backgroundImage:"none"},title:(()=>{if(e.revendedorId){const h=(a||[]).find(p=>p.id==e.revendedorId);return h?.responsable||h?.nombre||h?.nombre_negocio||"Revendedor seleccionado"}return e.clienteId?(u||[]).find(p=>p.id==e.clienteId)?.nombre_completo||`Cliente #${e.clienteId}`:"Seleccionar destino"})(),children:[n.jsx("option",{value:"",children:"📌 Seleccionar destino"}),(a||[]).length>0&&n.jsx("optgroup",{label:"🏢 Revendedores",children:(a||[]).map(h=>{const p=h.responsable||h.nombre||h.nombre_negocio;return n.jsx("option",{value:`revendedor:${h.id}`,title:p,children:f?hl(p,20):hl(p,40)},`rev-${h.id}`)})}),n.jsx("optgroup",{label:"👤 Clientes de servicio",children:(u||[]).length>0?(u||[]).map(h=>{const p=h.nombre_completo||`Cliente #${h.id}`;return n.jsx("option",{value:`cliente:${h.id}`,title:p,children:f?hl(p,20):hl(p,40)},`cli-${h.id}`)}):n.jsx("option",{value:"",disabled:!0,children:"(sin clientes para mostrar)"})})]})})(),n.jsx(Sl,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none transition-transform duration-200"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:e.trabajadorId||"",onChange:m=>t({...e,trabajadorId:m.target.value}),className:"w-full px-3 py-3 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white text-sm appearance-none cursor-pointer hover:border-blue-300 hover:shadow-sm focus:shadow-md overflow-hidden text-ellipsis whitespace-nowrap",style:{minHeight:"44px",backgroundImage:"none"},title:e.trabajadorId?(l||[]).find(m=>m.id==e.trabajadorId)?.nombre_completo:"Asignar a técnico",children:[n.jsx("option",{value:"",children:"👨‍🔧 Asignar a técnico"}),(l||[]).map(m=>{const h=m.especialidad?`${m.nombre_completo} - ${m.especialidad}`:m.nombre_completo;return n.jsx("option",{value:m.id,title:h,children:f?hl(h,20):hl(h,40)},m.id)})]}),n.jsx(Sl,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none transition-transform duration-200"})]}),n.jsxs("div",{className:`grid ${f?"grid-cols-1 gap-3":"grid-cols-2 gap-4"}`,children:[n.jsx("input",{type:"text",placeholder:"Título de la tarea",value:e.titulo||"",onChange:m=>t({...e,titulo:m.target.value}),className:"w-full px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-sm hover:border-blue-300 hover:shadow-sm focus:shadow-md",style:{minHeight:"44px"}}),n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:e.prioridad||"Media",onChange:m=>t({...e,prioridad:m.target.value}),className:"w-full px-3 py-3 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white text-sm appearance-none cursor-pointer hover:border-blue-300 hover:shadow-sm focus:shadow-md",style:{minHeight:"44px",backgroundImage:"none"},children:o.map(m=>n.jsx("option",{value:m,children:m},m))}),n.jsx(Sl,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none transition-transform duration-200"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{placeholder:"Descripción del problema...",value:e.descripcion||"",onChange:m=>{m.target.value.length<=500&&t({...e,descripcion:m.target.value})},className:"w-full px-3 py-3 pb-8 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-sm resize-none hover:border-blue-300 hover:shadow-sm focus:shadow-md",rows:f?"3":"4",maxLength:"500",style:{resize:"none"}}),n.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400 bg-white px-1",children:[(e.descripcion||"").length,"/500"]})]}),n.jsx("input",{type:"date",value:e.fechaVencimiento||"",onChange:m=>t({...e,fechaVencimiento:m.target.value}),className:"w-full px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-sm hover:border-blue-300 hover:shadow-sm focus:shadow-md",style:{minHeight:"44px"}}),n.jsxs("button",{onClick:r,disabled:!e.trabajadorId||!e.titulo||!e.descripcion||((e.destinoTipo||"revendedor")==="revendedor"?!e.revendedorId:!e.clienteId),className:"w-full bg-slate-900 hover:bg-slate-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white py-3 px-4 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2 text-sm shadow-sm hover:shadow-md",children:[n.jsx(zn,{className:"w-5 h-5"}),n.jsx("span",{children:"Asignar Tarea"})]})]}),gR=()=>{const{revendedores:e=[],trabajadores:t=[],tareasMantenimiento:r=[],loading:a,crearTarea:l,actualizarEstadoTarea:o,eliminarTarea:u,recargarTareas:f}=Hn(),[m,h]=y.useState({destinoTipo:"revendedor",revendedorId:"",clienteId:"",trabajadorId:"",titulo:"",descripcion:"",fechaVencimiento:new Date().toISOString().split("T")[0],prioridad:"Media"}),p=()=>{h({destinoTipo:"revendedor",revendedorId:"",clienteId:"",trabajadorId:"",titulo:"",descripcion:"",fechaVencimiento:new Date().toISOString().split("T")[0],prioridad:"Media"})},[x,v]=y.useState([]);y.useEffect(()=>{let G=!0;return(async()=>{try{const K=await xR.listarEntidades({tipo:"clientes_servicio",includeInactive:!1}),ye=(Array.isArray(K?.items)?K.items:[]).filter(Se=>Se?.activo===1||Se?.activo===!0).map(Se=>({id:Se.id,nombre_completo:Se.nombre}));ye.sort((Se,$e)=>(Se?.nombre_completo||"").localeCompare($e?.nombre_completo||"")),G&&v(ye)}catch(K){console.warn("No se pudieron cargar clientes de servicio:",K?.message||K),v([])}})(),()=>{G=!1}},[]);const[j,N]=y.useState(null),[w,S]=y.useState(null),[E,_]=y.useState(null),[A,P]=y.useState(null),[D,M]=y.useState("todos"),[O,z]=y.useState("todas"),[F,W]=y.useState(""),[R,H]=y.useState("nueva"),T=(G,ve,K)=>{P({tipo:G,titulo:ve,mensaje:K,duracion:5e3})};y.useEffect(()=>{if(A){const G=setTimeout(()=>P(null),A.duracion);return()=>clearTimeout(G)}},[A]);const L=async()=>{const G=(m.destinoTipo||"revendedor")==="revendedor";if(!(G?m.revendedorId:m.clienteId)||!m.trabajadorId||!m.titulo.trim()||!m.descripcion.trim()){T("error","Campos incompletos","Por favor complete todos los campos requeridos.");return}try{const K={revendedor_id:G?parseInt(m.revendedorId,10):null,cliente_id:G?null:parseInt(m.clienteId,10),trabajador_id:parseInt(m.trabajadorId,10),titulo:m.titulo.trim(),descripcion:m.descripcion.trim(),prioridad:m.prioridad,fecha_vencimiento:m.fechaVencimiento},ge=await l(K);ge.success?(p(),T("exito","Tarea Asignada",`La tarea "${K.titulo}" fue creada exitosamente.`),f()):T("error","Error al asignar",ge.error||"No se pudo crear la tarea.")}catch(K){console.error("Error al asignar tarea:",K),T("error","Error Inesperado","Ocurrió un problema al comunicarse con el servidor.")}},B=async(G,ve,K="")=>{try{const ge=await o(G,ve,K);ge.success?(T("exito","Estado Actualizado",`La tarea ha sido marcada como ${ve.toLowerCase()}.`),f()):T("error","Error al actualizar",ge.error||"No se pudo cambiar el estado.")}catch(ge){console.error("Error al cambiar estado:",ge),T("error","Error Inesperado","Ocurrió un problema al cambiar el estado.")}},$=G=>{S({titulo:"Confirmar Eliminación",mensaje:`¿Estás seguro de que deseas eliminar la tarea "${G.titulo}"?
Esta acción es permanente y no se puede deshacer.`,onConfirmar:()=>q(G.id),onCancelar:()=>S(null)})},q=async G=>{try{const ve=await u(G);ve.success?(T("exito","Tarea Eliminada","La tarea ha sido eliminada correctamente."),f()):T("error","Error al eliminar",ve.error||"No se pudo eliminar la tarea.")}catch(ve){console.error("Error al eliminar tarea:",ve),T("error","Error Inesperado","Ocurrió un problema al eliminar la tarea.")}finally{S(null)}},Z=G=>{const ve=G.nombre_trabajador||`ID: ${G.trabajador_id}`;T("exito","Notificación Enviada",`Mensaje enviado a ${ve} sobre: "${G.titulo}"`)},le=G=>{const ve=t.filter(K=>K.id!==G.trabajador_id);if(ve.length===0){T("error","Sin técnicos disponibles","No hay otros técnicos activos disponibles para reasignar esta tarea. Considera agregar más técnicos al sistema o completar la tarea manualmente.");return}_({tarea:G,nuevoTrabajadorId:"",trabajadoresDisponibles:ve})},U=async()=>{if(!E.nuevoTrabajadorId){T("error","Selección requerida","Por favor selecciona un técnico para reasignar la tarea.");return}try{const G=await or.reasignarTarea(E.tarea.id,parseInt(E.nuevoTrabajadorId,10));G.success?(T("exito","Tarea Reasignada",G.message),_(null),f()):T("error","Error al reasignar",G.error||G.message||"No se pudo reasignar la tarea.")}catch(G){console.error("Error al reasignar tarea:",G),T("error","Error Inesperado","Ocurrió un problema al reasignar la tarea.")}},X=y.useMemo(()=>{const G=F.toLowerCase();return(r||[]).filter(K=>K&&typeof K=="object").map(K=>({...K,revendedor:K.revendedor_id?(e||[]).find(ge=>ge.id===K.revendedor_id):null,destino_nombre:K.destino_nombre||(K.revendedor_id?(e||[]).find(ge=>ge.id===K.revendedor_id)?.responsable||(e||[]).find(ge=>ge.id===K.revendedor_id)?.nombre||(e||[]).find(ge=>ge.id===K.revendedor_id)?.nombre_negocio:null)})).filter(K=>{const ge=K.destino_nombre||"",Me=!F||(K.titulo||"").toLowerCase().includes(G)||ge.toLowerCase().includes(G)||(K.nombre_trabajador||"").toLowerCase().includes(G),ye=D==="todos"||(K.estado||"").toLowerCase()===D,Se=O==="todas"||(K.prioridad||"").toLowerCase()===O;return Me&&ye&&Se})},[r,e,F,D,O]),ne=["Baja","Media","Alta","Urgente"],ie=G=>({Baja:{color:"bg-green-100 text-green-800",icon:Cd},Media:{color:"bg-yellow-100 text-yellow-800",icon:Cd},Alta:{color:"bg-orange-100 text-orange-800",icon:Ss},Urgente:{color:"bg-red-100 text-red-800",icon:Ss}})[G]||{color:"bg-gray-100 text-gray-800",icon:Cd};return a?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),n.jsx("span",{className:"text-lg font-medium text-gray-600",children:"Cargando Sistema de Tareas..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-6 lg:py-8 space-y-8",children:[n.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(Tt,{className:"w-6 h-6 text-slate-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Gestión de Tareas"}),n.jsx("p",{className:"text-gray-500 text-base mt-1",children:"Mantenimiento y asignación de trabajos técnicos"})]})]}),n.jsxs("button",{onClick:f,className:"px-4 py-2 bg-white border border-gray-200 hover:bg-gray-100 text-gray-700 rounded-lg font-medium transition-colors flex items-center justify-center sm:justify-start space-x-2 shadow-sm",children:[n.jsx(pD,{className:"w-4 h-4"}),n.jsx("span",{children:"Actualizar"})]})]}),n.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[n.jsx("aside",{className:"hidden lg:block lg:col-span-4 xl:col-span-3",children:n.jsx("div",{className:"sticky top-6 space-y-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center shadow-sm",children:n.jsx(zn,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Nueva Tarea"}),n.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Asignación rápida"})]})]}),n.jsx(F1,{nuevaTarea:m,setNuevaTarea:h,handleAsignarTarea:L,revendedores:e,trabajadores:t,prioridades:ne,clientesServicio:x})]})})}),n.jsxs("div",{className:"lg:col-span-8 xl:col-span-9 space-y-6",children:[n.jsx("div",{className:"lg:hidden space-y-4",children:n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[n.jsxs("button",{onClick:()=>H(R==="nueva"?"":"nueva"),className:"w-full flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(zn,{className:"w-5 h-5 text-blue-600"})," ",n.jsx("span",{className:"font-semibold",children:"Nueva Tarea"})]}),R==="nueva"?n.jsx(U0,{}):n.jsx(Sl,{})]}),R==="nueva"&&n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsx(F1,{nuevaTarea:m,setNuevaTarea:h,handleAsignarTarea:L,revendedores:e,trabajadores:t,prioridades:ne,clientesServicio:x,isMobile:!0})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative group sm:col-span-3 lg:col-span-1",children:[n.jsx(xi,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500"}),n.jsx("input",{type:"text",placeholder:"Buscar por título, cliente, técnico...",value:F||"",onChange:G=>W(G.target.value),className:"w-full pl-11 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-sm bg-gray-50 hover:bg-white"})]}),n.jsxs("select",{value:D||"todos",onChange:G=>M(G.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 hover:bg-white text-sm",children:[n.jsx("option",{value:"todos",children:"Todos los estados"}),n.jsx("option",{value:"pendiente",children:"Solo pendientes"}),n.jsx("option",{value:"completado",children:"Solo completadas"})]}),n.jsxs("select",{value:O||"todas",onChange:G=>z(G.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 hover:bg-white text-sm",children:[n.jsx("option",{value:"todas",children:"Todas las prioridades"}),ne.map(G=>n.jsx("option",{value:G.toLowerCase(),children:G},G))]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Panel de Tareas"}),n.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Mostrando ",X.length," tareas"]})]}),n.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:X.length>0?X.sort((G,ve)=>{const K={Urgente:4,Alta:3,Media:2,Baja:1};return G.estado==="Pendiente"&&ve.estado!=="Pendiente"?-1:G.estado!=="Pendiente"&&ve.estado==="Pendiente"?1:G.estado==="Pendiente"&&ve.estado==="Pendiente"&&K[G.prioridad]!==K[ve.prioridad]?(K[ve.prioridad]||0)-(K[G.prioridad]||0):new Date(ve.created_at)-new Date(G.created_at)}).map(G=>{const{revendedor:ve}=G,{color:K,icon:ge}=ie(G.prioridad),Me=G.destino_nombre||(ve?ve.responsable||ve.nombre||ve.nombre_negocio:`Destino #${G.cliente_id||G.revendedor_id||""}`),ye=G.nombre_trabajador||`ID Desconocido: ${G.trabajador_id}`,Se=!!G.trabajador_activo,$e=t.filter(at=>at.id!==G.trabajador_id),he=!Se&&$e.length>0;return n.jsxs("div",{className:`border rounded-xl overflow-hidden hover:shadow-md transition-shadow duration-300 ${!Se&&G.estado==="Pendiente"?"border-orange-300 bg-orange-50":"border-gray-200"}`,children:[n.jsx("div",{className:`${!Se&&G.estado==="Pendiente"?"bg-orange-100":"bg-gray-50"} px-5 py-4`,children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:G.titulo}),n.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1.5 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1.5",children:[n.jsx(sn,{className:"w-4 h-4"})," ",Me]}),n.jsxs("span",{className:`flex items-center gap-1.5 ${!Se&&G.estado==="Pendiente"?"text-orange-800 font-bold":""}`,children:[!Se&&G.estado==="Pendiente"?n.jsx(kD,{className:"w-4 h-4"}):n.jsx(br,{className:"w-4 h-4"}),ye," ",!Se&&G.estado==="Pendiente"&&"(Inactivo)"]}),n.jsxs("span",{className:"flex items-center gap-1.5",children:[n.jsx(pi,{className:"w-4 h-4"})," Vence: ",new Date(G.fecha_vencimiento).toLocaleDateString("es-MX",{timeZone:"UTC"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${K}`,children:[n.jsx(ge,{className:"w-4 h-4 mr-1.5"}),G.prioridad]}),n.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${G.estado==="Completado"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"}`,children:[G.estado==="Completado"?n.jsx(St,{className:"w-4 h-4 mr-1.5"}):n.jsx(ba,{className:"w-4 h-4 mr-1.5"})," ",G.estado]})]})]})}),n.jsxs("div",{className:"p-5 bg-white",children:[n.jsx("p",{className:"text-gray-700 text-base mb-4",children:G.descripcion}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 mt-4",children:[n.jsx("div",{className:"flex-1 w-full flex flex-col sm:flex-row gap-2",children:G.estado==="Pendiente"?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>N({tareaId:G.id}),disabled:!Se,className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg transition-colors",children:[n.jsx(St,{className:"w-4 h-4 mr-2"}),"Completar"]}),n.jsxs("button",{onClick:()=>Z(G),disabled:!Se,className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg transition-colors",children:[n.jsx(oD,{className:"w-4 h-4 mr-2"}),"Notificar"]}),he&&n.jsxs("button",{onClick:()=>le(G),className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white text-sm font-medium rounded-lg transition-colors",children:[n.jsx(br,{className:"w-4 h-4 mr-2"}),"Reasignar"]}),!Se&&!he&&n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-600 text-sm font-medium rounded-lg border-2 border-gray-200 w-full",children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Sin técnicos disponibles"]}),n.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["💡 ",n.jsx("strong",{children:"Sugerencias:"})," Agrega más técnicos al sistema o completa la tarea manualmente"]})]})]}):G.notas&&n.jsx("div",{className:"w-full p-4 bg-emerald-50 rounded-xl border border-emerald-200",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(St,{className:"w-5 h-5 text-emerald-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-emerald-800",children:"Tarea completada"}),n.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[n.jsx("strong",{children:"Notas:"})," ",G.notas]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Finalizada el ",new Date(G.fecha_completado).toLocaleString("es-MX")]})]})]})})}),n.jsx("div",{className:"flex-shrink-0 w-full sm:w-auto mt-2 sm:mt-0",children:n.jsxs("button",{onClick:()=>$(G),className:"w-full sm:w-auto inline-flex items-center justify-center px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 text-sm font-medium rounded-lg transition-colors",children:[n.jsx(ta,{className:"w-4 h-4 sm:mr-0"}),n.jsx("span",{className:"sm:hidden ml-2",children:"Eliminar Tarea"})]})})]})]})]},G.id)}):n.jsxs("div",{className:"text-center py-16",children:[n.jsx(xi,{className:"mx-auto h-16 w-16 text-gray-300"}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No se encontraron tareas"}),n.jsx("p",{className:"mt-1 text-base text-gray-500",children:"Intenta ajustar los filtros o crea una nueva tarea."})]})})]})]})]})]}),j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-xl p-6 space-y-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Completar Tarea"}),n.jsx("p",{children:"Añade notas de finalización (opcional) para la tarea."}),n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{id:"notasCompletado",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",rows:"4",maxLength:"300",placeholder:"Ej: Se reemplazó el disco duro y se reinstaló el sistema operativo...",style:{resize:"none"},onInput:G=>{const ve=document.getElementById("notasCounter");ve&&(ve.textContent=`${G.target.value.length}/300`)}}),n.jsx("div",{id:"notasCounter",className:"absolute bottom-2 right-2 text-xs text-gray-400",children:"0/300"})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",children:"Cancelar"}),n.jsx("button",{onClick:()=>{const G=document.getElementById("notasCompletado").value;B(j.tareaId,"Completado",G),N(null)},className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Confirmar"})]})]})}),w&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl p-6 space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Tt,{className:"w-8 h-8 text-red-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:w.titulo}),n.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:w.mensaje})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:w.onCancelar,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-semibold transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:w.onConfirmar,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[n.jsx(ta,{className:"w-4 h-4"}),n.jsx("span",{children:"Confirmar"})]})]})]})}),E&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-xl p-6 space-y-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reasignar Tarea"}),n.jsxs("p",{className:"text-gray-600",children:['Reasignando la tarea "',n.jsx("strong",{children:E.tarea?.titulo}),'" a un nuevo técnico.']}),n.jsxs("select",{value:E.nuevoTrabajadorId,onChange:G=>_({...E,nuevoTrabajadorId:G.target.value}),className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"👨‍🔧 Seleccionar nuevo técnico"}),(E.trabajadoresDisponibles||[]).map(G=>n.jsxs("option",{value:G.id,children:[G.nombre_completo,G.especialidad?` - ${G.especialidad}`:""]},G.id))]}),(E.trabajadoresDisponibles||[]).length===0&&n.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("p",{className:"text-yellow-800 text-sm",children:[n.jsx(Tt,{className:"w-4 h-4 inline mr-2"}),"No hay otros técnicos activos disponibles para reasignar esta tarea."]})}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",children:"Cancelar"}),n.jsx("button",{onClick:U,disabled:!E.nuevoTrabajadorId,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg",children:"Reasignar Tarea"})]})]})}),A&&n.jsx("div",{className:"fixed top-5 right-5 z-[60] animate-in slide-in-from-right duration-300",children:n.jsx("div",{className:`max-w-sm w-full rounded-xl shadow-lg border ${A.tipo==="exito"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:n.jsxs("div",{className:"p-4 flex items-start space-x-3",children:[n.jsx("div",{className:`w-6 h-6 flex-shrink-0 rounded-full flex items-center justify-center ${A.tipo==="exito"?"bg-green-500":"bg-red-500"}`,children:A.tipo==="exito"?n.jsx(St,{className:"w-4 h-4 text-white"}):n.jsx(Tt,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`font-semibold ${A.tipo==="exito"?"text-green-800":"text-red-800"}`,children:A.titulo}),n.jsx("p",{className:`text-sm ${A.tipo==="exito"?"text-green-700":"text-red-700"}`,children:A.mensaje})]}),n.jsx("button",{onClick:()=>P(null),className:"w-6 h-6 flex-shrink-0 rounded-full hover:bg-black/10 flex items-center justify-center",children:n.jsx(Qt,{className:"w-4 h-4 text-gray-500"})})]})})})]})};function J_(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=J_(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function ot(){for(var e,t,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=J_(e))&&(a&&(a+=" "),a+=t);return a}var zp={},Lp={},H1;function vR(){return H1||(H1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(Lp)),Lp}var Up={},V1;function eC(){return V1||(V1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(Up)),Up}var qp={},G1;function tC(){return G1||(G1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t}(qp)),qp}var Bp={},K1;function B0(){return K1||(K1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const a=[],l=r.length;if(l===0)return a;let o=0,u="",f="",m=!1;for(r.charCodeAt(0)===46&&(a.push(""),o++);o<l;){const h=r[o];f?h==="\\"&&o+1<l?(o++,u+=r[o]):h===f?f="":u+=h:m?h==='"'||h==="'"?f=h:h==="]"?(m=!1,a.push(u),u=""):u+=h:h==="["?(m=!0,u&&(a.push(u),u="")):h==="."?u&&(a.push(u),u=""):u+=h,o++}return u&&a.push(u),a}e.toPath=t}(Bp)),Bp}var Y1;function I0(){return Y1||(Y1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vR(),r=eC(),a=tC(),l=B0();function o(f,m,h){if(f==null)return h;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return h;const p=f[m];return p===void 0?r.isDeepKey(m)?o(f,l.toPath(m),h):h:p}case"number":case"symbol":{typeof m=="number"&&(m=a.toKey(m));const p=f[m];return p===void 0?h:p}default:{if(Array.isArray(m))return u(f,m,h);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return h;const p=f[m];return p===void 0?h:p}}}function u(f,m,h){if(m.length===0)return h;let p=f;for(let x=0;x<m.length;x++){if(p==null||t.isUnsafeProperty(m[x]))return h;p=p[m[x]]}return p===void 0?h:p}e.get=o}(zp)),zp}var Ip,X1;function yR(){return X1||(X1=1,Ip=I0().get),Ip}var bR=yR();const gi=un(bR);var Fp={exports:{}},mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function jR(){if(W1)return mt;W1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function N(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case e:switch(w=w.type,w){case r:case l:case a:case m:case h:case v:return w;default:switch(w=w&&w.$$typeof,w){case u:case f:case x:case p:return w;case o:return w;default:return S}}case t:return S}}}return mt.ContextConsumer=o,mt.ContextProvider=u,mt.Element=e,mt.ForwardRef=f,mt.Fragment=r,mt.Lazy=x,mt.Memo=p,mt.Portal=t,mt.Profiler=l,mt.StrictMode=a,mt.Suspense=m,mt.SuspenseList=h,mt.isContextConsumer=function(w){return N(w)===o},mt.isContextProvider=function(w){return N(w)===u},mt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},mt.isForwardRef=function(w){return N(w)===f},mt.isFragment=function(w){return N(w)===r},mt.isLazy=function(w){return N(w)===x},mt.isMemo=function(w){return N(w)===p},mt.isPortal=function(w){return N(w)===t},mt.isProfiler=function(w){return N(w)===l},mt.isStrictMode=function(w){return N(w)===a},mt.isSuspense=function(w){return N(w)===m},mt.isSuspenseList=function(w){return N(w)===h},mt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===l||w===a||w===m||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===x||w.$$typeof===p||w.$$typeof===u||w.$$typeof===o||w.$$typeof===f||w.$$typeof===j||w.getModuleId!==void 0)},mt.typeOf=N,mt}var Z1;function wR(){return Z1||(Z1=1,Fp.exports=jR()),Fp.exports}var NR=wR(),Pr=e=>e===0?0:e>0?1:-1,ra=e=>typeof e=="number"&&e!=+e,ni=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Te=e=>(typeof e=="number"||e instanceof Number)&&!ra(e),ln=e=>Te(e)||typeof e=="string",SR=0,Ol=e=>{var t=++SR;return"".concat(e||"").concat(t)},Ba=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(t)&&typeof t!="string")return a;var o;if(ni(t)){if(r==null)return a;var u=t.indexOf("%");o=r*parseFloat(t.slice(0,u))/100}else o=+t;return ra(o)&&(o=a),l&&r!=null&&o>r&&(o=r),o},rC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},$a=(e,t)=>Te(e)&&Te(t)?r=>e+r*(t-e):()=>t;function aC(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):gi(a,t))===r)}var xt=e=>e===null||typeof e>"u",Uc=e=>xt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),ER=["viewBox","children"],_R=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Q1=["points","pathLength"],Hp={svg:ER,polygon:Q1,polyline:Q1},F0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],H0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(l=>{F0.includes(l)&&(a[l]=o=>r[l](r,o))}),a},CR=(e,t,r)=>a=>(e(t,r,a),null),Pf=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(l=>{var o=e[l];F0.includes(l)&&typeof o=="function"&&(a||(a={}),a[l]=CR(o,t,r))}),a},J1=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",eN=null,Vp=null,nC=e=>{if(e===eN&&Array.isArray(Vp))return Vp;var t=[];return y.Children.forEach(e,r=>{xt(r)||(NR.isFragment(r)?t=t.concat(nC(r.props.children)):t.push(r))}),Vp=t,eN=e,t};function V0(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(l=>J1(l)):a=[J1(t)],nC(e).forEach(l=>{var o=gi(l,"type.displayName")||gi(l,"type.name");a.indexOf(o)!==-1&&r.push(l)}),r}var sC=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,AR=(e,t,r,a)=>{var l,o=(l=a&&Hp?.[a])!==null&&l!==void 0?l:[];return t.startsWith("data-")||typeof e!="function"&&(a&&o.includes(t)||_R.includes(t))||r&&F0.includes(t)},nt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(y.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var l={};return Object.keys(a).forEach(o=>{var u;AR((u=a)===null||u===void 0?void 0:u[o],o,t,r)&&(l[o]=a[o])}),l},OR=["children","width","height","viewBox","className","style","title","desc"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tg.apply(null,arguments)}function TR(e,t){if(e==null)return{};var r,a,l=MR(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function MR(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var G0=y.forwardRef((e,t)=>{var{children:r,width:a,height:l,viewBox:o,className:u,style:f,title:m,desc:h}=e,p=TR(e,OR),x=o||{width:a,height:l,x:0,y:0},v=ot("recharts-surface",u);return y.createElement("svg",Tg({},nt(p,!0,"svg"),{className:v,width:a,height:l,style:f,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),y.createElement("title",null,m),y.createElement("desc",null,h),r)}),kR=["children","className"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mg.apply(null,arguments)}function PR(e,t){if(e==null)return{};var r,a,l=DR(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function DR(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var aa=y.forwardRef((e,t)=>{var{children:r,className:a}=e,l=PR(e,kR),o=ot("recharts-layer",a);return y.createElement("g",Mg({className:o},nt(l,!0),{ref:t}),r)}),iC=y.createContext(null),RR=()=>y.useContext(iC);function yt(e){return function(){return e}}const lC=Math.cos,zd=Math.sin,Ha=Math.sqrt,Ld=Math.PI,Df=2*Ld,kg=Math.PI,Pg=2*kg,ei=1e-6,$R=Pg-ei;function oC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return oC;const r=10**t;return function(a){this._+=a[0];for(let l=1,o=a.length;l<o;++l)this._+=Math.round(arguments[l]*r)/r+a[l]}}class LR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?oC:zR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,l){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+l}`}bezierCurveTo(t,r,a,l,o,u){this._append`C${+t},${+r},${+a},${+l},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,a,l,o){if(t=+t,r=+r,a=+a,l=+l,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,f=this._y1,m=a-t,h=l-r,p=u-t,x=f-r,v=p*p+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ei)if(!(Math.abs(x*m-h*p)>ei)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let j=a-u,N=l-f,w=m*m+h*h,S=j*j+N*N,E=Math.sqrt(w),_=Math.sqrt(v),A=o*Math.tan((kg-Math.acos((w+v-S)/(2*E*_)))/2),P=A/_,D=A/E;Math.abs(P-1)>ei&&this._append`L${t+P*p},${r+P*x}`,this._append`A${o},${o},0,0,${+(x*j>p*N)},${this._x1=t+D*m},${this._y1=r+D*h}`}}arc(t,r,a,l,o,u){if(t=+t,r=+r,a=+a,u=!!u,a<0)throw new Error(`negative radius: ${a}`);let f=a*Math.cos(l),m=a*Math.sin(l),h=t+f,p=r+m,x=1^u,v=u?l-o:o-l;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ei||Math.abs(this._y1-p)>ei)&&this._append`L${h},${p}`,a&&(v<0&&(v=v%Pg+Pg),v>$R?this._append`A${a},${a},0,1,${x},${t-f},${r-m}A${a},${a},0,1,${x},${this._x1=h},${this._y1=p}`:v>ei&&this._append`A${a},${a},0,${+(v>=kg)},${x},${this._x1=t+a*Math.cos(o)},${this._y1=r+a*Math.sin(o)}`)}rect(t,r,a,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+l}h${-a}Z`}toString(){return this._}}function K0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new LR(t)}function Y0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cC(e){this._context=e}cC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Rf(e){return new cC(e)}function uC(e){return e[0]}function dC(e){return e[1]}function fC(e,t){var r=yt(!0),a=null,l=Rf,o=null,u=K0(f);e=typeof e=="function"?e:e===void 0?uC:yt(e),t=typeof t=="function"?t:t===void 0?dC:yt(t);function f(m){var h,p=(m=Y0(m)).length,x,v=!1,j;for(a==null&&(o=l(j=u())),h=0;h<=p;++h)!(h<p&&r(x=m[h],h,m))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(x,h,m),+t(x,h,m));if(j)return o=null,j+""||null}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:yt(+m),f):e},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:yt(+m),f):t},f.defined=function(m){return arguments.length?(r=typeof m=="function"?m:yt(!!m),f):r},f.curve=function(m){return arguments.length?(l=m,a!=null&&(o=l(a)),f):l},f.context=function(m){return arguments.length?(m==null?a=o=null:o=l(a=m),f):a},f}function od(e,t,r){var a=null,l=yt(!0),o=null,u=Rf,f=null,m=K0(h);e=typeof e=="function"?e:e===void 0?uC:yt(+e),t=typeof t=="function"?t:yt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?dC:yt(+r);function h(x){var v,j,N,w=(x=Y0(x)).length,S,E=!1,_,A=new Array(w),P=new Array(w);for(o==null&&(f=u(_=m())),v=0;v<=w;++v){if(!(v<w&&l(S=x[v],v,x))===E)if(E=!E)j=v,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),N=v-1;N>=j;--N)f.point(A[N],P[N]);f.lineEnd(),f.areaEnd()}E&&(A[v]=+e(S,v,x),P[v]=+t(S,v,x),f.point(a?+a(S,v,x):A[v],r?+r(S,v,x):P[v]))}if(_)return f=null,_+""||null}function p(){return fC().defined(l).curve(u).context(o)}return h.x=function(x){return arguments.length?(e=typeof x=="function"?x:yt(+x),a=null,h):e},h.x0=function(x){return arguments.length?(e=typeof x=="function"?x:yt(+x),h):e},h.x1=function(x){return arguments.length?(a=x==null?null:typeof x=="function"?x:yt(+x),h):a},h.y=function(x){return arguments.length?(t=typeof x=="function"?x:yt(+x),r=null,h):t},h.y0=function(x){return arguments.length?(t=typeof x=="function"?x:yt(+x),h):t},h.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:yt(+x),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(a).y(t)},h.defined=function(x){return arguments.length?(l=typeof x=="function"?x:yt(!!x),h):l},h.curve=function(x){return arguments.length?(u=x,o!=null&&(f=u(o)),h):u},h.context=function(x){return arguments.length?(x==null?o=f=null:f=u(o=x),h):o},h}class mC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function UR(e){return new mC(e,!0)}function qR(e){return new mC(e,!1)}const X0={draw(e,t){const r=Ha(t/Ld);e.moveTo(r,0),e.arc(0,0,r,0,Df)}},BR={draw(e,t){const r=Ha(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},hC=Ha(1/3),IR=hC*2,FR={draw(e,t){const r=Ha(t/IR),a=r*hC;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},HR={draw(e,t){const r=Ha(t),a=-r/2;e.rect(a,a,r,r)}},VR=.8908130915292852,pC=zd(Ld/10)/zd(7*Ld/10),GR=zd(Df/10)*pC,KR=-lC(Df/10)*pC,YR={draw(e,t){const r=Ha(t*VR),a=GR*r,l=KR*r;e.moveTo(0,-r),e.lineTo(a,l);for(let o=1;o<5;++o){const u=Df*o/5,f=lC(u),m=zd(u);e.lineTo(m*r,-f*r),e.lineTo(f*a-m*l,m*a+f*l)}e.closePath()}},Gp=Ha(3),XR={draw(e,t){const r=-Ha(t/(Gp*3));e.moveTo(0,r*2),e.lineTo(-Gp*r,-r),e.lineTo(Gp*r,-r),e.closePath()}},xa=-.5,ga=Ha(3)/2,Dg=1/Ha(12),WR=(Dg/2+1)*3,ZR={draw(e,t){const r=Ha(t/WR),a=r/2,l=r*Dg,o=a,u=r*Dg+r,f=-o,m=u;e.moveTo(a,l),e.lineTo(o,u),e.lineTo(f,m),e.lineTo(xa*a-ga*l,ga*a+xa*l),e.lineTo(xa*o-ga*u,ga*o+xa*u),e.lineTo(xa*f-ga*m,ga*f+xa*m),e.lineTo(xa*a+ga*l,xa*l-ga*a),e.lineTo(xa*o+ga*u,xa*u-ga*o),e.lineTo(xa*f+ga*m,xa*m-ga*f),e.closePath()}};function QR(e,t){let r=null,a=K0(l);e=typeof e=="function"?e:yt(e||X0),t=typeof t=="function"?t:yt(t===void 0?64:+t);function l(){let o;if(r||(r=o=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return l.type=function(o){return arguments.length?(e=typeof o=="function"?o:yt(o),l):e},l.size=function(o){return arguments.length?(t=typeof o=="function"?o:yt(+o),l):t},l.context=function(o){return arguments.length?(r=o??null,l):r},l}function Ud(){}function qd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function xC(e){this._context=e}xC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JR(e){return new xC(e)}function gC(e){this._context=e}gC.prototype={areaStart:Ud,areaEnd:Ud,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e$(e){return new gC(e)}function vC(e){this._context=e}vC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t$(e){return new vC(e)}function yC(e){this._context=e}yC.prototype={areaStart:Ud,areaEnd:Ud,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function r$(e){return new yC(e)}function tN(e){return e<0?-1:1}function rN(e,t,r){var a=e._x1-e._x0,l=t-e._x1,o=(e._y1-e._y0)/(a||l<0&&-0),u=(r-e._y1)/(l||a<0&&-0),f=(o*l+u*a)/(a+l);return(tN(o)+tN(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(f))||0}function aN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kp(e,t,r){var a=e._x0,l=e._y0,o=e._x1,u=e._y1,f=(o-a)/3;e._context.bezierCurveTo(a+f,l+f*t,o-f,u-f*r,o,u)}function Bd(e){this._context=e}Bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kp(this,this._t0,aN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kp(this,aN(this,r=rN(this,e,t)),r);break;default:Kp(this,this._t0,r=rN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function bC(e){this._context=new jC(e)}(bC.prototype=Object.create(Bd.prototype)).point=function(e,t){Bd.prototype.point.call(this,t,e)};function jC(e){this._context=e}jC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,l,o){this._context.bezierCurveTo(t,e,a,r,o,l)}};function a$(e){return new Bd(e)}function n$(e){return new bC(e)}function wC(e){this._context=e}wC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=nN(e),l=nN(t),o=0,u=1;u<r;++o,++u)this._context.bezierCurveTo(a[0][o],l[0][o],a[1][o],l[1][o],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nN(e){var t,r=e.length-1,a,l=new Array(r),o=new Array(r),u=new Array(r);for(l[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)l[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(l[r-1]=2,o[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=l[t]/o[t-1],o[t]-=a,u[t]-=a*u[t-1];for(l[r-1]=u[r-1]/o[r-1],t=r-2;t>=0;--t)l[t]=(u[t]-l[t+1])/o[t];for(o[r-1]=(e[r]+l[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-l[t+1];return[l,o]}function s$(e){return new wC(e)}function $f(e,t){this._context=e,this._t=t}$f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function i$(e){return new $f(e,.5)}function l$(e){return new $f(e,0)}function o$(e){return new $f(e,1)}function Tl(e,t){if((u=e.length)>1)for(var r=1,a,l,o=e[t[0]],u,f=o.length;r<u;++r)for(l=o,o=e[t[r]],a=0;a<f;++a)o[a][1]+=o[a][0]=isNaN(l[a][1])?l[a][0]:l[a][1]}function Rg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function c$(e,t){return e[t]}function u$(e){const t=[];return t.key=e,t}function d$(){var e=yt([]),t=Rg,r=Tl,a=c$;function l(o){var u=Array.from(e.apply(this,arguments),u$),f,m=u.length,h=-1,p;for(const x of o)for(f=0,++h;f<m;++f)(u[f][h]=[0,+a(x,u[f].key,h,o)]).data=x;for(f=0,p=Y0(t(u));f<m;++f)u[p[f]].index=f;return r(u,p),u}return l.keys=function(o){return arguments.length?(e=typeof o=="function"?o:yt(Array.from(o)),l):e},l.value=function(o){return arguments.length?(a=typeof o=="function"?o:yt(+o),l):a},l.order=function(o){return arguments.length?(t=o==null?Rg:typeof o=="function"?o:yt(Array.from(o)),l):t},l.offset=function(o){return arguments.length?(r=o??Tl,l):r},l}function f$(e,t){if((a=e.length)>0){for(var r,a,l=0,o=e[0].length,u;l<o;++l){for(u=r=0;r<a;++r)u+=e[r][l][1]||0;if(u)for(r=0;r<a;++r)e[r][l][1]/=u}Tl(e,t)}}function m$(e,t){if((l=e.length)>0){for(var r=0,a=e[t[0]],l,o=a.length;r<o;++r){for(var u=0,f=0;u<l;++u)f+=e[u][r][1]||0;a[r][1]+=a[r][0]=-f/2}Tl(e,t)}}function h$(e,t){if(!(!((u=e.length)>0)||!((o=(l=e[t[0]]).length)>0))){for(var r=0,a=1,l,o,u;a<o;++a){for(var f=0,m=0,h=0;f<u;++f){for(var p=e[t[f]],x=p[a][1]||0,v=p[a-1][1]||0,j=(x-v)/2,N=0;N<f;++N){var w=e[t[N]],S=w[a][1]||0,E=w[a-1][1]||0;j+=S-E}m+=x,h+=j*x}l[a-1][1]+=l[a-1][0]=r,m&&(r-=h/m)}l[a-1][1]+=l[a-1][0]=r,Tl(e,t)}}var p$=["type","size","sizeType"];function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$g.apply(null,arguments)}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function iN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(a){x$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function x$(e,t,r){return(t=g$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g$(e){var t=v$(e,"string");return typeof t=="symbol"?t:t+""}function v$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y$(e,t){if(e==null)return{};var r,a,l=b$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function b$(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var NC={symbolCircle:X0,symbolCross:BR,symbolDiamond:FR,symbolSquare:HR,symbolStar:YR,symbolTriangle:XR,symbolWye:ZR},j$=Math.PI/180,w$=e=>{var t="symbol".concat(Uc(e));return NC[t]||X0},N$=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*j$;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},S$=(e,t)=>{NC["symbol".concat(Uc(e))]=t},W0=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,l=y$(e,p$),o=iN(iN({},l),{},{type:t,size:r,sizeType:a}),u=()=>{var x=w$(t),v=QR().type(x).size(N$(r,a,t));return v()},{className:f,cx:m,cy:h}=o,p=nt(o,!0);return m===+m&&h===+h&&r===+r?y.createElement("path",$g({},p,{className:ot("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};W0.registerSymbol=S$;function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zg.apply(null,arguments)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function E$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(a){Z0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Z0(e,t,r){return(t=_$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _$(e){var t=C$(e,"string");return typeof t=="symbol"?t:t+""}function C$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var va=32;class Q0 extends y.PureComponent{renderIcon(t,r){var{inactiveColor:a}=this.props,l=va/2,o=va/6,u=va/3,f=t.inactive?a:t.color,m=r??t.type;if(m==="none")return null;if(m==="plainline")return y.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:l,x2:va,y2:l,className:"recharts-legend-icon"});if(m==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(l,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(l,`
            H`).concat(va,"M").concat(2*u,",").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(l),className:"recharts-legend-icon"});if(m==="rect")return y.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(va/8,"h").concat(va,"v").concat(va*3/4,"h").concat(-va,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var h=E$({},t);return delete h.legendIcon,y.cloneElement(t.legendIcon,h)}return y.createElement(W0,{fill:f,cx:l,cy:l,size:va,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:r,layout:a,formatter:l,inactiveColor:o,iconType:u}=this.props,f={x:0,y:0,width:va,height:va},m={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,x)=>{var v=p.formatter||l,j=ot({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:p.inactive});if(p.type==="none")return null;var N=p.inactive?o:p.color,w=v?v(p.value,p,x):p.value;return y.createElement("li",zg({className:j,style:m,key:"legend-item-".concat(x)},Pf(this.props,p,x)),y.createElement(G0,{width:r,height:r,viewBox:f,style:h,"aria-label":"".concat(w," legend icon")},this.renderIcon(p,u)),y.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},w))})}render(){var{payload:t,layout:r,align:a}=this.props;if(!t||!t.length)return null;var l={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}Z0(Q0,"displayName","Legend");Z0(Q0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Yp={},Xp={},oN;function A$(){return oN||(oN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const l=new Map;for(let o=0;o<r.length;o++){const u=r[o],f=a(u);l.has(f)||l.set(f,u)}return Array.from(l.values())}e.uniqBy=t}(Xp)),Xp}var Wp={},cN;function SC(){return cN||(cN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(Wp)),Wp}var Zp={},Qp={},Jp={},uN;function O$(){return uN||(uN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(Jp)),Jp}var dN;function J0(){return dN||(dN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O$();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r}(Qp)),Qp}var ex={},fN;function T$(){return fN||(fN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(ex)),ex}var mN;function M$(){return mN||(mN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J0(),r=T$();function a(l){return r.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=a}(Zp)),Zp}var tx={},rx={},hN;function k$(){return hN||(hN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I0();function r(a){return function(l){return t.get(l,a)}}e.property=r}(rx)),rx}var ax={},nx={},sx={},ix={},pN;function EC(){return pN||(pN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(ix)),ix}var lx={},xN;function _C(){return xN||(xN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(lx)),lx}var ox={},gN;function ev(){return gN||(gN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t}(ox)),ox}var vN;function P$(){return vN||(vN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tv(),r=EC(),a=_C(),l=ev();function o(x,v,j){return typeof j!="function"?t.isMatch(x,v):u(x,v,function N(w,S,E,_,A,P){const D=j(w,S,E,_,A,P);return D!==void 0?!!D:u(w,S,N,P)},new Map)}function u(x,v,j,N){if(v===x)return!0;switch(typeof v){case"object":return f(x,v,j,N);case"function":return Object.keys(v).length>0?u(x,{...v},j,N):l.eq(x,v);default:return r.isObject(x)?typeof v=="string"?v==="":!0:l.eq(x,v)}}function f(x,v,j,N){if(v==null)return!0;if(Array.isArray(v))return h(x,v,j,N);if(v instanceof Map)return m(x,v,j,N);if(v instanceof Set)return p(x,v,j,N);const w=Object.keys(v);if(x==null)return w.length===0;if(w.length===0)return!0;if(N&&N.has(v))return N.get(v)===x;N&&N.set(v,x);try{for(let S=0;S<w.length;S++){const E=w[S];if(!a.isPrimitive(x)&&!(E in x)||v[E]===void 0&&x[E]!==void 0||v[E]===null&&x[E]!==null||!j(x[E],v[E],E,x,v,N))return!1}return!0}finally{N&&N.delete(v)}}function m(x,v,j,N){if(v.size===0)return!0;if(!(x instanceof Map))return!1;for(const[w,S]of v.entries()){const E=x.get(w);if(j(E,S,w,x,v,N)===!1)return!1}return!0}function h(x,v,j,N){if(v.length===0)return!0;if(!Array.isArray(x))return!1;const w=new Set;for(let S=0;S<v.length;S++){const E=v[S];let _=!1;for(let A=0;A<x.length;A++){if(w.has(A))continue;const P=x[A];let D=!1;if(j(P,E,S,x,v,N)&&(D=!0),D){w.add(A),_=!0;break}}if(!_)return!1}return!0}function p(x,v,j,N){return v.size===0?!0:x instanceof Set?h([...x],[...v],j,N):!1}e.isMatchWith=o,e.isSetMatch=p}(sx)),sx}var yN;function tv(){return yN||(yN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P$();function r(a,l){return t.isMatchWith(a,l,()=>{})}e.isMatch=r}(nx)),nx}var cx={},ux={},dx={},bN;function CC(){return bN||(bN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t}(dx)),dx}var fx={},jN;function rv(){return jN||(jN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(fx)),fx}var mx={},wN;function av(){return wN||(wN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",l="[object Boolean]",o="[object Arguments]",u="[object Symbol]",f="[object Date]",m="[object Map]",h="[object Set]",p="[object Array]",x="[object Function]",v="[object ArrayBuffer]",j="[object Object]",N="[object Error]",w="[object DataView]",S="[object Uint8Array]",E="[object Uint8ClampedArray]",_="[object Uint16Array]",A="[object Uint32Array]",P="[object BigUint64Array]",D="[object Int8Array]",M="[object Int16Array]",O="[object Int32Array]",z="[object BigInt64Array]",F="[object Float32Array]",W="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=P,e.booleanTag=l,e.dataViewTag=w,e.dateTag=f,e.errorTag=N,e.float32ArrayTag=F,e.float64ArrayTag=W,e.functionTag=x,e.int16ArrayTag=M,e.int32ArrayTag=O,e.int8ArrayTag=D,e.mapTag=m,e.numberTag=a,e.objectTag=j,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=u,e.uint16ArrayTag=_,e.uint32ArrayTag=A,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=E}(mx)),mx}var hx={},NN;function D$(){return NN||(NN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(hx)),hx}var SN;function AC(){return SN||(SN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CC(),r=rv(),a=av(),l=_C(),o=D$();function u(p,x){return f(p,void 0,p,new Map,x)}function f(p,x,v,j=new Map,N=void 0){const w=N?.(p,x,v,j);if(w!=null)return w;if(l.isPrimitive(p))return p;if(j.has(p))return j.get(p);if(Array.isArray(p)){const S=new Array(p.length);j.set(p,S);for(let E=0;E<p.length;E++)S[E]=f(p[E],E,v,j,N);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;j.set(p,S);for(const[E,_]of p)S.set(E,f(_,E,v,j,N));return S}if(p instanceof Set){const S=new Set;j.set(p,S);for(const E of p)S.add(f(E,void 0,v,j,N));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);j.set(p,S);for(let E=0;E<p.length;E++)S[E]=f(p[E],E,v,j,N);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return j.set(p,S),m(S,p,v,j,N),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return j.set(p,S),m(S,p,v,j,N),S}if(p instanceof Blob){const S=new Blob([p],{type:p.type});return j.set(p,S),m(S,p,v,j,N),S}if(p instanceof Error){const S=new p.constructor;return j.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,m(S,p,v,j,N),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return j.set(p,S),m(S,p,v,j,N),S}return p}function m(p,x,v=p,j,N){const w=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<w.length;S++){const E=w[S],_=Object.getOwnPropertyDescriptor(p,E);(_==null||_.writable)&&(p[E]=f(x[E],E,v,j,N))}}function h(p){switch(r.getTag(p)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=f,e.copyProperties=m}(ux)),ux}var EN;function R$(){return EN||(EN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AC();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r}(cx)),cx}var _N;function $$(){return _N||(_N=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tv(),r=R$();function a(l){return l=r.cloneDeep(l),o=>t.isMatch(o,l)}e.matches=a}(ax)),ax}var px={},xx={},gx={},CN;function z$(){return CN||(CN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AC(),r=av();function a(l,o){return t.cloneDeepWith(l,(u,f,m,h)=>{const p=o?.(u,f,m,h);if(p!=null)return p;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case r.numberTag:case r.stringTag:case r.booleanTag:{const x=new l.constructor(l?.valueOf());return t.copyProperties(x,l),x}case r.argumentsTag:{const x={};return t.copyProperties(x,l),x.length=l.length,x[Symbol.iterator]=l[Symbol.iterator],x}default:return}})}e.cloneDeepWith=a}(gx)),gx}var AN;function L$(){return AN||(AN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z$();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r}(xx)),xx}var vx={},yx={},ON;function OC(){return ON||(ON=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,l=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<l;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r}(yx)),yx}var bx={},TN;function U$(){return TN||(TN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rv();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r}(bx)),bx}var MN;function q$(){return MN||(MN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eC(),r=OC(),a=U$(),l=B0();function o(u,f){let m;if(Array.isArray(f)?m=f:typeof f=="string"&&t.isDeepKey(f)&&u?.[f]==null?m=l.toPath(f):m=[f],m.length===0)return!1;let h=u;for(let p=0;p<m.length;p++){const x=m[p];if((h==null||!Object.hasOwn(h,x))&&!((Array.isArray(h)||a.isArguments(h))&&r.isIndex(x)&&x<h.length))return!1;h=h[x]}return!0}e.has=o}(vx)),vx}var kN;function B$(){return kN||(kN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tv(),r=tC(),a=L$(),l=I0(),o=q$();function u(f,m){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return m=a.cloneDeep(m),function(h){const p=l.get(h,f);return p===void 0?o.has(h,f):m===void 0?p===void 0:t.isMatch(p,m)}}e.matchesProperty=u}(px)),px}var PN;function I$(){return PN||(PN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SC(),r=k$(),a=$$(),l=B$();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?l.matchesProperty(u[0],u[1]):a.matches(u);case"string":case"symbol":case"number":return r.property(u)}}e.iteratee=o}(tx)),tx}var DN;function F$(){return DN||(DN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A$(),r=SC(),a=M$(),l=I$();function o(u,f=r.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),l.iteratee(f)):[]}e.uniqBy=o}(Yp)),Yp}var jx,RN;function H$(){return RN||(RN=1,jx=F$().uniqBy),jx}var V$=H$();const $N=un(V$);function TC(e,t,r){return t===!0?$N(e,r):typeof t=="function"?$N(e,t):e}var wx={exports:{}},Nx={},Sx={exports:{}},Ex={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN;function G$(){if(zN)return Ex;zN=1;var e=Ll();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,l=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function f(x,v){var j=v(),N=a({inst:{value:j,getSnapshot:v}}),w=N[0].inst,S=N[1];return o(function(){w.value=j,w.getSnapshot=v,m(w)&&S({inst:w})},[x,j,v]),l(function(){return m(w)&&S({inst:w}),x(function(){m(w)&&S({inst:w})})},[x]),u(j),j}function m(x){var v=x.getSnapshot;x=x.value;try{var j=v();return!r(x,j)}catch{return!0}}function h(x,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return Ex.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Ex}var LN;function K$(){return LN||(LN=1,Sx.exports=G$()),Sx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN;function Y$(){if(UN)return Nx;UN=1;var e=Ll(),t=K$();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var a=typeof Object.is=="function"?Object.is:r,l=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,f=e.useMemo,m=e.useDebugValue;return Nx.useSyncExternalStoreWithSelector=function(h,p,x,v,j){var N=o(null);if(N.current===null){var w={hasValue:!1,value:null};N.current=w}else w=N.current;N=f(function(){function E(M){if(!_){if(_=!0,A=M,M=v(M),j!==void 0&&w.hasValue){var O=w.value;if(j(O,M))return P=O}return P=M}if(O=P,a(A,M))return O;var z=v(M);return j!==void 0&&j(O,z)?(A=M,O):(A=M,P=z)}var _=!1,A,P,D=x===void 0?null:x;return[function(){return E(p())},D===null?void 0:function(){return E(D())}]},[p,x,v,j]);var S=l(h,N[0],N[1]);return u(function(){w.hasValue=!0,w.value=S},[S]),m(S),S},Nx}var qN;function X$(){return qN||(qN=1,wx.exports=Y$()),wx.exports}var W$=X$(),nv=y.createContext(null),Z$=e=>e,zt=()=>{var e=y.useContext(nv);return e?e.store.dispatch:Z$},Od=()=>{},Q$=()=>Od,J$=(e,t)=>e===t;function De(e){var t=y.useContext(nv);return W$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Q$,t?t.store.getState:Od,t?t.store.getState:Od,t?e:Od,J$)}function e8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function t8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function r8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var BN=e=>Array.isArray(e)?e:[e];function a8(e){const t=Array.isArray(e[0])?e[0]:e;return r8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function n8(e,t){const r=[],{length:a}=e;for(let l=0;l<a;l++)r.push(e[l].apply(null,t));return r}var s8=class{constructor(e){this.value=e}deref(){return this.value}},i8=typeof WeakRef<"u"?WeakRef:s8,l8=0,IN=1;function cd(){return{s:l8,v:void 0,o:null,p:null}}function MC(e,t={}){let r=cd();const{resultEqualityCheck:a}=t;let l,o=0;function u(){let f=r;const{length:m}=arguments;for(let x=0,v=m;x<v;x++){const j=arguments[x];if(typeof j=="function"||typeof j=="object"&&j!==null){let N=f.o;N===null&&(f.o=N=new WeakMap);const w=N.get(j);w===void 0?(f=cd(),N.set(j,f)):f=w}else{let N=f.p;N===null&&(f.p=N=new Map);const w=N.get(j);w===void 0?(f=cd(),N.set(j,f)):f=w}}const h=f;let p;if(f.s===IN)p=f.v;else if(p=e.apply(null,arguments),o++,a){const x=l?.deref?.()??l;x!=null&&a(x,p)&&(p=x,o!==0&&o--),l=typeof p=="object"&&p!==null||typeof p=="function"?new i8(p):p}return h.s=IN,h.v=p,p}return u.clearCache=()=>{r=cd(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function o8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...l)=>{let o=0,u=0,f,m={},h=l.pop();typeof h=="object"&&(m=h,h=l.pop()),e8(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...m},{memoize:x,memoizeOptions:v=[],argsMemoize:j=MC,argsMemoizeOptions:N=[]}=p,w=BN(v),S=BN(N),E=a8(l),_=x(function(){return o++,h.apply(null,arguments)},...w),A=j(function(){u++;const D=n8(E,arguments);return f=_.apply(null,D),f},...S);return Object.assign(A,{resultFunc:h,memoizedResultFunc:_,dependencies:E,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>f,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:x,argsMemoize:j})};return Object.assign(a,{withTypes:()=>a}),a}var ue=o8(MC),c8=Object.assign((e,t=ue)=>{t8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(o=>e[o]);return t(a,(...o)=>o.reduce((u,f,m)=>(u[r[m]]=f,u),{}))},{withTypes:()=>c8}),_x={},Cx={},Ax={},FN;function u8(){return FN||(FN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,l,o)=>{if(a!==l){const u=t(a),f=t(l);if(u===f&&u===0){if(a<l)return o==="desc"?1:-1;if(a>l)return o==="desc"?-1:1}return o==="desc"?f-u:u-f}return 0};e.compareValues=r}(Ax)),Ax}var Ox={},Tx={},HN;function kC(){return HN||(HN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(Tx)),Tx}var VN;function d8(){return VN||(VN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kC(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function l(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(a.test(o)||!r.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=l}(Ox)),Ox}var GN;function f8(){return GN||(GN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u8(),r=d8(),a=B0();function l(o,u,f,m){if(o==null)return[];f=m?void 0:f,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(j=>String(j));const h=(j,N)=>{let w=j;for(let S=0;S<N.length&&w!=null;++S)w=w[N[S]];return w},p=(j,N)=>N==null||j==null?N:typeof j=="object"&&"key"in j?Object.hasOwn(N,j.key)?N[j.key]:h(N,j.path):typeof j=="function"?j(N):Array.isArray(j)?h(N,j):typeof N=="object"?N[j]:N,x=u.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||r.isKey(j)?j:{key:j,path:a.toPath(j)}));return o.map(j=>({original:j,criteria:x.map(N=>p(N,j))})).slice().sort((j,N)=>{for(let w=0;w<x.length;w++){const S=t.compareValues(j.criteria[w],N.criteria[w],f[w]);if(S!==0)return S}return 0}).map(j=>j.original)}e.orderBy=l}(Cx)),Cx}var Mx={},KN;function m8(){return KN||(KN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const l=[],o=Math.floor(a),u=(f,m)=>{for(let h=0;h<f.length;h++){const p=f[h];Array.isArray(p)&&m<o?u(p,m+1):l.push(p)}};return u(r,0),l}e.flatten=t}(Mx)),Mx}var kx={},YN;function PC(){return YN||(YN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OC(),r=J0(),a=EC(),l=ev();function o(u,f,m){return a.isObject(m)&&(typeof f=="number"&&r.isArrayLike(m)&&t.isIndex(f)&&f<m.length||typeof f=="string"&&f in m)?l.eq(m[f],u):!1}e.isIterateeCall=o}(kx)),kx}var XN;function h8(){return XN||(XN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f8(),r=m8(),a=PC();function l(o,...u){const f=u.length;return f>1&&a.isIterateeCall(o,u[0],u[1])?u=[]:f>2&&a.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,r.flatten(u),["asc"])}e.sortBy=l}(_x)),_x}var Px,WN;function p8(){return WN||(WN=1,Px=h8().sortBy),Px}var x8=p8();const zf=un(x8);var DC=e=>e.legend.settings,g8=e=>e.legend.size,v8=e=>e.legend.payload,y8=ue([v8,DC],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?zf(a,r):a});function b8(){return De(y8)}var ud=1;function RC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),a=y.useCallback(l=>{if(l!=null){var o=l.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>ud||Math.abs(u.left-t.left)>ud||Math.abs(u.top-t.top)>ud||Math.abs(u.width-t.width)>ud)&&r({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function lr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var j8=typeof Symbol=="function"&&Symbol.observable||"@@observable",ZN=j8,Dx=()=>Math.random().toString(36).substring(7).split("").join("."),w8={INIT:`@@redux/INIT${Dx()}`,REPLACE:`@@redux/REPLACE${Dx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dx()}`},Id=w8;function sv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $C(e,t,r){if(typeof e!="function")throw new Error(lr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(lr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(lr(1));return r($C)(e,t)}let a=e,l=t,o=new Map,u=o,f=0,m=!1;function h(){u===o&&(u=new Map,o.forEach((S,E)=>{u.set(E,S)}))}function p(){if(m)throw new Error(lr(3));return l}function x(S){if(typeof S!="function")throw new Error(lr(4));if(m)throw new Error(lr(5));let E=!0;h();const _=f++;return u.set(_,S),function(){if(E){if(m)throw new Error(lr(6));E=!1,h(),u.delete(_),o=null}}}function v(S){if(!sv(S))throw new Error(lr(7));if(typeof S.type>"u")throw new Error(lr(8));if(typeof S.type!="string")throw new Error(lr(17));if(m)throw new Error(lr(9));try{m=!0,l=a(l,S)}finally{m=!1}return(o=u).forEach(_=>{_()}),S}function j(S){if(typeof S!="function")throw new Error(lr(10));a=S,v({type:Id.REPLACE})}function N(){const S=x;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(lr(11));function _(){const P=E;P.next&&P.next(p())}return _(),{unsubscribe:S(_)}},[ZN](){return this}}}return v({type:Id.INIT}),{dispatch:v,subscribe:x,getState:p,replaceReducer:j,[ZN]:N}}function N8(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Id.INIT})>"u")throw new Error(lr(12));if(typeof r(void 0,{type:Id.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(lr(13))})}function zC(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(r[u]=e[u])}const a=Object.keys(r);let l;try{N8(r)}catch(o){l=o}return function(u={},f){if(l)throw l;let m=!1;const h={};for(let p=0;p<a.length;p++){const x=a[p],v=r[x],j=u[x],N=v(j,f);if(typeof N>"u")throw f&&f.type,new Error(lr(14));h[x]=N,m=m||N!==j}return m=m||a.length!==Object.keys(u).length,m?h:u}}function Fd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function S8(...e){return t=>(r,a)=>{const l=t(r,a);let o=()=>{throw new Error(lr(15))};const u={getState:l.getState,dispatch:(m,...h)=>o(m,...h)},f=e.map(m=>m(u));return o=Fd(...f)(l.dispatch),{...l,dispatch:o}}}function LC(e){return sv(e)&&"type"in e&&typeof e.type=="string"}var UC=Symbol.for("immer-nothing"),QN=Symbol.for("immer-draftable"),na=Symbol.for("immer-state");function La(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ml=Object.getPrototypeOf;function vi(e){return!!e&&!!e[na]}function Ln(e){return e?qC(e)||Array.isArray(e)||!!e[QN]||!!e.constructor?.[QN]||Uf(e)||qf(e):!1}var E8=Object.prototype.constructor.toString();function qC(e){if(!e||typeof e!="object")return!1;const t=Ml(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===E8}function Hd(e,t){Lf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Lf(e){const t=e[na];return t?t.type_:Array.isArray(e)?1:Uf(e)?2:qf(e)?3:0}function Lg(e,t){return Lf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function BC(e,t,r){const a=Lf(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function _8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Uf(e){return e instanceof Map}function qf(e){return e instanceof Set}function ti(e){return e.copy_||e.base_}function Ug(e,t){if(Uf(e))return new Map(e);if(qf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=qC(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[na];let l=Reflect.ownKeys(a);for(let o=0;o<l.length;o++){const u=l[o],f=a[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(a[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[u]})}return Object.create(Ml(e),a)}else{const a=Ml(e);if(a!==null&&r)return{...e};const l=Object.create(a);return Object.assign(l,e)}}function iv(e,t=!1){return Bf(e)||vi(e)||!Ln(e)||(Lf(e)>1&&(e.set=e.add=e.clear=e.delete=C8),Object.freeze(e),t&&Object.entries(e).forEach(([r,a])=>iv(a,!0))),e}function C8(){La(2)}function Bf(e){return Object.isFrozen(e)}var A8={};function yi(e){const t=A8[e];return t||La(0,e),t}var vc;function IC(){return vc}function O8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function JN(e,t){t&&(yi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function qg(e){Bg(e),e.drafts_.forEach(T8),e.drafts_=null}function Bg(e){e===vc&&(vc=e.parent_)}function e2(e){return vc=O8(vc,e)}function T8(e){const t=e[na];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function t2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[na].modified_&&(qg(t),La(4)),Ln(e)&&(e=Vd(t,e),t.parent_||Gd(t,e)),t.patches_&&yi("Patches").generateReplacementPatches_(r[na].base_,e,t.patches_,t.inversePatches_)):e=Vd(t,r,[]),qg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==UC?e:void 0}function Vd(e,t,r){if(Bf(t))return t;const a=t[na];if(!a)return Hd(t,(l,o)=>r2(e,a,t,l,o,r)),t;if(a.scope_!==e)return t;if(!a.modified_)return Gd(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let o=l,u=!1;a.type_===3&&(o=new Set(l),l.clear(),u=!0),Hd(o,(f,m)=>r2(e,a,l,f,m,r,u)),Gd(e,l,!1),r&&e.patches_&&yi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function r2(e,t,r,a,l,o,u){if(vi(l)){const f=o&&t&&t.type_!==3&&!Lg(t.assigned_,a)?o.concat(a):void 0,m=Vd(e,l,f);if(BC(r,a,m),vi(m))e.canAutoFreeze_=!1;else return}else u&&r.add(l);if(Ln(l)&&!Bf(l)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Vd(e,l),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,a)&&Gd(e,l)}}function Gd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iv(t,r)}function M8(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:IC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=a,o=lv;r&&(l=[a],o=yc);const{revoke:u,proxy:f}=Proxy.revocable(l,o);return a.draft_=f,a.revoke_=u,f}var lv={get(e,t){if(t===na)return e;const r=ti(e);if(!Lg(r,t))return k8(e,r,t);const a=r[t];return e.finalized_||!Ln(a)?a:a===Rx(e.base_,t)?($x(e),e.copy_[t]=Fg(a,e)):a},has(e,t){return t in ti(e)},ownKeys(e){return Reflect.ownKeys(ti(e))},set(e,t,r){const a=FC(ti(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const l=Rx(ti(e),t),o=l?.[na];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(_8(r,l)&&(r!==void 0||Lg(e.base_,t)))return!0;$x(e),Ig(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Rx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,$x(e),Ig(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ti(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){La(11)},getPrototypeOf(e){return Ml(e.base_)},setPrototypeOf(){La(12)}},yc={};Hd(lv,(e,t)=>{yc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yc.deleteProperty=function(e,t){return yc.set.call(this,e,t,void 0)};yc.set=function(e,t,r){return lv.set.call(this,e[0],t,r,e[0])};function Rx(e,t){const r=e[na];return(r?ti(r):e)[t]}function k8(e,t,r){const a=FC(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function FC(e,t){if(!(t in e))return;let r=Ml(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Ml(r)}}function Ig(e){e.modified_||(e.modified_=!0,e.parent_&&Ig(e.parent_))}function $x(e){e.copy_||(e.copy_=Ug(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var P8=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const u=this;return function(m=o,...h){return u.produce(m,p=>r.call(this,p,...h))}}typeof r!="function"&&La(6),a!==void 0&&typeof a!="function"&&La(7);let l;if(Ln(t)){const o=e2(this),u=Fg(t,void 0);let f=!0;try{l=r(u),f=!1}finally{f?qg(o):Bg(o)}return JN(o,a),t2(l,o)}else if(!t||typeof t!="object"){if(l=r(t),l===void 0&&(l=t),l===UC&&(l=void 0),this.autoFreeze_&&iv(l,!0),a){const o=[],u=[];yi("Patches").generateReplacementPatches_(t,l,o,u),a(o,u)}return l}else La(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(u,...f)=>this.produceWithPatches(u,m=>t(m,...f));let a,l;return[this.produce(t,r,(u,f)=>{a=u,l=f}),a,l]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ln(e)||La(8),vi(e)&&(e=Dn(e));const t=e2(this),r=Fg(e,void 0);return r[na].isManual_=!0,Bg(t),r}finishDraft(e,t){const r=e&&e[na];(!r||!r.isManual_)&&La(9);const{scope_:a}=r;return JN(a,t),t2(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const l=t[r];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}r>-1&&(t=t.slice(r+1));const a=yi("Patches").applyPatches_;return vi(e)?a(e,t):this.produce(e,l=>a(l,t))}};function Fg(e,t){const r=Uf(e)?yi("MapSet").proxyMap_(e,t):qf(e)?yi("MapSet").proxySet_(e,t):M8(e,t);return(t?t.scope_:IC()).drafts_.push(r),r}function Dn(e){return vi(e)||La(10,e),HC(e)}function HC(e){if(!Ln(e)||Bf(e))return e;const t=e[na];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ug(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ug(e,!0);return Hd(r,(a,l)=>{BC(r,a,HC(l))}),t&&(t.finalized_=!1),r}var sa=new P8,VC=sa.produce;sa.produceWithPatches.bind(sa);sa.setAutoFreeze.bind(sa);sa.setUseStrictShallowCopy.bind(sa);sa.applyPatches.bind(sa);sa.createDraft.bind(sa);sa.finishDraft.bind(sa);function GC(e){return({dispatch:r,getState:a})=>l=>o=>typeof o=="function"?o(r,a,e):l(o)}var D8=GC(),R8=GC,$8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fd:Fd.apply(null,arguments)};function _a(e,t){function r(...a){if(t){let l=t(...a);if(!l)throw new Error(ea(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>LC(a)&&a.type===e,r}var KC=class uc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,uc.prototype)}static get[Symbol.species](){return uc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new uc(...t[0].concat(this)):new uc(...t.concat(this))}};function a2(e){return Ln(e)?VC(e,()=>{}):e}function dd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function z8(e){return typeof e=="boolean"}var L8=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:l=!0,actionCreatorCheck:o=!0}=t??{};let u=new KC;return r&&(z8(r)?u.push(D8):u.push(R8(r.extraArgument))),u},U8="RTK_autoBatch",n2=e=>t=>{setTimeout(t,e)},q8=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let l=!0,o=!1,u=!1;const f=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:n2(10):e.type==="callback"?e.queueNotification:n2(e.timeout),h=()=>{u=!1,o&&(o=!1,f.forEach(p=>p()))};return Object.assign({},a,{subscribe(p){const x=()=>l&&p(),v=a.subscribe(x);return f.add(p),()=>{v(),f.delete(p)}},dispatch(p){try{return l=!p?.meta?.[U8],o=!l,o&&(u||(u=!0,m(h))),a.dispatch(p)}finally{l=!0}}})},B8=e=>function(r){const{autoBatch:a=!0}=r??{};let l=new KC(e);return a&&l.push(q8(typeof a=="object"?a:void 0)),l};function I8(e){const t=L8(),{reducer:r=void 0,middleware:a,devTools:l=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(sv(r))f=zC(r);else throw new Error(ea(1));let m;typeof a=="function"?m=a(t):m=t();let h=Fd;l&&(h=$8({trace:!1,...typeof l=="object"&&l}));const p=S8(...m),x=B8(p);let v=typeof u=="function"?u(x):x();const j=h(...v);return $C(f,o,j)}function YC(e){const t={},r=[];let a;const l={addCase(o,u){const f=typeof o=="string"?o:o.type;if(!f)throw new Error(ea(28));if(f in t)throw new Error(ea(29));return t[f]=u,l},addMatcher(o,u){return r.push({matcher:o,reducer:u}),l},addDefaultCase(o){return a=o,l}};return e(l),[t,r,a]}function F8(e){return typeof e=="function"}function H8(e,t){let[r,a,l]=YC(t),o;if(F8(e))o=()=>a2(e());else{const f=a2(e);o=()=>f}function u(f=o(),m){let h=[r[m.type],...a.filter(({matcher:p})=>p(m)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[l]),h.reduce((p,x)=>{if(x)if(vi(p)){const j=x(p,m);return j===void 0?p:j}else{if(Ln(p))return VC(p,v=>x(v,m));{const v=x(p,m);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},f)}return u.getInitialState=o,u}var V8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",G8=(e=21)=>{let t="",r=e;for(;r--;)t+=V8[Math.random()*64|0];return t},K8=Symbol.for("rtk-slice-createasyncthunk");function Y8(e,t){return`${e}/${t}`}function X8({creators:e}={}){const t=e?.asyncThunk?.[K8];return function(a){const{name:l,reducerPath:o=l}=a;if(!l)throw new Error(ea(11));const u=(typeof a.reducers=="function"?a.reducers(Z8()):a.reducers)||{},f=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,P){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(ea(12));if(D in m.sliceCaseReducersByType)throw new Error(ea(13));return m.sliceCaseReducersByType[D]=P,h},addMatcher(A,P){return m.sliceMatchers.push({matcher:A,reducer:P}),h},exposeAction(A,P){return m.actionCreators[A]=P,h},exposeCaseReducer(A,P){return m.sliceCaseReducersByName[A]=P,h}};f.forEach(A=>{const P=u[A],D={reducerName:A,type:Y8(l,A),createNotation:typeof a.reducers=="function"};J8(P)?tz(D,P,h,t):Q8(D,P,h)});function p(){const[A={},P=[],D=void 0]=typeof a.extraReducers=="function"?YC(a.extraReducers):[a.extraReducers],M={...A,...m.sliceCaseReducersByType};return H8(a.initialState,O=>{for(let z in M)O.addCase(z,M[z]);for(let z of m.sliceMatchers)O.addMatcher(z.matcher,z.reducer);for(let z of P)O.addMatcher(z.matcher,z.reducer);D&&O.addDefaultCase(D)})}const x=A=>A,v=new Map,j=new WeakMap;let N;function w(A,P){return N||(N=p()),N(A,P)}function S(){return N||(N=p()),N.getInitialState()}function E(A,P=!1){function D(O){let z=O[A];return typeof z>"u"&&P&&(z=dd(j,D,S)),z}function M(O=x){const z=dd(v,P,()=>new WeakMap);return dd(z,O,()=>{const F={};for(const[W,R]of Object.entries(a.selectors??{}))F[W]=W8(R,O,()=>dd(j,O,S),P);return F})}return{reducerPath:A,getSelectors:M,get selectors(){return M(D)},selectSlice:D}}const _={name:l,reducer:w,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:S,...E(o),injectInto(A,{reducerPath:P,...D}={}){const M=P??o;return A.inject({reducerPath:M,reducer:w},D),{..._,...E(M,!0)}}};return _}}function W8(e,t,r,a){function l(o,...u){let f=t(o);return typeof f>"u"&&a&&(f=r()),e(f,...u)}return l.unwrapped=e,l}var Aa=X8();function Z8(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Q8({type:e,reducerName:t,createNotation:r},a,l){let o,u;if("reducer"in a){if(r&&!ez(a))throw new Error(ea(17));o=a.reducer,u=a.prepare}else o=a;l.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?_a(e,u):_a(e))}function J8(e){return e._reducerDefinitionType==="asyncThunk"}function ez(e){return e._reducerDefinitionType==="reducerWithPrepare"}function tz({type:e,reducerName:t},r,a,l){if(!l)throw new Error(ea(18));const{payloadCreator:o,fulfilled:u,pending:f,rejected:m,settled:h,options:p}=r,x=l(e,o,p);a.exposeAction(t,x),u&&a.addCase(x.fulfilled,u),f&&a.addCase(x.pending,f),m&&a.addCase(x.rejected,m),h&&a.addMatcher(x.settled,h),a.exposeCaseReducer(t,{fulfilled:u||fd,pending:f||fd,rejected:m||fd,settled:h||fd})}function fd(){}var rz="task",XC="listener",WC="completed",ov="cancelled",az=`task-${ov}`,nz=`task-${WC}`,Hg=`${XC}-${ov}`,sz=`${XC}-${WC}`,If=class{constructor(e){this.code=e,this.message=`${rz} ${ov} (reason: ${e})`}name="TaskAbortError";message},cv=(e,t)=>{if(typeof e!="function")throw new TypeError(ea(32))},Kd=()=>{},ZC=(e,t=Kd)=>(e.catch(t),e),QC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ui=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},di=e=>{if(e.aborted){const{reason:t}=e;throw new If(t)}};function JC(e,t){let r=Kd;return new Promise((a,l)=>{const o=()=>l(new If(e.reason));if(e.aborted){o();return}r=QC(e,o),t.finally(()=>r()).then(a,l)}).finally(()=>{r=Kd})}var iz=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof If?"cancelled":"rejected",error:r}}finally{t?.()}},Yd=e=>t=>ZC(JC(e,t).then(r=>(di(e),r))),e4=e=>{const t=Yd(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:El}=Object,s2={},Ff="listenerMiddleware",lz=(e,t)=>{const r=a=>QC(e,()=>ui(a,e.reason));return(a,l)=>{cv(a);const o=new AbortController;r(o);const u=iz(async()=>{di(e),di(o.signal);const f=await a({pause:Yd(o.signal),delay:e4(o.signal),signal:o.signal});return di(o.signal),f},()=>ui(o,nz));return l?.autoJoin&&t.push(u.catch(Kd)),{result:Yd(e)(u),cancel(){ui(o,az)}}}},oz=(e,t)=>{const r=async(a,l)=>{di(t);let o=()=>{};const f=[new Promise((m,h)=>{let p=e({predicate:a,effect:(x,v)=>{v.unsubscribe(),m([x,v.getState(),v.getOriginalState()])}});o=()=>{p(),h()}})];l!=null&&f.push(new Promise(m=>setTimeout(m,l,null)));try{const m=await JC(t,Promise.race(f));return di(t),m}finally{o()}};return(a,l)=>ZC(r(a,l))},t4=e=>{let{type:t,actionCreator:r,matcher:a,predicate:l,effect:o}=e;if(t)l=_a(t).match;else if(r)t=r.type,l=r.match;else if(a)l=a;else if(!l)throw new Error(ea(21));return cv(o),{predicate:l,type:t,effect:o}},r4=El(e=>{const{type:t,predicate:r,effect:a}=t4(e);return{id:G8(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ea(22))}}},{withTypes:()=>r4}),i2=(e,t)=>{const{type:r,effect:a,predicate:l}=t4(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===l)&&o.effect===a)},Vg=e=>{e.pending.forEach(t=>{ui(t,Hg)})},cz=e=>()=>{e.forEach(Vg),e.clear()},l2=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},a4=El(_a(`${Ff}/add`),{withTypes:()=>a4}),uz=_a(`${Ff}/removeAll`),n4=El(_a(`${Ff}/remove`),{withTypes:()=>n4}),dz=(...e)=>{console.error(`${Ff}/error`,...e)},qc=(e={})=>{const t=new Map,{extra:r,onError:a=dz}=e;cv(a);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),x=>{p.unsubscribe(),x?.cancelActive&&Vg(p)}),o=p=>{const x=i2(t,p)??r4(p);return l(x)};El(o,{withTypes:()=>o});const u=p=>{const x=i2(t,p);return x&&(x.unsubscribe(),p.cancelActive&&Vg(x)),!!x};El(u,{withTypes:()=>u});const f=async(p,x,v,j)=>{const N=new AbortController,w=oz(o,N.signal),S=[];try{p.pending.add(N),await Promise.resolve(p.effect(x,El({},v,{getOriginalState:j,condition:(E,_)=>w(E,_).then(Boolean),take:w,delay:e4(N.signal),pause:Yd(N.signal),extra:r,signal:N.signal,fork:lz(N.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((E,_,A)=>{E!==N&&(ui(E,Hg),A.delete(E))})},cancel:()=>{ui(N,Hg),p.pending.delete(N)},throwIfCancelled:()=>{di(N.signal)}})))}catch(E){E instanceof If||l2(a,E,{raisedBy:"effect"})}finally{await Promise.all(S),ui(N,sz),p.pending.delete(N)}},m=cz(t);return{middleware:p=>x=>v=>{if(!LC(v))return x(v);if(a4.match(v))return o(v.payload);if(uz.match(v)){m();return}if(n4.match(v))return u(v.payload);let j=p.getState();const N=()=>{if(j===s2)throw new Error(ea(23));return j};let w;try{if(w=x(v),t.size>0){const S=p.getState(),E=Array.from(t.values());for(const _ of E){let A=!1;try{A=_.predicate(v,S,j)}catch(P){A=!1,l2(a,P,{raisedBy:"predicate"})}A&&f(_,v,p,N)}}}finally{j=s2}return w},startListening:o,stopListening:u,clearListeners:m}};function ea(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fz={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},s4=Aa({name:"chartLayout",initialState:fz,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:mz,setLayout:hz,setChartSize:pz,setScale:xz}=s4.actions,gz=s4.reducer;function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function c2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(a){vz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vz(e,t,r){return(t=yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yz(e){var t=bz(e,"string");return typeof t=="symbol"?t:t+""}function bz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd=Math.PI/180,jz=e=>e*180/Math.PI,dr=(e,t,r,a)=>({x:e+Math.cos(-Xd*a)*r,y:t+Math.sin(-Xd*a)*r}),wz=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},Nz=(e,t)=>{var{x:r,y:a}=e,{x:l,y:o}=t;return Math.sqrt((r-l)**2+(a-o)**2)},Sz=(e,t)=>{var{x:r,y:a}=e,{cx:l,cy:o}=t,u=Nz({x:r,y:a},{x:l,y:o});if(u<=0)return{radius:u,angle:0};var f=(r-l)/u,m=Math.acos(f);return a>o&&(m=2*Math.PI-m),{radius:u,angle:jz(m),angleInRadian:m}},Ez=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),l=Math.floor(r/360),o=Math.min(a,l);return{startAngle:t-o*360,endAngle:r-o*360}},_z=(e,t)=>{var{startAngle:r,endAngle:a}=t,l=Math.floor(r/360),o=Math.floor(a/360),u=Math.min(l,o);return e+u*360},Cz=(e,t)=>{var{x:r,y:a}=e,{radius:l,angle:o}=Sz({x:r,y:a},t),{innerRadius:u,outerRadius:f}=t;if(l<u||l>f||l===0)return null;var{startAngle:m,endAngle:h}=Ez(t),p=o,x;if(m<=h){for(;p>h;)p-=360;for(;p<m;)p+=360;x=p>=m&&p<=h}else{for(;p>m;)p-=360;for(;p<h;)p+=360;x=p>=h&&p<=m}return x?c2(c2({},t),{},{radius:l,angle:_z(p,t)}):null};function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(a){Az(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Az(e,t,r){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oz(e){var t=Tz(e,"string");return typeof t=="symbol"?t:t+""}function Tz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jr(e,t,r){return xt(e)||xt(t)?r:ln(t)?gi(e,t,r):typeof t=="function"?t(e):r}var Mz=(e,t,r,a,l)=>{var o,u=-1,f=(o=t?.length)!==null&&o!==void 0?o:0;if(f<=1||e==null)return 0;if(a==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var m=0;m<f;m++){var h=m>0?r[m-1].coordinate:r[f-1].coordinate,p=r[m].coordinate,x=m>=f-1?r[0].coordinate:r[m+1].coordinate,v=void 0;if(Pr(p-h)!==Pr(x-p)){var j=[];if(Pr(x-p)===Pr(l[1]-l[0])){v=x;var N=p+l[1]-l[0];j[0]=Math.min(N,(N+h)/2),j[1]=Math.max(N,(N+h)/2)}else{v=h;var w=x+l[1]-l[0];j[0]=Math.min(p,(w+p)/2),j[1]=Math.max(p,(w+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>S[0]&&e<=S[1]||e>=j[0]&&e<=j[1]){({index:u}=r[m]);break}}else{var E=Math.min(h,x),_=Math.max(h,x);if(e>(E+p)/2&&e<=(_+p)/2){({index:u}=r[m]);break}}}else if(t){for(var A=0;A<f;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<f-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===f-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:u}=t[A]);break}}return u},kz=(e,t,r)=>{if(t&&r){var{width:a,height:l}=r,{align:o,verticalAlign:u,layout:f}=t;if((f==="vertical"||f==="horizontal"&&u==="middle")&&o!=="center"&&Te(e[o]))return ja(ja({},e),{},{[o]:e[o]+(a||0)});if((f==="horizontal"||f==="vertical"&&o==="center")&&u!=="middle"&&Te(e[u]))return ja(ja({},e),{},{[u]:e[u]+(l||0)})}return e},Ms=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",i4=(e,t,r,a)=>{if(a)return e.map(f=>f.coordinate);var l,o,u=e.map(f=>(f.coordinate===t&&(l=!0),f.coordinate===r&&(o=!0),f.coordinate));return l||u.push(t),o||u.push(r),u},l4=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:l,range:o,scale:u,realScaleType:f,isCategorical:m,categoricalDomain:h,tickCount:p,ticks:x,niceTicks:v,axisType:j}=e;if(!u)return null;var N=f==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,w=l==="category"&&u.bandwidth?u.bandwidth()/N:0;if(w=j==="angleAxis"&&o&&o.length>=2?Pr(o[0]-o[1])*2*w:w,x||v){var S=(x||v||[]).map((E,_)=>{var A=a?a.indexOf(E):E;return{coordinate:u(A)+w,value:E,offset:w,index:_}});return S.filter(E=>!ra(E.coordinate))}return m&&h?h.map((E,_)=>({coordinate:u(E)+w,value:E,index:_,offset:w})):u.ticks&&p!=null?u.ticks(p).map((E,_)=>({coordinate:u(E)+w,value:E,offset:w,index:_})):u.domain().map((E,_)=>({coordinate:u(E)+w,value:a?a[E]:E,index:_,offset:w}))},d2=1e-4,Pz=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),l=Math.min(a[0],a[1])-d2,o=Math.max(a[0],a[1])+d2,u=e(t[0]),f=e(t[r-1]);(u<l||u>o||f<l||f>o)&&e.domain([t[0],t[r-1]])}},Dz=(e,t)=>{if(!t||t.length!==2||!Te(t[0])||!Te(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!Te(e[0])||e[0]<r)&&(l[0]=r),(!Te(e[1])||e[1]>a)&&(l[1]=a),l[0]>a&&(l[0]=a),l[1]<r&&(l[1]=r),l},Rz=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var l=0,o=0,u=0;u<t;++u){var f=ra(e[u][r][1])?e[u][r][0]:e[u][r][1];f>=0?(e[u][r][0]=l,e[u][r][1]=l+f,l=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+f,o=e[u][r][1])}},$z=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var l=0,o=0;o<t;++o){var u=ra(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=l,e[o][r][1]=l+u,l=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},zz={sign:Rz,expand:f$,none:Tl,silhouette:m$,wiggle:h$,positive:$z},Lz=(e,t,r)=>{var a=zz[r],l=d$().keys(t).value((o,u)=>+jr(o,u,0)).order(Rg).offset(a);return l(e)};function o4(e){return e==null?void 0:String(e)}function f2(e){var{axis:t,ticks:r,bandSize:a,entry:l,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xt(l[t.dataKey])){var f=aC(r,"value",l[t.dataKey]);if(f)return f.coordinate+a/2}return r[o]?r[o].coordinate+a/2:null}var m=jr(l,xt(u)?t.dataKey:u);return xt(m)?null:t.scale(m)}var m2=e=>{var{axis:t,ticks:r,offset:a,bandSize:l,entry:o,index:u}=e;if(t.type==="category")return r[u]?r[u].coordinate+a:null;var f=jr(o,t.dataKey,t.scale.domain()[u]);return xt(f)?null:t.scale(f)-l/2+a},Uz=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),l=Math.max(r[0],r[1]);return a<=0&&l>=0?0:l<0?l:a}return r[0]},qz=e=>{var t=e.flat(2).filter(Te);return[Math.min(...t),Math.max(...t)]},Bz=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Iz=(e,t,r)=>{if(e!=null)return Bz(Object.keys(e).reduce((a,l)=>{var o=e[l],{stackedData:u}=o,f=u.reduce((m,h)=>{var p=qz(h.slice(t,r+1));return[Math.min(m[0],p[0]),Math.max(m[1],p[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0]))},h2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var l=zf(t,p=>p.coordinate),o=1/0,u=1,f=l.length;u<f;u++){var m=l[u],h=l[u-1];o=Math.min((m.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function x2(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:l,name:o}=e;return ja(ja({},t),{},{dataKey:r,payload:a,value:l,name:o})}function Hf(e,t){if(e)return String(e);if(typeof t=="string")return t}function Fz(e,t,r,a,l){if(r==="horizontal"||r==="vertical"){var o=e>=l.left&&e<=l.left+l.width&&t>=l.top&&t<=l.top+l.height;return o?{x:e,y:t}:null}return a?Cz({x:e,y:t},a):null}var Hz=(e,t,r,a)=>{var l=t.find(h=>h&&h.index===r);if(l){if(e==="horizontal")return{x:l.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:l.coordinate};if(e==="centric"){var o=l.coordinate,{radius:u}=a;return ja(ja(ja({},a),dr(a.cx,a.cy,u,o)),{},{angle:o,radius:u})}var f=l.coordinate,{angle:m}=a;return ja(ja(ja({},a),dr(a.cx,a.cy,f,m)),{},{angle:m,radius:f})}return{x:0,y:0}},Vz=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Vn=e=>e.layout.width,Gn=e=>e.layout.height,Gz=e=>e.layout.scale,c4=e=>e.layout.margin,uv=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),dv=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Kz="data-recharts-item-index",Yz="data-recharts-item-data-key",Vf=60;function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(a){Xz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xz(e,t,r){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=Zz(e,"string");return typeof t=="symbol"?t:t+""}function Zz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qz=e=>e.brush.height,Jt=ue([Vn,Gn,c4,Qz,uv,dv,DC,g8],(e,t,r,a,l,o,u,f)=>{var m=o.reduce((N,w)=>{var{orientation:S}=w;if(!w.mirror&&!w.hide){var E=typeof w.width=="number"?w.width:Vf;return bs(bs({},N),{},{[S]:N[S]+E})}return N},{left:r.left||0,right:r.right||0}),h=l.reduce((N,w)=>{var{orientation:S}=w;return!w.mirror&&!w.hide?bs(bs({},N),{},{[S]:gi(N,"".concat(S))+w.height}):N},{top:r.top||0,bottom:r.bottom||0}),p=bs(bs({},h),m),x=p.bottom;p.bottom+=a,p=kz(p,u,f);var v=e-p.left-p.right,j=t-p.top-p.bottom;return bs(bs({brushBottom:x},p),{},{width:Math.max(v,0),height:Math.max(j,0)})}),Jz=ue(Jt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),u4=ue(Vn,Gn,(e,t)=>({x:0,y:0,width:e,height:t})),eL=y.createContext(null),Er=()=>y.useContext(eL)!=null,Gf=e=>e.brush,Kf=ue([Gf,Jt,c4],(e,t,r)=>({height:e.height,x:Te(e.x)?e.x:t.left,y:Te(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Te(e.width)?e.width:t.width})),fv=()=>{var e,t=Er(),r=De(Jz),a=De(Kf),l=(e=De(Gf))===null||e===void 0?void 0:e.padding;return!t||!a||!l?r:{width:a.width-l.left-l.right,height:a.height-l.top-l.bottom,x:l.left,y:l.top}},tL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},d4=()=>{var e;return(e=De(Jt))!==null&&e!==void 0?e:tL},mv=()=>De(Vn),hv=()=>De(Gn),rL={top:0,right:0,bottom:0,left:0},aL=()=>{var e;return(e=De(t=>t.layout.margin))!==null&&e!==void 0?e:rL},ct=e=>e.layout.layoutType,Yf=()=>De(ct),nL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},f4=Aa({name:"legend",initialState:nL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Dn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:v2,setLegendSettings:sL,addLegendPayload:iL,removeLegendPayload:lL}=f4.actions,oL=f4.reducer,cL=["contextPayload"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gg.apply(null,arguments)}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(a){pv(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pv(e,t,r){return(t=uL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uL(e){var t=dL(e,"string");return typeof t=="symbol"?t:t+""}function dL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fL(e,t){if(e==null)return{};var r,a,l=mL(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function mL(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function hL(e){return e.value}function pL(e){var{contextPayload:t}=e,r=fL(e,cL),a=TC(t,e.payloadUniqBy,hL),l=kl(kl({},r),{},{payload:a});return y.isValidElement(e.content)?y.cloneElement(e.content,l):typeof e.content=="function"?y.createElement(e.content,l):y.createElement(Q0,l)}function xL(e,t,r,a,l,o){var{layout:u,align:f,verticalAlign:m}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&u==="vertical"?h={left:((a||0)-o.width)/2}:h=f==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?p={top:((l||0)-o.height)/2}:p=m==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),kl(kl({},h),p)}function gL(e){var t=zt();return y.useEffect(()=>{t(sL(e))},[t,e]),null}function vL(e){var t=zt();return y.useEffect(()=>(t(v2(e)),()=>{t(v2({width:0,height:0}))}),[t,e]),null}function yL(e){var t=b8(),r=RR(),a=aL(),{width:l,height:o,wrapperStyle:u,portal:f}=e,[m,h]=RC([t]),p=mv(),x=hv(),v=p-(a.left||0)-(a.right||0),j=jc.getWidthOrHeight(e.layout,o,l,v),N=f?u:kl(kl({position:"absolute",width:j?.width||l||"auto",height:j?.height||o||"auto"},xL(u,e,a,p,x,m)),u),w=f??r;if(w==null)return null;var S=y.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:h},y.createElement(gL,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(vL,{width:m.width,height:m.height}),y.createElement(pL,Gg({},e,j,{margin:a,chartWidth:p,chartHeight:x,contextPayload:t})));return v_.createPortal(S,w)}class jc extends y.PureComponent{static getWidthOrHeight(t,r,a,l){return t==="vertical"&&Te(r)?{height:r}:t==="horizontal"?{width:a||l}:null}render(){return y.createElement(yL,this.props)}}pv(jc,"displayName","Legend");pv(jc,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kg.apply(null,arguments)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(a){bL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bL(e,t,r){return(t=jL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=wL(e,"string");return typeof t=="symbol"?t:t+""}function wL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NL(e){return Array.isArray(e)&&ln(e[0])&&ln(e[1])?e.join(" ~ "):e}var SL=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:l={},payload:o,formatter:u,itemSorter:f,wrapperClassName:m,labelClassName:h,label:p,labelFormatter:x,accessibilityLayer:v=!1}=e,j=()=>{if(o&&o.length){var D={padding:0,margin:0},M=(f?zf(o,f):o).map((O,z)=>{if(O.type==="none")return null;var F=O.formatter||u||NL,{value:W,name:R}=O,H=W,T=R;if(F){var L=F(W,R,O,z,o);if(Array.isArray(L))[H,T]=L;else if(L!=null)H=L;else return null}var B=zx({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},a);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:B},ln(T)?y.createElement("span",{className:"recharts-tooltip-item-name"},T):null,ln(T)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},H),y.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},N=zx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=zx({margin:0},l),S=!xt(p),E=S?p:"",_=ot("recharts-default-tooltip",m),A=ot("recharts-tooltip-label",h);S&&x&&o!==void 0&&o!==null&&(E=x(p,o));var P=v?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Kg({className:_,style:N},P),y.createElement("p",{className:A,style:w},y.isValidElement(E)?E:"".concat(E)),j())},ec="recharts-tooltip-wrapper",EL={visibility:"hidden"};function _L(e){var{coordinate:t,translateX:r,translateY:a}=e;return ot(ec,{["".concat(ec,"-right")]:Te(r)&&t&&Te(t.x)&&r>=t.x,["".concat(ec,"-left")]:Te(r)&&t&&Te(t.x)&&r<t.x,["".concat(ec,"-bottom")]:Te(a)&&t&&Te(t.y)&&a>=t.y,["".concat(ec,"-top")]:Te(a)&&t&&Te(t.y)&&a<t.y})}function j2(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:l,position:o,reverseDirection:u,tooltipDimension:f,viewBox:m,viewBoxDimension:h}=e;if(o&&Te(o[a]))return o[a];var p=r[a]-f-(l>0?l:0),x=r[a]+l;if(t[a])return u[a]?p:x;var v=m[a];if(v==null)return 0;if(u[a]){var j=p,N=v;return j<N?Math.max(x,v):Math.max(p,v)}if(h==null)return 0;var w=x+f,S=v+h;return w>S?Math.max(p,v):Math.max(x,v)}function CL(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function AL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:l,reverseDirection:o,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,p,x;return u.height>0&&u.width>0&&r?(p=j2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:l,reverseDirection:o,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),x=j2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:l,reverseDirection:o,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=CL({translateX:p,translateY:x,useTranslate3d:f})):h=EL,{cssProperties:h,cssClasses:_L({translateX:p,translateY:x,coordinate:r})}}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(a){Yg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yg(e,t,r){return(t=OL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OL(e){var t=TL(e,"string");return typeof t=="symbol"?t:t+""}function TL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ML extends y.PureComponent{constructor(){super(...arguments),Yg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Yg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,l,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(l=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:l,children:o,coordinate:u,hasPayload:f,isAnimationActive:m,offset:h,position:p,reverseDirection:x,useTranslate3d:v,viewBox:j,wrapperStyle:N,lastBoundingBox:w,innerRef:S,hasPortalFromProps:E}=this.props,{cssClasses:_,cssProperties:A}=AL({allowEscapeViewBox:r,coordinate:u,offsetTopLeft:h,position:p,reverseDirection:x,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:j}),P=E?{}:md(md({transition:m&&t?"transform ".concat(a,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),D=md(md({},P),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},N);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:D,ref:S},o)}}var kL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vl={isSsr:kL()},m4=()=>De(e=>e.rootProps.accessibilityLayer);function ia(e){return Number.isFinite(e)}function Wd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xg.apply(null,arguments)}function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(a){PL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PL(e,t,r){return(t=DL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=RL(e,"string");return typeof t=="symbol"?t:t+""}function RL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E2={curveBasisClosed:e$,curveBasisOpen:t$,curveBasis:JR,curveBumpX:UR,curveBumpY:qR,curveLinearClosed:r$,curveLinear:Rf,curveMonotoneX:a$,curveMonotoneY:n$,curveNatural:s$,curveStep:i$,curveStepAfter:o$,curveStepBefore:l$},hd=e=>ia(e.x)&&ia(e.y),tc=e=>e.x,rc=e=>e.y,$L=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Uc(e));return(r==="curveMonotone"||r==="curveBump")&&t?E2["".concat(r).concat(t==="vertical"?"Y":"X")]:E2[r]||Rf},zL=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:l,connectNulls:o=!1}=e,u=$L(t,l),f=o?r.filter(hd):r,m;if(Array.isArray(a)){var h=o?a.filter(x=>hd(x)):a,p=f.map((x,v)=>S2(S2({},x),{},{base:h[v]}));return l==="vertical"?m=od().y(rc).x1(tc).x0(x=>x.base.x):m=od().x(tc).y1(rc).y0(x=>x.base.y),m.defined(hd).curve(u),m(p)}return l==="vertical"&&Te(a)?m=od().y(rc).x1(tc).x0(a):Te(a)?m=od().x(tc).y1(rc).y0(a):m=fC().x(tc).y(rc),m.defined(hd).curve(u),m(f)},h4=e=>{var{className:t,points:r,path:a,pathRef:l}=e;if((!r||!r.length)&&!a)return null;var o=r&&r.length?zL(e):a;return y.createElement("path",Xg({},nt(e,!1),H0(e),{className:ot("recharts-curve",t),d:o===null?void 0:o,ref:l}))},LL=["x","y","top","left","width","height","className"];function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wg.apply(null,arguments)}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function UL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(a){qL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qL(e,t,r){return(t=BL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BL(e){var t=IL(e,"string");return typeof t=="symbol"?t:t+""}function IL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FL(e,t){if(e==null)return{};var r,a,l=HL(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function HL(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var VL=(e,t,r,a,l,o)=>"M".concat(e,",").concat(l,"v").concat(a,"M").concat(o,",").concat(t,"h").concat(r),GL=e=>{var{x:t=0,y:r=0,top:a=0,left:l=0,width:o=0,height:u=0,className:f}=e,m=FL(e,LL),h=UL({x:t,y:r,top:a,left:l,width:o,height:u},m);return!Te(t)||!Te(r)||!Te(o)||!Te(u)||!Te(a)||!Te(l)?null:y.createElement("path",Wg({},nt(h,!0),{className:ot("recharts-cross",f),d:VL(t,r,o,u,a,l)}))};function KL(e,t,r,a){var l=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-l,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function YL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(a){XL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function XL(e,t,r){return(t=WL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=ZL(e,"string");return typeof t=="symbol"?t:t+""}function ZL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kn(e,t){var r=YL({},e),a=t,l=Object.keys(t),o=l.reduce((u,f)=>(u[f]===void 0&&a[f]!==void 0&&(u[f]=a[f]),u),r);return o}var Lx={},Ux={},qx={},A2;function QL(){return A2||(A2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const a=Object.getPrototypeOf(r);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(qx)),qx}var O2;function JL(){return O2||(O2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QL(),r=CC(),a=rv(),l=av(),o=ev();function u(h,p,x){return f(h,p,void 0,void 0,void 0,void 0,x)}function f(h,p,x,v,j,N,w){const S=w(h,p,x,v,j,N);if(S!==void 0)return S;if(typeof h==typeof p)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===p;case"number":return h===p||Object.is(h,p);case"function":return h===p;case"object":return m(h,p,N,w)}return m(h,p,N,w)}function m(h,p,x,v){if(Object.is(h,p))return!0;let j=a.getTag(h),N=a.getTag(p);if(j===l.argumentsTag&&(j=l.objectTag),N===l.argumentsTag&&(N=l.objectTag),j!==N)return!1;switch(j){case l.stringTag:return h.toString()===p.toString();case l.numberTag:{const E=h.valueOf(),_=p.valueOf();return o.eq(E,_)}case l.booleanTag:case l.dateTag:case l.symbolTag:return Object.is(h.valueOf(),p.valueOf());case l.regexpTag:return h.source===p.source&&h.flags===p.flags;case l.functionTag:return h===p}x=x??new Map;const w=x.get(h),S=x.get(p);if(w!=null&&S!=null)return w===p;x.set(h,p),x.set(p,h);try{switch(j){case l.mapTag:{if(h.size!==p.size)return!1;for(const[E,_]of h.entries())if(!p.has(E)||!f(_,p.get(E),E,h,p,x,v))return!1;return!0}case l.setTag:{if(h.size!==p.size)return!1;const E=Array.from(h.values()),_=Array.from(p.values());for(let A=0;A<E.length;A++){const P=E[A],D=_.findIndex(M=>f(P,M,void 0,h,p,x,v));if(D===-1)return!1;_.splice(D,1)}return!0}case l.arrayTag:case l.uint8ArrayTag:case l.uint8ClampedArrayTag:case l.uint16ArrayTag:case l.uint32ArrayTag:case l.bigUint64ArrayTag:case l.int8ArrayTag:case l.int16ArrayTag:case l.int32ArrayTag:case l.bigInt64ArrayTag:case l.float32ArrayTag:case l.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(p)||h.length!==p.length)return!1;for(let E=0;E<h.length;E++)if(!f(h[E],p[E],E,h,p,x,v))return!1;return!0}case l.arrayBufferTag:return h.byteLength!==p.byteLength?!1:m(new Uint8Array(h),new Uint8Array(p),x,v);case l.dataViewTag:return h.byteLength!==p.byteLength||h.byteOffset!==p.byteOffset?!1:m(new Uint8Array(h),new Uint8Array(p),x,v);case l.errorTag:return h.name===p.name&&h.message===p.message;case l.objectTag:{if(!(m(h.constructor,p.constructor,x,v)||t.isPlainObject(h)&&t.isPlainObject(p)))return!1;const _=[...Object.keys(h),...r.getSymbols(h)],A=[...Object.keys(p),...r.getSymbols(p)];if(_.length!==A.length)return!1;for(let P=0;P<_.length;P++){const D=_[P],M=h[D];if(!Object.hasOwn(p,D))return!1;const O=p[D];if(!f(M,O,D,h,p,x,v))return!1}return!0}default:return!1}}finally{x.delete(h),x.delete(p)}}e.isEqualWith=u}(Ux)),Ux}var Bx={},T2;function e7(){return T2||(T2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Bx)),Bx}var M2;function t7(){return M2||(M2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JL(),r=e7();function a(l,o){return t.isEqualWith(l,o,r.noop)}e.isEqual=a}(Lx)),Lx}var Ix,k2;function r7(){return k2||(k2=1,Ix=t7().isEqual),Ix}var a7=r7();const n7=un(a7);function s7(e){var t={},r=()=>null,a=!1,l=null,o=u=>{if(!a){if(Array.isArray(u)){if(!u.length)return;var f=u,[m,...h]=f;if(typeof m=="number"){l=e.setTimeout(o.bind(null,h),m);return}o(m),l=e.setTimeout(o.bind(null,h));return}typeof u=="object"&&(t=u,r(t)),typeof u=="function"&&u()}};return{stop:()=>{a=!0},start:u=>{a=!1,l&&(l(),l=null),o(u)},subscribe:u=>(r=u,()=>{r=()=>null}),getTimeoutController:()=>e}}var Zd=1e-4,p4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],x4=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),P2=(e,t)=>r=>{var a=p4(e,t);return x4(a,r)},i7=(e,t)=>r=>{var a=p4(e,t),l=[...a.map((o,u)=>o*u).slice(1),0];return x4(l,r)},D2=function(){for(var t,r,a,l,o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];if(u.length===1)switch(u[0]){case"linear":[t,a,r,l]=[0,0,1,1];break;case"ease":[t,a,r,l]=[.25,.1,.25,1];break;case"ease-in":[t,a,r,l]=[.42,0,1,1];break;case"ease-out":[t,a,r,l]=[.42,0,.58,1];break;case"ease-in-out":[t,a,r,l]=[0,0,.58,1];break;default:{var m=u[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,a,r,l]=m[1].split(")")[0].split(",").map(N=>parseFloat(N)))}}else u.length===4&&([t,a,r,l]=u);var h=P2(t,r),p=P2(a,l),x=i7(t,r),v=N=>N>1?1:N<0?0:N,j=N=>{for(var w=N>1?1:N,S=w,E=0;E<8;++E){var _=h(S)-w,A=x(S);if(Math.abs(_-w)<Zd||A<Zd)return p(S);S=v(S-_/A)}return p(S)};return j.isStepper=!1,j},l7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:l=17}=t,o=(u,f,m)=>{var h=-(u-f)*r,p=m*a,x=m+(h-p)*l/1e3,v=m*l/1e3+u;return Math.abs(v-f)<Zd&&Math.abs(x)<Zd?[f,0]:[v,x]};return o.isStepper=!0,o.dt=l,o},o7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return D2(e);case"spring":return l7();default:if(e.split("(")[0]==="cubic-bezier")return D2(e)}return typeof e=="function"?e:null};function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function $2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(r),!0).forEach(function(a){c7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function c7(e,t,r){return(t=u7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u7(e){var t=d7(e,"string");return typeof t=="symbol"?t:t+""}function d7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),m7=(e,t,r)=>e.map(a=>"".concat(f7(a)," ").concat(t,"ms ").concat(r)).join(","),h7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(l=>a.includes(l))),wc=(e,t)=>Object.keys(t).reduce((r,a)=>$2($2({},r),{},{[a]:e(a,t[a])}),{});function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(a){p7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function p7(e,t,r){return(t=x7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x7(e){var t=g7(e,"string");return typeof t=="symbol"?t:t+""}function g7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=(e,t,r)=>e+(t-e)*r,Zg=e=>{var{from:t,to:r}=e;return t!==r},g4=(e,t,r)=>{var a=wc((l,o)=>{if(Zg(o)){var[u,f]=e(o.from,o.to,o.velocity);return cr(cr({},o),{},{from:u,velocity:f})}return o},t);return r<1?wc((l,o)=>Zg(o)?cr(cr({},o),{},{velocity:Qd(o.velocity,a[l].velocity,r),from:Qd(o.from,a[l].from,r)}):o,t):g4(e,a,r-1)};function v7(e,t,r,a,l,o){var u,f=a.reduce((v,j)=>cr(cr({},v),{},{[j]:{from:e[j],velocity:0,to:t[j]}}),{}),m=()=>wc((v,j)=>j.from,f),h=()=>!Object.values(f).filter(Zg).length,p=null,x=v=>{u||(u=v);var j=v-u,N=j/r.dt;f=g4(r,f,N),l(cr(cr(cr({},e),t),m())),u=v,h()||(p=o.setTimeout(x))};return()=>(p=o.setTimeout(x),()=>{p()})}function y7(e,t,r,a,l,o,u){var f=null,m=l.reduce((x,v)=>cr(cr({},x),{},{[v]:[e[v],t[v]]}),{}),h,p=x=>{h||(h=x);var v=(x-h)/a,j=wc((w,S)=>Qd(...S,r(v)),m);if(o(cr(cr(cr({},e),t),j)),v<1)f=u.setTimeout(p);else{var N=wc((w,S)=>Qd(...S,r(1)),m);o(cr(cr(cr({},e),t),N))}};return()=>(f=u.setTimeout(p),()=>{f()})}const b7=(e,t,r,a,l,o)=>{var u=h7(e,t);return r.isStepper===!0?v7(e,t,r,u,l,o):y7(e,t,r,a,u,l,o)};class j7{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),l=null,o=u=>{u-a>=r?t(u):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(o))};return l=requestAnimationFrame(o),()=>{cancelAnimationFrame(l)}}}var w7=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qg.apply(null,arguments)}function N7(e,t){if(e==null)return{};var r,a,l=S7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function S7(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(a){si(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function si(e,t,r){return(t=E7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E7(e){var t=_7(e,"string");return typeof t=="symbol"?t:t+""}function _7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C7(){return s7(new j7)}class xv extends y.PureComponent{constructor(t,r){super(t,r),si(this,"mounted",!1),si(this,"manager",null),si(this,"stopJSAnimation",null),si(this,"unSubscribe",null);var{isActive:a,attributeName:l,from:o,to:u,children:f,duration:m,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||m<=0){this.state={style:{}},typeof f=="function"&&(this.state={style:u});return}if(o){if(typeof f=="function"){this.state={style:o};return}this.state={style:l?{[l]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:a,attributeName:l,shouldReAnimate:o,to:u,from:f}=this.props,{style:m}=this.state;if(a){if(!r){var h={style:l?{[l]:u}:u};this.state&&m&&(l&&m[l]!==u||!l&&m!==u)&&this.setState(h);return}if(!(n7(t.to,u)&&t.canBegin&&t.isActive)){var p=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=p||o?f:t.to;if(this.state&&m){var v={style:l?{[l]:x}:x};(l&&m[l]!==x||!l&&m!==x)&&this.setState(v)}this.runAnimation(js(js({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:a,duration:l,easing:o,begin:u,onAnimationEnd:f,onAnimationStart:m}=t,h=b7(r,a,o7(o),l,this.changeStyle,this.manager.getTimeoutController()),p=()=>{this.stopJSAnimation=h()};this.manager.start([m,u,p,l,f])}runAnimation(t){var{begin:r,duration:a,attributeName:l,to:o,easing:u,onAnimationStart:f,onAnimationEnd:m,children:h}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(t);return}var p=l?{[l]:o}:o,x=m7(Object.keys(p),a,u);this.manager.start([f,r,js(js({},p),{},{transition:x}),a,m])}render(){var t=this.props,{children:r,begin:a,duration:l,attributeName:o,easing:u,isActive:f,from:m,to:h,canBegin:p,onAnimationEnd:x,shouldReAnimate:v,onAnimationReStart:j,animationManager:N}=t,w=N7(t,w7),S=y.Children.count(r),E=this.state.style;if(typeof r=="function")return r(E);if(!f||S===0||l<=0)return r;var _=A=>{var{style:P={},className:D}=A.props,M=y.cloneElement(A,js(js({},w),{},{style:js(js({},P),E),className:D}));return M};return S===1?_(y.Children.only(r)):y.createElement("div",null,y.Children.map(r,A=>_(A)))}}si(xv,"displayName","Animate");si(xv,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var A7=y.createContext(null);function bi(e){var t,r,a=y.useContext(A7);return y.createElement(xv,Qg({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:a)!==null&&t!==void 0?t:C7()}))}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jd.apply(null,arguments)}var U2=(e,t,r,a,l)=>{var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,f=r>=0?1:-1,m=a>=0&&r>=0||a<0&&r<0?1:0,h;if(o>0&&l instanceof Array){for(var p=[0,0,0,0],x=0,v=4;x<v;x++)p[x]=l[x]>o?o:l[x];h="M".concat(e,",").concat(t+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(m,",").concat(e+f*p[0],",").concat(t)),h+="L ".concat(e+r-f*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(m,`,
        `).concat(e+r,",").concat(t+u*p[1])),h+="L ".concat(e+r,",").concat(t+a-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(m,`,
        `).concat(e+r-f*p[2],",").concat(t+a)),h+="L ".concat(e+f*p[3],",").concat(t+a),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+a-u*p[3])),h+="Z"}else if(o>0&&l===+l&&l>0){var j=Math.min(o,l);h="M ".concat(e,",").concat(t+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+f*j,",").concat(t,`
            L `).concat(e+r-f*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+r,",").concat(t+u*j,`
            L `).concat(e+r,",").concat(t+a-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+r-f*j,",").concat(t+a,`
            L `).concat(e+f*j,",").concat(t+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e,",").concat(t+a-u*j," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return h},O7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},v4=e=>{var t=Kn(e,O7),r=y.useRef(null),[a,l]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&l(E)}catch{}},[]);var{x:o,y:u,width:f,height:m,radius:h,className:p}=t,{animationEasing:x,animationDuration:v,animationBegin:j,isAnimationActive:N,isUpdateAnimationActive:w}=t;if(o!==+o||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var S=ot("recharts-rectangle",p);return w?y.createElement(bi,{canBegin:a>0,from:{width:f,height:m,x:o,y:u},to:{width:f,height:m,x:o,y:u},duration:v,animationEasing:x,isActive:w},E=>{var{width:_,height:A,x:P,y:D}=E;return y.createElement(bi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:v,isActive:N,easing:x},y.createElement("path",Jd({},nt(t,!0),{className:S,d:U2(P,D,_,A,h),ref:r})))}):y.createElement("path",Jd({},nt(t,!0),{className:S,d:U2(o,u,f,m,h)}))};function y4(e){var{cx:t,cy:r,radius:a,startAngle:l,endAngle:o}=e,u=dr(t,r,a,l),f=dr(t,r,a,o);return{points:[u,f],cx:t,cy:r,radius:a,startAngle:l,endAngle:o}}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jg.apply(null,arguments)}var T7=(e,t)=>{var r=Pr(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},pd=e=>{var{cx:t,cy:r,radius:a,angle:l,sign:o,isExternal:u,cornerRadius:f,cornerIsExternal:m}=e,h=f*(u?1:-1)+a,p=Math.asin(f/h)/Xd,x=m?l:l+o*p,v=dr(t,r,h,x),j=dr(t,r,a,x),N=m?l-o*p:l,w=dr(t,r,h*Math.cos(p*Xd),N);return{center:v,circleTangency:j,lineTangency:w,theta:p}},b4=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:l,startAngle:o,endAngle:u}=e,f=T7(o,u),m=o+f,h=dr(t,r,l,o),p=dr(t,r,l,m),x="M ".concat(h.x,",").concat(h.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(o>m),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var v=dr(t,r,a,o),j=dr(t,r,a,m);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(o<=m),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(t,",").concat(r," Z");return x},M7=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:l,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}=e,p=Pr(h-m),{circleTangency:x,lineTangency:v,theta:j}=pd({cx:t,cy:r,radius:l,angle:m,sign:p,cornerRadius:o,cornerIsExternal:f}),{circleTangency:N,lineTangency:w,theta:S}=pd({cx:t,cy:r,radius:l,angle:h,sign:-p,cornerRadius:o,cornerIsExternal:f}),E=f?Math.abs(m-h):Math.abs(m-h)-j-S;if(E<0)return u?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):b4({cx:t,cy:r,innerRadius:a,outerRadius:l,startAngle:m,endAngle:h});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var{circleTangency:A,lineTangency:P,theta:D}=pd({cx:t,cy:r,radius:a,angle:m,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),{circleTangency:M,lineTangency:O,theta:z}=pd({cx:t,cy:r,radius:a,angle:h,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),F=f?Math.abs(m-h):Math.abs(m-h)-D-z;if(F<0&&o===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(t,",").concat(r,"Z");return _},k7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},j4=e=>{var t=Kn(e,k7),{cx:r,cy:a,innerRadius:l,outerRadius:o,cornerRadius:u,forceCornerRadius:f,cornerIsExternal:m,startAngle:h,endAngle:p,className:x}=t;if(o<l||h===p)return null;var v=ot("recharts-sector",x),j=o-l,N=Ba(u,j,0,!0),w;return N>0&&Math.abs(h-p)<360?w=M7({cx:r,cy:a,innerRadius:l,outerRadius:o,cornerRadius:Math.min(N,j/2),forceCornerRadius:f,cornerIsExternal:m,startAngle:h,endAngle:p}):w=b4({cx:r,cy:a,innerRadius:l,outerRadius:o,startAngle:h,endAngle:p}),y.createElement("path",Jg({},nt(t,!0),{className:v,d:w}))};function P7(e,t,r){var a,l,o,u;if(e==="horizontal")a=t.x,o=a,l=r.top,u=r.top+r.height;else if(e==="vertical")l=t.y,u=l,a=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:f,cy:m,innerRadius:h,outerRadius:p,angle:x}=t,v=dr(f,m,h,x),j=dr(f,m,p,x);a=v.x,l=v.y,o=j.x,u=j.y}else return y4(t);return[{x:a,y:l},{x:o,y:u}]}var Fx={},Hx={},Vx={},q2;function D7(){return q2||(q2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kC();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r}(Vx)),Vx}var B2;function R7(){return B2||(B2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D7();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r}(Hx)),Hx}var I2;function $7(){return I2||(I2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PC(),r=R7();function a(l,o,u){u&&typeof u!="number"&&t.isIterateeCall(l,o,u)&&(o=u=void 0),l=r.toFinite(l),o===void 0?(o=l,l=0):o=r.toFinite(o),u=u===void 0?l<o?1:-1:r.toFinite(u);const f=Math.max(Math.ceil((o-l)/(u||1)),0),m=new Array(f);for(let h=0;h<f;h++)m[h]=l,l+=u;return m}e.range=a}(Fx)),Fx}var Gx,F2;function z7(){return F2||(F2=1,Gx=$7().range),Gx}var L7=z7();const w4=un(L7);function Cs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function U7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gv(e){let t,r,a;e.length!==2?(t=Cs,r=(f,m)=>Cs(e(f),m),a=(f,m)=>e(f)-m):(t=e===Cs||e===U7?e:q7,r=e,a=e);function l(f,m,h=0,p=f.length){if(h<p){if(t(m,m)!==0)return p;do{const x=h+p>>>1;r(f[x],m)<0?h=x+1:p=x}while(h<p)}return h}function o(f,m,h=0,p=f.length){if(h<p){if(t(m,m)!==0)return p;do{const x=h+p>>>1;r(f[x],m)<=0?h=x+1:p=x}while(h<p)}return h}function u(f,m,h=0,p=f.length){const x=l(f,m,h,p-1);return x>h&&a(f[x-1],m)>-a(f[x],m)?x-1:x}return{left:l,center:u,right:o}}function q7(){return 0}function N4(e){return e===null?NaN:+e}function*B7(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const I7=gv(Cs),Bc=I7.right;gv(N4).center;class H2 extends Map{constructor(t,r=V7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,l]of t)this.set(a,l)}get(t){return super.get(V2(this,t))}has(t){return super.has(V2(this,t))}set(t,r){return super.set(F7(this,t),r)}delete(t){return super.delete(H7(this,t))}}function V2({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function F7({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function H7({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function V7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function G7(e=Cs){if(e===Cs)return S4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function S4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const K7=Math.sqrt(50),Y7=Math.sqrt(10),X7=Math.sqrt(2);function ef(e,t,r){const a=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(a)),o=a/Math.pow(10,l),u=o>=K7?10:o>=Y7?5:o>=X7?2:1;let f,m,h;return l<0?(h=Math.pow(10,-l)/u,f=Math.round(e*h),m=Math.round(t*h),f/h<e&&++f,m/h>t&&--m,h=-h):(h=Math.pow(10,l)*u,f=Math.round(e/h),m=Math.round(t/h),f*h<e&&++f,m*h>t&&--m),m<f&&.5<=r&&r<2?ef(e,t,r*2):[f,m,h]}function e0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[l,o,u]=a?ef(t,e,r):ef(e,t,r);if(!(o>=l))return[];const f=o-l+1,m=new Array(f);if(a)if(u<0)for(let h=0;h<f;++h)m[h]=(o-h)/-u;else for(let h=0;h<f;++h)m[h]=(o-h)*u;else if(u<0)for(let h=0;h<f;++h)m[h]=(l+h)/-u;else for(let h=0;h<f;++h)m[h]=(l+h)*u;return m}function t0(e,t,r){return t=+t,e=+e,r=+r,ef(e,t,r)[2]}function r0(e,t,r){t=+t,e=+e,r=+r;const a=t<e,l=a?t0(t,e,r):t0(e,t,r);return(a?-1:1)*(l<0?1/-l:l)}function G2(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function K2(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function E4(e,t,r=0,a=1/0,l){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(l=l===void 0?S4:G7(l);a>r;){if(a-r>600){const m=a-r+1,h=t-r+1,p=Math.log(m),x=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*x*(m-x)/m)*(h-m/2<0?-1:1),j=Math.max(r,Math.floor(t-h*x/m+v)),N=Math.min(a,Math.floor(t+(m-h)*x/m+v));E4(e,t,j,N,l)}const o=e[t];let u=r,f=a;for(ac(e,r,t),l(e[a],o)>0&&ac(e,r,a);u<f;){for(ac(e,u,f),++u,--f;l(e[u],o)<0;)++u;for(;l(e[f],o)>0;)--f}l(e[r],o)===0?ac(e,r,f):(++f,ac(e,f,a)),f<=t&&(r=f+1),t<=f&&(a=f-1)}return e}function ac(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function W7(e,t,r){if(e=Float64Array.from(B7(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return K2(e);if(t>=1)return G2(e);var a,l=(a-1)*t,o=Math.floor(l),u=G2(E4(e,o).subarray(0,o+1)),f=K2(e.subarray(o+1));return u+(f-u)*(l-o)}}function Z7(e,t,r=N4){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,l=(a-1)*t,o=Math.floor(l),u=+r(e[o],o,e),f=+r(e[o+1],o+1,e);return u+(f-u)*(l-o)}}function Q7(e,t,r){e=+e,t=+t,r=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+r;for(var a=-1,l=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(l);++a<l;)o[a]=e+a*r;return o}function Oa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const a0=Symbol("implicit");function vv(){var e=new H2,t=[],r=[],a=a0;function l(o){let u=e.get(o);if(u===void 0){if(a!==a0)return a;e.set(o,u=t.push(o)-1)}return r[u%r.length]}return l.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new H2;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return l},l.range=function(o){return arguments.length?(r=Array.from(o),l):r.slice()},l.unknown=function(o){return arguments.length?(a=o,l):a},l.copy=function(){return vv(t,r).unknown(a)},Oa.apply(l,arguments),l}function yv(){var e=vv().unknown(void 0),t=e.domain,r=e.range,a=0,l=1,o,u,f=!1,m=0,h=0,p=.5;delete e.unknown;function x(){var v=t().length,j=l<a,N=j?l:a,w=j?a:l;o=(w-N)/Math.max(1,v-m+h*2),f&&(o=Math.floor(o)),N+=(w-N-o*(v-m))*p,u=o*(1-m),f&&(N=Math.round(N),u=Math.round(u));var S=Q7(v).map(function(E){return N+o*E});return r(j?S.reverse():S)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([a,l]=v,a=+a,l=+l,x()):[a,l]},e.rangeRound=function(v){return[a,l]=v,a=+a,l=+l,f=!0,x()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(v){return arguments.length?(f=!!v,x()):f},e.padding=function(v){return arguments.length?(m=Math.min(1,h=+v),x()):m},e.paddingInner=function(v){return arguments.length?(m=Math.min(1,v),x()):m},e.paddingOuter=function(v){return arguments.length?(h=+v,x()):h},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),x()):p},e.copy=function(){return yv(t(),[a,l]).round(f).paddingInner(m).paddingOuter(h).align(p)},Oa.apply(x(),arguments)}function _4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _4(t())},e}function J7(){return _4(yv.apply(null,arguments).paddingInner(1))}function bv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function C4(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Ic(){}var Nc=.7,tf=1/Nc,_l="\\s*([+-]?\\d+)\\s*",Sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eU=/^#([0-9a-f]{3,8})$/,tU=new RegExp(`^rgb\\(${_l},${_l},${_l}\\)$`),rU=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),aU=new RegExp(`^rgba\\(${_l},${_l},${_l},${Sc}\\)$`),nU=new RegExp(`^rgba\\(${nn},${nn},${nn},${Sc}\\)$`),sU=new RegExp(`^hsl\\(${Sc},${nn},${nn}\\)$`),iU=new RegExp(`^hsla\\(${Sc},${nn},${nn},${Sc}\\)$`),Y2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bv(Ic,Ec,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:X2,formatHex:X2,formatHex8:lU,formatHsl:oU,formatRgb:W2,toString:W2});function X2(){return this.rgb().formatHex()}function lU(){return this.rgb().formatHex8()}function oU(){return A4(this).formatHsl()}function W2(){return this.rgb().formatRgb()}function Ec(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Z2(t):r===3?new Dr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tU.exec(e))?new Dr(t[1],t[2],t[3],1):(t=rU.exec(e))?new Dr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aU.exec(e))?xd(t[1],t[2],t[3],t[4]):(t=nU.exec(e))?xd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sU.exec(e))?eS(t[1],t[2]/100,t[3]/100,1):(t=iU.exec(e))?eS(t[1],t[2]/100,t[3]/100,t[4]):Y2.hasOwnProperty(e)?Z2(Y2[e]):e==="transparent"?new Dr(NaN,NaN,NaN,0):null}function Z2(e){return new Dr(e>>16&255,e>>8&255,e&255,1)}function xd(e,t,r,a){return a<=0&&(e=t=r=NaN),new Dr(e,t,r,a)}function cU(e){return e instanceof Ic||(e=Ec(e)),e?(e=e.rgb(),new Dr(e.r,e.g,e.b,e.opacity)):new Dr}function n0(e,t,r,a){return arguments.length===1?cU(e):new Dr(e,t,r,a??1)}function Dr(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}bv(Dr,n0,C4(Ic,{brighter(e){return e=e==null?tf:Math.pow(tf,e),new Dr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nc:Math.pow(Nc,e),new Dr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Dr(fi(this.r),fi(this.g),fi(this.b),rf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Q2,formatHex:Q2,formatHex8:uU,formatRgb:J2,toString:J2}));function Q2(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}`}function uU(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}${ii((isNaN(this.opacity)?1:this.opacity)*255)}`}function J2(){const e=rf(this.opacity);return`${e===1?"rgb(":"rgba("}${fi(this.r)}, ${fi(this.g)}, ${fi(this.b)}${e===1?")":`, ${e})`}`}function rf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ii(e){return e=fi(e),(e<16?"0":"")+e.toString(16)}function eS(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ua(e,t,r,a)}function A4(e){if(e instanceof Ua)return new Ua(e.h,e.s,e.l,e.opacity);if(e instanceof Ic||(e=Ec(e)),!e)return new Ua;if(e instanceof Ua)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,l=Math.min(t,r,a),o=Math.max(t,r,a),u=NaN,f=o-l,m=(o+l)/2;return f?(t===o?u=(r-a)/f+(r<a)*6:r===o?u=(a-t)/f+2:u=(t-r)/f+4,f/=m<.5?o+l:2-o-l,u*=60):f=m>0&&m<1?0:u,new Ua(u,f,m,e.opacity)}function dU(e,t,r,a){return arguments.length===1?A4(e):new Ua(e,t,r,a??1)}function Ua(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}bv(Ua,dU,C4(Ic,{brighter(e){return e=e==null?tf:Math.pow(tf,e),new Ua(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nc:Math.pow(Nc,e),new Ua(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,l=2*r-a;return new Dr(Kx(e>=240?e-240:e+120,l,a),Kx(e,l,a),Kx(e<120?e+240:e-120,l,a),this.opacity)},clamp(){return new Ua(tS(this.h),gd(this.s),gd(this.l),rf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rf(this.opacity);return`${e===1?"hsl(":"hsla("}${tS(this.h)}, ${gd(this.s)*100}%, ${gd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tS(e){return e=(e||0)%360,e<0?e+360:e}function gd(e){return Math.max(0,Math.min(1,e||0))}function Kx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const jv=e=>()=>e;function fU(e,t){return function(r){return e+r*t}}function mU(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function hU(e){return(e=+e)==1?O4:function(t,r){return r-t?mU(t,r,e):jv(isNaN(t)?r:t)}}function O4(e,t){var r=t-e;return r?fU(e,r):jv(isNaN(e)?t:e)}const rS=function e(t){var r=hU(t);function a(l,o){var u=r((l=n0(l)).r,(o=n0(o)).r),f=r(l.g,o.g),m=r(l.b,o.b),h=O4(l.opacity,o.opacity);return function(p){return l.r=u(p),l.g=f(p),l.b=m(p),l.opacity=h(p),l+""}}return a.gamma=e,a}(1);function pU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),l;return function(o){for(l=0;l<r;++l)a[l]=e[l]*(1-o)+t[l]*o;return a}}function xU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gU(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,l=new Array(a),o=new Array(r),u;for(u=0;u<a;++u)l[u]=Gl(e[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(f){for(u=0;u<a;++u)o[u]=l[u](f);return o}}function vU(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function af(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yU(e,t){var r={},a={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?r[l]=Gl(e[l],t[l]):a[l]=t[l];return function(o){for(l in r)a[l]=r[l](o);return a}}var s0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yx=new RegExp(s0.source,"g");function bU(e){return function(){return e}}function jU(e){return function(t){return e(t)+""}}function wU(e,t){var r=s0.lastIndex=Yx.lastIndex=0,a,l,o,u=-1,f=[],m=[];for(e=e+"",t=t+"";(a=s0.exec(e))&&(l=Yx.exec(t));)(o=l.index)>r&&(o=t.slice(r,o),f[u]?f[u]+=o:f[++u]=o),(a=a[0])===(l=l[0])?f[u]?f[u]+=l:f[++u]=l:(f[++u]=null,m.push({i:u,x:af(a,l)})),r=Yx.lastIndex;return r<t.length&&(o=t.slice(r),f[u]?f[u]+=o:f[++u]=o),f.length<2?m[0]?jU(m[0].x):bU(t):(t=m.length,function(h){for(var p=0,x;p<t;++p)f[(x=m[p]).i]=x.x(h);return f.join("")})}function Gl(e,t){var r=typeof t,a;return t==null||r==="boolean"?jv(t):(r==="number"?af:r==="string"?(a=Ec(t))?(t=a,rS):wU:t instanceof Ec?rS:t instanceof Date?vU:xU(t)?pU:Array.isArray(t)?gU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yU:af)(e,t)}function wv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function NU(e,t){t===void 0&&(t=e,e=Gl);for(var r=0,a=t.length-1,l=t[0],o=new Array(a<0?0:a);r<a;)o[r]=e(l,l=t[++r]);return function(u){var f=Math.max(0,Math.min(a-1,Math.floor(u*=a)));return o[f](u-f)}}function SU(e){return function(){return e}}function nf(e){return+e}var aS=[0,1];function Sr(e){return e}function i0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:SU(isNaN(t)?NaN:.5)}function EU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function _U(e,t,r){var a=e[0],l=e[1],o=t[0],u=t[1];return l<a?(a=i0(l,a),o=r(u,o)):(a=i0(a,l),o=r(o,u)),function(f){return o(a(f))}}function CU(e,t,r){var a=Math.min(e.length,t.length)-1,l=new Array(a),o=new Array(a),u=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<a;)l[u]=i0(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(f){var m=Bc(e,f,1,a)-1;return o[m](l[m](f))}}function Fc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xf(){var e=aS,t=aS,r=Gl,a,l,o,u=Sr,f,m,h;function p(){var v=Math.min(e.length,t.length);return u!==Sr&&(u=EU(e[0],e[v-1])),f=v>2?CU:_U,m=h=null,x}function x(v){return v==null||isNaN(v=+v)?o:(m||(m=f(e.map(a),t,r)))(a(u(v)))}return x.invert=function(v){return u(l((h||(h=f(t,e.map(a),af)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,nf),p()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),r=wv,p()},x.clamp=function(v){return arguments.length?(u=v?!0:Sr,p()):u!==Sr},x.interpolate=function(v){return arguments.length?(r=v,p()):r},x.unknown=function(v){return arguments.length?(o=v,x):o},function(v,j){return a=v,l=j,p()}}function Nv(){return Xf()(Sr,Sr)}function AU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Pl(e){return e=sf(Math.abs(e)),e?e[1]:NaN}function OU(e,t){return function(r,a){for(var l=r.length,o=[],u=0,f=e[0],m=0;l>0&&f>0&&(m+f+1>a&&(f=Math.max(1,a-m)),o.push(r.substring(l-=f,l+f)),!((m+=f+1)>a));)f=e[u=(u+1)%e.length];return o.reverse().join(t)}}function TU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var MU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _c(e){if(!(t=MU.exec(e)))throw new Error("invalid format: "+e);var t;return new Sv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_c.prototype=Sv.prototype;function Sv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Sv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kU(e){e:for(var t=e.length,r=1,a=-1,l;r<t;++r)switch(e[r]){case".":a=l=r;break;case"0":a===0&&(a=r),l=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(l+1):e}var T4;function PU(e,t){var r=sf(e,t);if(!r)return e+"";var a=r[0],l=r[1],o=l-(T4=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,u=a.length;return o===u?a:o>u?a+new Array(o-u+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+sf(e,Math.max(0,t+o-1))[0]}function nS(e,t){var r=sf(e,t);if(!r)return e+"";var a=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+a:a.length>l+1?a.slice(0,l+1)+"."+a.slice(l+1):a+new Array(l-a.length+2).join("0")}const sS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:AU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nS(e*100,t),r:nS,s:PU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iS(e){return e}var lS=Array.prototype.map,oS=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function DU(e){var t=e.grouping===void 0||e.thousands===void 0?iS:OU(lS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?iS:TU(lS.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function h(x){x=_c(x);var v=x.fill,j=x.align,N=x.sign,w=x.symbol,S=x.zero,E=x.width,_=x.comma,A=x.precision,P=x.trim,D=x.type;D==="n"?(_=!0,D="g"):sS[D]||(A===void 0&&(A=12),P=!0,D="g"),(S||v==="0"&&j==="=")&&(S=!0,v="0",j="=");var M=w==="$"?r:w==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",O=w==="$"?a:/[%p]/.test(D)?u:"",z=sS[D],F=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function W(R){var H=M,T=O,L,B,$;if(D==="c")T=z(R)+T,R="";else{R=+R;var q=R<0||1/R<0;if(R=isNaN(R)?m:z(Math.abs(R),A),P&&(R=kU(R)),q&&+R==0&&N!=="+"&&(q=!1),H=(q?N==="("?N:f:N==="-"||N==="("?"":N)+H,T=(D==="s"?oS[8+T4/3]:"")+T+(q&&N==="("?")":""),F){for(L=-1,B=R.length;++L<B;)if($=R.charCodeAt(L),48>$||$>57){T=($===46?l+R.slice(L+1):R.slice(L))+T,R=R.slice(0,L);break}}}_&&!S&&(R=t(R,1/0));var Z=H.length+R.length+T.length,le=Z<E?new Array(E-Z+1).join(v):"";switch(_&&S&&(R=t(le+R,le.length?E-T.length:1/0),le=""),j){case"<":R=H+R+T+le;break;case"=":R=H+le+R+T;break;case"^":R=le.slice(0,Z=le.length>>1)+H+R+T+le.slice(Z);break;default:R=le+H+R+T;break}return o(R)}return W.toString=function(){return x+""},W}function p(x,v){var j=h((x=_c(x),x.type="f",x)),N=Math.max(-8,Math.min(8,Math.floor(Pl(v)/3)))*3,w=Math.pow(10,-N),S=oS[8+N/3];return function(E){return j(w*E)+S}}return{format:h,formatPrefix:p}}var vd,Ev,M4;RU({thousands:",",grouping:[3],currency:["$",""]});function RU(e){return vd=DU(e),Ev=vd.format,M4=vd.formatPrefix,vd}function $U(e){return Math.max(0,-Pl(Math.abs(e)))}function zU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pl(t)/3)))*3-Pl(Math.abs(e)))}function LU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pl(t)-Pl(e))+1}function k4(e,t,r,a){var l=r0(e,t,r),o;switch(a=_c(a??",f"),a.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(o=zU(l,u))&&(a.precision=o),M4(a,u)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=LU(l,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=$U(l))&&(a.precision=o-(a.type==="%")*2);break}}return Ev(a)}function ks(e){var t=e.domain;return e.ticks=function(r){var a=t();return e0(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var l=t();return k4(l[0],l[l.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),l=0,o=a.length-1,u=a[l],f=a[o],m,h,p=10;for(f<u&&(h=u,u=f,f=h,h=l,l=o,o=h);p-- >0;){if(h=t0(u,f,r),h===m)return a[l]=u,a[o]=f,t(a);if(h>0)u=Math.floor(u/h)*h,f=Math.ceil(f/h)*h;else if(h<0)u=Math.ceil(u*h)/h,f=Math.floor(f*h)/h;else break;m=h}return e},e}function P4(){var e=Nv();return e.copy=function(){return Fc(e,P4())},Oa.apply(e,arguments),ks(e)}function D4(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,nf),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return D4(e).unknown(t)},e=arguments.length?Array.from(e,nf):[0,1],ks(r)}function R4(e,t){e=e.slice();var r=0,a=e.length-1,l=e[r],o=e[a],u;return o<l&&(u=r,r=a,a=u,u=l,l=o,o=u),e[r]=t.floor(l),e[a]=t.ceil(o),e}function cS(e){return Math.log(e)}function uS(e){return Math.exp(e)}function UU(e){return-Math.log(-e)}function qU(e){return-Math.exp(-e)}function BU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IU(e){return e===10?BU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function FU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dS(e){return(t,r)=>-e(-t,r)}function _v(e){const t=e(cS,uS),r=t.domain;let a=10,l,o;function u(){return l=FU(a),o=IU(a),r()[0]<0?(l=dS(l),o=dS(o),e(UU,qU)):e(cS,uS),t}return t.base=function(f){return arguments.length?(a=+f,u()):a},t.domain=function(f){return arguments.length?(r(f),u()):r()},t.ticks=f=>{const m=r();let h=m[0],p=m[m.length-1];const x=p<h;x&&([h,p]=[p,h]);let v=l(h),j=l(p),N,w;const S=f==null?10:+f;let E=[];if(!(a%1)&&j-v<S){if(v=Math.floor(v),j=Math.ceil(j),h>0){for(;v<=j;++v)for(N=1;N<a;++N)if(w=v<0?N/o(-v):N*o(v),!(w<h)){if(w>p)break;E.push(w)}}else for(;v<=j;++v)for(N=a-1;N>=1;--N)if(w=v>0?N/o(-v):N*o(v),!(w<h)){if(w>p)break;E.push(w)}E.length*2<S&&(E=e0(h,p,S))}else E=e0(v,j,Math.min(j-v,S)).map(o);return x?E.reverse():E},t.tickFormat=(f,m)=>{if(f==null&&(f=10),m==null&&(m=a===10?"s":","),typeof m!="function"&&(!(a%1)&&(m=_c(m)).precision==null&&(m.trim=!0),m=Ev(m)),f===1/0)return m;const h=Math.max(1,a*f/t.ticks().length);return p=>{let x=p/o(Math.round(l(p)));return x*a<a-.5&&(x*=a),x<=h?m(p):""}},t.nice=()=>r(R4(r(),{floor:f=>o(Math.floor(l(f))),ceil:f=>o(Math.ceil(l(f)))})),t}function $4(){const e=_v(Xf()).domain([1,10]);return e.copy=()=>Fc(e,$4()).base(e.base()),Oa.apply(e,arguments),e}function fS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Cv(e){var t=1,r=e(fS(t),mS(t));return r.constant=function(a){return arguments.length?e(fS(t=+a),mS(t)):t},ks(r)}function z4(){var e=Cv(Xf());return e.copy=function(){return Fc(e,z4()).constant(e.constant())},Oa.apply(e,arguments)}function hS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function HU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VU(e){return e<0?-e*e:e*e}function Av(e){var t=e(Sr,Sr),r=1;function a(){return r===1?e(Sr,Sr):r===.5?e(HU,VU):e(hS(r),hS(1/r))}return t.exponent=function(l){return arguments.length?(r=+l,a()):r},ks(t)}function Ov(){var e=Av(Xf());return e.copy=function(){return Fc(e,Ov()).exponent(e.exponent())},Oa.apply(e,arguments),e}function GU(){return Ov.apply(null,arguments).exponent(.5)}function pS(e){return Math.sign(e)*e*e}function KU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function L4(){var e=Nv(),t=[0,1],r=!1,a;function l(o){var u=KU(e(o));return isNaN(u)?a:r?Math.round(u):u}return l.invert=function(o){return e.invert(pS(o))},l.domain=function(o){return arguments.length?(e.domain(o),l):e.domain()},l.range=function(o){return arguments.length?(e.range((t=Array.from(o,nf)).map(pS)),l):t.slice()},l.rangeRound=function(o){return l.range(o).round(!0)},l.round=function(o){return arguments.length?(r=!!o,l):r},l.clamp=function(o){return arguments.length?(e.clamp(o),l):e.clamp()},l.unknown=function(o){return arguments.length?(a=o,l):a},l.copy=function(){return L4(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Oa.apply(l,arguments),ks(l)}function U4(){var e=[],t=[],r=[],a;function l(){var u=0,f=Math.max(1,t.length);for(r=new Array(f-1);++u<f;)r[u-1]=Z7(e,u/f);return o}function o(u){return u==null||isNaN(u=+u)?a:t[Bc(r,u)]}return o.invertExtent=function(u){var f=t.indexOf(u);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let f of u)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Cs),l()},o.range=function(u){return arguments.length?(t=Array.from(u),l()):t.slice()},o.unknown=function(u){return arguments.length?(a=u,o):a},o.quantiles=function(){return r.slice()},o.copy=function(){return U4().domain(e).range(t).unknown(a)},Oa.apply(o,arguments)}function q4(){var e=0,t=1,r=1,a=[.5],l=[0,1],o;function u(m){return m!=null&&m<=m?l[Bc(a,m,0,r)]:o}function f(){var m=-1;for(a=new Array(r);++m<r;)a[m]=((m+1)*t-(m-r)*e)/(r+1);return u}return u.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,f()):[e,t]},u.range=function(m){return arguments.length?(r=(l=Array.from(m)).length-1,f()):l.slice()},u.invertExtent=function(m){var h=l.indexOf(m);return h<0?[NaN,NaN]:h<1?[e,a[0]]:h>=r?[a[r-1],t]:[a[h-1],a[h]]},u.unknown=function(m){return arguments.length&&(o=m),u},u.thresholds=function(){return a.slice()},u.copy=function(){return q4().domain([e,t]).range(l).unknown(o)},Oa.apply(ks(u),arguments)}function B4(){var e=[.5],t=[0,1],r,a=1;function l(o){return o!=null&&o<=o?t[Bc(e,o,0,a)]:r}return l.domain=function(o){return arguments.length?(e=Array.from(o),a=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(o){return arguments.length?(t=Array.from(o),a=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},l.unknown=function(o){return arguments.length?(r=o,l):r},l.copy=function(){return B4().domain(e).range(t).unknown(r)},Oa.apply(l,arguments)}const Xx=new Date,Wx=new Date;function Vt(e,t,r,a){function l(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=o=>(e(o=new Date(+o)),o),l.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),l.round=o=>{const u=l(o),f=l.ceil(o);return o-u<f-o?u:f},l.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),l.range=(o,u,f)=>{const m=[];if(o=l.ceil(o),f=f==null?1:Math.floor(f),!(o<u)||!(f>0))return m;let h;do m.push(h=new Date(+o)),t(o,f),e(o);while(h<o&&o<u);return m},l.filter=o=>Vt(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,f)=>{if(u>=u)if(f<0)for(;++f<=0;)for(;t(u,-1),!o(u););else for(;--f>=0;)for(;t(u,1),!o(u););}),r&&(l.count=(o,u)=>(Xx.setTime(+o),Wx.setTime(+u),e(Xx),e(Wx),Math.floor(r(Xx,Wx))),l.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?l.filter(a?u=>a(u)%o===0:u=>l.count(0,u)%o===0):l)),l}const lf=Vt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lf);lf.range;const Mn=1e3,wa=Mn*60,kn=wa*60,Un=kn*24,Tv=Un*7,xS=Un*30,Zx=Un*365,li=Vt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCSeconds());li.range;const Mv=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mn)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getMinutes());Mv.range;const kv=Vt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getUTCMinutes());kv.range;const Pv=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mn-e.getMinutes()*wa)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getHours());Pv.range;const Dv=Vt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCHours());Dv.range;const Hc=Vt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wa)/Un,e=>e.getDate()-1);Hc.range;const Wf=Vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Un,e=>e.getUTCDate()-1);Wf.range;const I4=Vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Un,e=>Math.floor(e/Un));I4.range;function Si(e){return Vt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*wa)/Tv)}const Zf=Si(0),of=Si(1),YU=Si(2),XU=Si(3),Dl=Si(4),WU=Si(5),ZU=Si(6);Zf.range;of.range;YU.range;XU.range;Dl.range;WU.range;ZU.range;function Ei(e){return Vt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Tv)}const Qf=Ei(0),cf=Ei(1),QU=Ei(2),JU=Ei(3),Rl=Ei(4),e9=Ei(5),t9=Ei(6);Qf.range;cf.range;QU.range;JU.range;Rl.range;e9.range;t9.range;const Rv=Vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rv.range;const $v=Vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$v.range;const qn=Vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});qn.range;const Bn=Vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Bn.range;function F4(e,t,r,a,l,o){const u=[[li,1,Mn],[li,5,5*Mn],[li,15,15*Mn],[li,30,30*Mn],[o,1,wa],[o,5,5*wa],[o,15,15*wa],[o,30,30*wa],[l,1,kn],[l,3,3*kn],[l,6,6*kn],[l,12,12*kn],[a,1,Un],[a,2,2*Un],[r,1,Tv],[t,1,xS],[t,3,3*xS],[e,1,Zx]];function f(h,p,x){const v=p<h;v&&([h,p]=[p,h]);const j=x&&typeof x.range=="function"?x:m(h,p,x),N=j?j.range(h,+p+1):[];return v?N.reverse():N}function m(h,p,x){const v=Math.abs(p-h)/x,j=gv(([,,S])=>S).right(u,v);if(j===u.length)return e.every(r0(h/Zx,p/Zx,x));if(j===0)return lf.every(Math.max(r0(h,p,x),1));const[N,w]=u[v/u[j-1][2]<u[j][2]/v?j-1:j];return N.every(w)}return[f,m]}const[r9,a9]=F4(Bn,$v,Qf,I4,Dv,kv),[n9,s9]=F4(qn,Rv,Zf,Hc,Pv,Mv);function Qx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function i9(e){var t=e.dateTime,r=e.date,a=e.time,l=e.periods,o=e.days,u=e.shortDays,f=e.months,m=e.shortMonths,h=sc(l),p=ic(l),x=sc(o),v=ic(o),j=sc(u),N=ic(u),w=sc(f),S=ic(f),E=sc(m),_=ic(m),A={a:q,A:Z,b:le,B:U,c:null,d:wS,e:wS,f:O9,g:U9,G:B9,H:_9,I:C9,j:A9,L:H4,m:T9,M:M9,p:X,q:ne,Q:ES,s:_S,S:k9,u:P9,U:D9,V:R9,w:$9,W:z9,x:null,X:null,y:L9,Y:q9,Z:I9,"%":SS},P={a:ie,A:G,b:ve,B:K,c:null,d:NS,e:NS,f:G9,g:rq,G:nq,H:F9,I:H9,j:V9,L:G4,m:K9,M:Y9,p:ge,q:Me,Q:ES,s:_S,S:X9,u:W9,U:Z9,V:Q9,w:J9,W:eq,x:null,X:null,y:tq,Y:aq,Z:sq,"%":SS},D={a:W,A:R,b:H,B:T,c:L,d:bS,e:bS,f:w9,g:yS,G:vS,H:jS,I:jS,j:v9,L:j9,m:g9,M:y9,p:F,q:x9,Q:S9,s:E9,S:b9,u:d9,U:f9,V:m9,w:u9,W:h9,x:B,X:$,y:yS,Y:vS,Z:p9,"%":N9};A.x=M(r,A),A.X=M(a,A),A.c=M(t,A),P.x=M(r,P),P.X=M(a,P),P.c=M(t,P);function M(ye,Se){return function($e){var he=[],at=-1,Fe=0,Ct=ye.length,bt,pe,Ee;for($e instanceof Date||($e=new Date(+$e));++at<Ct;)ye.charCodeAt(at)===37&&(he.push(ye.slice(Fe,at)),(pe=gS[bt=ye.charAt(++at)])!=null?bt=ye.charAt(++at):pe=bt==="e"?" ":"0",(Ee=Se[bt])&&(bt=Ee($e,pe)),he.push(bt),Fe=at+1);return he.push(ye.slice(Fe,at)),he.join("")}}function O(ye,Se){return function($e){var he=nc(1900,void 0,1),at=z(he,ye,$e+="",0),Fe,Ct;if(at!=$e.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Se&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Fe=Jx(nc(he.y,0,1)),Ct=Fe.getUTCDay(),Fe=Ct>4||Ct===0?cf.ceil(Fe):cf(Fe),Fe=Wf.offset(Fe,(he.V-1)*7),he.y=Fe.getUTCFullYear(),he.m=Fe.getUTCMonth(),he.d=Fe.getUTCDate()+(he.w+6)%7):(Fe=Qx(nc(he.y,0,1)),Ct=Fe.getDay(),Fe=Ct>4||Ct===0?of.ceil(Fe):of(Fe),Fe=Hc.offset(Fe,(he.V-1)*7),he.y=Fe.getFullYear(),he.m=Fe.getMonth(),he.d=Fe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Ct="Z"in he?Jx(nc(he.y,0,1)).getUTCDay():Qx(nc(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Ct+5)%7:he.w+he.U*7-(Ct+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Jx(he)):Qx(he)}}function z(ye,Se,$e,he){for(var at=0,Fe=Se.length,Ct=$e.length,bt,pe;at<Fe;){if(he>=Ct)return-1;if(bt=Se.charCodeAt(at++),bt===37){if(bt=Se.charAt(at++),pe=D[bt in gS?Se.charAt(at++):bt],!pe||(he=pe(ye,$e,he))<0)return-1}else if(bt!=$e.charCodeAt(he++))return-1}return he}function F(ye,Se,$e){var he=h.exec(Se.slice($e));return he?(ye.p=p.get(he[0].toLowerCase()),$e+he[0].length):-1}function W(ye,Se,$e){var he=j.exec(Se.slice($e));return he?(ye.w=N.get(he[0].toLowerCase()),$e+he[0].length):-1}function R(ye,Se,$e){var he=x.exec(Se.slice($e));return he?(ye.w=v.get(he[0].toLowerCase()),$e+he[0].length):-1}function H(ye,Se,$e){var he=E.exec(Se.slice($e));return he?(ye.m=_.get(he[0].toLowerCase()),$e+he[0].length):-1}function T(ye,Se,$e){var he=w.exec(Se.slice($e));return he?(ye.m=S.get(he[0].toLowerCase()),$e+he[0].length):-1}function L(ye,Se,$e){return z(ye,t,Se,$e)}function B(ye,Se,$e){return z(ye,r,Se,$e)}function $(ye,Se,$e){return z(ye,a,Se,$e)}function q(ye){return u[ye.getDay()]}function Z(ye){return o[ye.getDay()]}function le(ye){return m[ye.getMonth()]}function U(ye){return f[ye.getMonth()]}function X(ye){return l[+(ye.getHours()>=12)]}function ne(ye){return 1+~~(ye.getMonth()/3)}function ie(ye){return u[ye.getUTCDay()]}function G(ye){return o[ye.getUTCDay()]}function ve(ye){return m[ye.getUTCMonth()]}function K(ye){return f[ye.getUTCMonth()]}function ge(ye){return l[+(ye.getUTCHours()>=12)]}function Me(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var Se=M(ye+="",A);return Se.toString=function(){return ye},Se},parse:function(ye){var Se=O(ye+="",!1);return Se.toString=function(){return ye},Se},utcFormat:function(ye){var Se=M(ye+="",P);return Se.toString=function(){return ye},Se},utcParse:function(ye){var Se=O(ye+="",!0);return Se.toString=function(){return ye},Se}}}var gS={"-":"",_:" ",0:"0"},er=/^\s*\d+/,l9=/^%/,o9=/[\\^$*+?|[\]().{}]/g;function tt(e,t,r){var a=e<0?"-":"",l=(a?-e:e)+"",o=l.length;return a+(o<r?new Array(r-o+1).join(t)+l:l)}function c9(e){return e.replace(o9,"\\$&")}function sc(e){return new RegExp("^(?:"+e.map(c9).join("|")+")","i")}function ic(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function u9(e,t,r){var a=er.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function d9(e,t,r){var a=er.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function f9(e,t,r){var a=er.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function m9(e,t,r){var a=er.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function h9(e,t,r){var a=er.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function vS(e,t,r){var a=er.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function yS(e,t,r){var a=er.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function p9(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function x9(e,t,r){var a=er.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function g9(e,t,r){var a=er.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function bS(e,t,r){var a=er.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function v9(e,t,r){var a=er.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function jS(e,t,r){var a=er.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function y9(e,t,r){var a=er.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function b9(e,t,r){var a=er.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function j9(e,t,r){var a=er.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function w9(e,t,r){var a=er.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function N9(e,t,r){var a=l9.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function S9(e,t,r){var a=er.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function E9(e,t,r){var a=er.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function wS(e,t){return tt(e.getDate(),t,2)}function _9(e,t){return tt(e.getHours(),t,2)}function C9(e,t){return tt(e.getHours()%12||12,t,2)}function A9(e,t){return tt(1+Hc.count(qn(e),e),t,3)}function H4(e,t){return tt(e.getMilliseconds(),t,3)}function O9(e,t){return H4(e,t)+"000"}function T9(e,t){return tt(e.getMonth()+1,t,2)}function M9(e,t){return tt(e.getMinutes(),t,2)}function k9(e,t){return tt(e.getSeconds(),t,2)}function P9(e){var t=e.getDay();return t===0?7:t}function D9(e,t){return tt(Zf.count(qn(e)-1,e),t,2)}function V4(e){var t=e.getDay();return t>=4||t===0?Dl(e):Dl.ceil(e)}function R9(e,t){return e=V4(e),tt(Dl.count(qn(e),e)+(qn(e).getDay()===4),t,2)}function $9(e){return e.getDay()}function z9(e,t){return tt(of.count(qn(e)-1,e),t,2)}function L9(e,t){return tt(e.getFullYear()%100,t,2)}function U9(e,t){return e=V4(e),tt(e.getFullYear()%100,t,2)}function q9(e,t){return tt(e.getFullYear()%1e4,t,4)}function B9(e,t){var r=e.getDay();return e=r>=4||r===0?Dl(e):Dl.ceil(e),tt(e.getFullYear()%1e4,t,4)}function I9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tt(t/60|0,"0",2)+tt(t%60,"0",2)}function NS(e,t){return tt(e.getUTCDate(),t,2)}function F9(e,t){return tt(e.getUTCHours(),t,2)}function H9(e,t){return tt(e.getUTCHours()%12||12,t,2)}function V9(e,t){return tt(1+Wf.count(Bn(e),e),t,3)}function G4(e,t){return tt(e.getUTCMilliseconds(),t,3)}function G9(e,t){return G4(e,t)+"000"}function K9(e,t){return tt(e.getUTCMonth()+1,t,2)}function Y9(e,t){return tt(e.getUTCMinutes(),t,2)}function X9(e,t){return tt(e.getUTCSeconds(),t,2)}function W9(e){var t=e.getUTCDay();return t===0?7:t}function Z9(e,t){return tt(Qf.count(Bn(e)-1,e),t,2)}function K4(e){var t=e.getUTCDay();return t>=4||t===0?Rl(e):Rl.ceil(e)}function Q9(e,t){return e=K4(e),tt(Rl.count(Bn(e),e)+(Bn(e).getUTCDay()===4),t,2)}function J9(e){return e.getUTCDay()}function eq(e,t){return tt(cf.count(Bn(e)-1,e),t,2)}function tq(e,t){return tt(e.getUTCFullYear()%100,t,2)}function rq(e,t){return e=K4(e),tt(e.getUTCFullYear()%100,t,2)}function aq(e,t){return tt(e.getUTCFullYear()%1e4,t,4)}function nq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Rl(e):Rl.ceil(e),tt(e.getUTCFullYear()%1e4,t,4)}function sq(){return"+0000"}function SS(){return"%"}function ES(e){return+e}function _S(e){return Math.floor(+e/1e3)}var pl,Y4,X4;iq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iq(e){return pl=i9(e),Y4=pl.format,pl.parse,X4=pl.utcFormat,pl.utcParse,pl}function lq(e){return new Date(e)}function oq(e){return e instanceof Date?+e:+new Date(+e)}function zv(e,t,r,a,l,o,u,f,m,h){var p=Nv(),x=p.invert,v=p.domain,j=h(".%L"),N=h(":%S"),w=h("%I:%M"),S=h("%I %p"),E=h("%a %d"),_=h("%b %d"),A=h("%B"),P=h("%Y");function D(M){return(m(M)<M?j:f(M)<M?N:u(M)<M?w:o(M)<M?S:a(M)<M?l(M)<M?E:_:r(M)<M?A:P)(M)}return p.invert=function(M){return new Date(x(M))},p.domain=function(M){return arguments.length?v(Array.from(M,oq)):v().map(lq)},p.ticks=function(M){var O=v();return e(O[0],O[O.length-1],M??10)},p.tickFormat=function(M,O){return O==null?D:h(O)},p.nice=function(M){var O=v();return(!M||typeof M.range!="function")&&(M=t(O[0],O[O.length-1],M??10)),M?v(R4(O,M)):p},p.copy=function(){return Fc(p,zv(e,t,r,a,l,o,u,f,m,h))},p}function cq(){return Oa.apply(zv(n9,s9,qn,Rv,Zf,Hc,Pv,Mv,li,Y4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uq(){return Oa.apply(zv(r9,a9,Bn,$v,Qf,Wf,Dv,kv,li,X4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jf(){var e=0,t=1,r,a,l,o,u=Sr,f=!1,m;function h(x){return x==null||isNaN(x=+x)?m:u(l===0?.5:(x=(o(x)-r)*l,f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t]=x,r=o(e=+e),a=o(t=+t),l=r===a?0:1/(a-r),h):[e,t]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(u=x,h):u};function p(x){return function(v){var j,N;return arguments.length?([j,N]=v,u=x(j,N),h):[u(0),u(1)]}}return h.range=p(Gl),h.rangeRound=p(wv),h.unknown=function(x){return arguments.length?(m=x,h):m},function(x){return o=x,r=x(e),a=x(t),l=r===a?0:1/(a-r),h}}function Ps(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function W4(){var e=ks(Jf()(Sr));return e.copy=function(){return Ps(e,W4())},Yn.apply(e,arguments)}function Z4(){var e=_v(Jf()).domain([1,10]);return e.copy=function(){return Ps(e,Z4()).base(e.base())},Yn.apply(e,arguments)}function Q4(){var e=Cv(Jf());return e.copy=function(){return Ps(e,Q4()).constant(e.constant())},Yn.apply(e,arguments)}function Lv(){var e=Av(Jf());return e.copy=function(){return Ps(e,Lv()).exponent(e.exponent())},Yn.apply(e,arguments)}function dq(){return Lv.apply(null,arguments).exponent(.5)}function J4(){var e=[],t=Sr;function r(a){if(a!=null&&!isNaN(a=+a))return t((Bc(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Cs),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,l)=>t(l/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(l,o)=>W7(e,o/a))},r.copy=function(){return J4(t).domain(e)},Yn.apply(r,arguments)}function em(){var e=0,t=.5,r=1,a=1,l,o,u,f,m,h=Sr,p,x=!1,v;function j(w){return isNaN(w=+w)?v:(w=.5+((w=+p(w))-o)*(a*w<a*o?f:m),h(x?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,r]=w,l=p(e=+e),o=p(t=+t),u=p(r=+r),f=l===o?0:.5/(o-l),m=o===u?0:.5/(u-o),a=o<l?-1:1,j):[e,t,r]},j.clamp=function(w){return arguments.length?(x=!!w,j):x},j.interpolator=function(w){return arguments.length?(h=w,j):h};function N(w){return function(S){var E,_,A;return arguments.length?([E,_,A]=S,h=NU(w,[E,_,A]),j):[h(0),h(.5),h(1)]}}return j.range=N(Gl),j.rangeRound=N(wv),j.unknown=function(w){return arguments.length?(v=w,j):v},function(w){return p=w,l=w(e),o=w(t),u=w(r),f=l===o?0:.5/(o-l),m=o===u?0:.5/(u-o),a=o<l?-1:1,j}}function eA(){var e=ks(em()(Sr));return e.copy=function(){return Ps(e,eA())},Yn.apply(e,arguments)}function tA(){var e=_v(em()).domain([.1,1,10]);return e.copy=function(){return Ps(e,tA()).base(e.base())},Yn.apply(e,arguments)}function rA(){var e=Cv(em());return e.copy=function(){return Ps(e,rA()).constant(e.constant())},Yn.apply(e,arguments)}function Uv(){var e=Av(em());return e.copy=function(){return Ps(e,Uv()).exponent(e.exponent())},Yn.apply(e,arguments)}function fq(){return Uv.apply(null,arguments).exponent(.5)}const dc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yv,scaleDiverging:eA,scaleDivergingLog:tA,scaleDivergingPow:Uv,scaleDivergingSqrt:fq,scaleDivergingSymlog:rA,scaleIdentity:D4,scaleImplicit:a0,scaleLinear:P4,scaleLog:$4,scaleOrdinal:vv,scalePoint:J7,scalePow:Ov,scaleQuantile:U4,scaleQuantize:q4,scaleRadial:L4,scaleSequential:W4,scaleSequentialLog:Z4,scaleSequentialPow:Lv,scaleSequentialQuantile:J4,scaleSequentialSqrt:dq,scaleSequentialSymlog:Q4,scaleSqrt:GU,scaleSymlog:z4,scaleThreshold:B4,scaleTime:cq,scaleUtc:uq,tickFormat:k4},Symbol.toStringTag,{value:"Module"}));var _i=e=>e.chartData,mq=ue([_i],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),qv=(e,t,r,a)=>a?mq(e):_i(e);function $l(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ia(t)&&ia(r))return!0}return!1}function CS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function hq(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,l,o;if(ia(r))l=r;else if(typeof r=="function")return;if(ia(a))o=a;else if(typeof a=="function")return;var u=[l,o];if($l(u))return u}}function pq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if($l(a))return CS(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[l,o]=e,u,f;if(l==="auto")t!=null&&(u=Math.min(...t));else if(Te(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[0]))}catch{}else if(typeof l=="string"&&h2.test(l)){var m=h2.exec(l);if(m==null||t==null)u=void 0;else{var h=+m[1];u=t[0]-h}}else u=t?.[0];if(o==="auto")t!=null&&(f=Math.max(...t));else if(Te(o))f=o;else if(typeof o=="function")try{t!=null&&(f=o(t?.[1]))}catch{}else if(typeof o=="string"&&p2.test(o)){var p=p2.exec(o);if(p==null||t==null)f=void 0;else{var x=+p[1];f=t[1]+x}}else f=t?.[1];var v=[u,f];if($l(v))return t==null?v:CS(v,t,r)}}}var Kl=1e9,xq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Iv,Et=!0,Ca="[DecimalError] ",mi=Ca+"Invalid argument: ",Bv=Ca+"Exponent out of range: ",Yl=Math.floor,ri=Math.pow,gq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,Wt=1e7,wt=7,aA=9007199254740991,uf=Yl(aA/wt),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,r,a,l,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(a=o.d.length,l=e.d.length,t=0,r=a<l?a:l;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return a===l?0:a>l^o.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(e){return Rn(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,r=t.constructor;return pt(Rn(t,new r(e),0,1),r.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return Bt(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,r=this,a=r.constructor,l=a.precision,o=l+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Jr))throw Error(Ca+"NaN");if(r.s<1)throw Error(Ca+(r.s?"NaN":"-Infinity"));return r.eq(Jr)?new a(0):(Et=!1,t=Rn(Cc(r,o),Cc(e,o),o),Et=!0,pt(t,l))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iA(t,e):nA(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,r=this,a=r.constructor,l=a.precision;if(e=new a(e),!e.s)throw Error(Ca+"NaN");return r.s?(Et=!1,t=Rn(r,e,0,1).times(e),Et=!0,r.minus(t)):pt(new a(r),l)};Ae.naturalExponential=Ae.exp=function(){return sA(this)};Ae.naturalLogarithm=Ae.ln=function(){return Cc(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nA(t,e):iA(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,r,a,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mi+e);if(t=Bt(l)+1,a=l.d.length-1,r=a*wt+1,a=l.d[a],a){for(;a%10==0;a/=10)r--;for(a=l.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Ae.squareRoot=Ae.sqrt=function(){var e,t,r,a,l,o,u,f=this,m=f.constructor;if(f.s<1){if(!f.s)return new m(0);throw Error(Ca+"NaN")}for(e=Bt(f),Et=!1,l=Math.sqrt(+f),l==0||l==1/0?(t=rn(f.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=Yl((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new m(t)):a=new m(l.toString()),r=m.precision,l=u=r+3;;)if(o=a,a=o.plus(Rn(f,o,u+2)).times(.5),rn(o.d).slice(0,u)===(t=rn(a.d)).slice(0,u)){if(t=t.slice(u-3,u+1),l==u&&t=="4999"){if(pt(o,r+1,0),o.times(o).eq(f)){a=o;break}}else if(t!="9999")break;u+=4}return Et=!0,pt(a,r)};Ae.times=Ae.mul=function(e){var t,r,a,l,o,u,f,m,h,p=this,x=p.constructor,v=p.d,j=(e=new x(e)).d;if(!p.s||!e.s)return new x(0);for(e.s*=p.s,r=p.e+e.e,m=v.length,h=j.length,m<h&&(o=v,v=j,j=o,u=m,m=h,h=u),o=[],u=m+h,a=u;a--;)o.push(0);for(a=h;--a>=0;){for(t=0,l=m+a;l>a;)f=o[l]+j[a]*v[l-a-1]+t,o[l--]=f%Wt|0,t=f/Wt|0;o[l]=(o[l]+t)%Wt|0}for(;!o[--u];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Et?pt(e,x.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(on(e,0,Kl),t===void 0?t=a.rounding:on(t,0,8),pt(r,e+Bt(r)+1,t))};Ae.toExponential=function(e,t){var r,a=this,l=a.constructor;return e===void 0?r=ji(a,!0):(on(e,0,Kl),t===void 0?t=l.rounding:on(t,0,8),a=pt(new l(a),e+1,t),r=ji(a,!0,e+1)),r};Ae.toFixed=function(e,t){var r,a,l=this,o=l.constructor;return e===void 0?ji(l):(on(e,0,Kl),t===void 0?t=o.rounding:on(t,0,8),a=pt(new o(l),e+Bt(l)+1,t),r=ji(a.abs(),!1,e+Bt(a)+1),l.isneg()&&!l.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return pt(new t(e),Bt(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,r,a,l,o,u,f=this,m=f.constructor,h=12,p=+(e=new m(e));if(!e.s)return new m(Jr);if(f=new m(f),!f.s){if(e.s<1)throw Error(Ca+"Infinity");return f}if(f.eq(Jr))return f;if(a=m.precision,e.eq(Jr))return pt(f,a);if(t=e.e,r=e.d.length-1,u=t>=r,o=f.s,u){if((r=p<0?-p:p)<=aA){for(l=new m(Jr),t=Math.ceil(a/wt+4),Et=!1;r%2&&(l=l.times(f),OS(l.d,t)),r=Yl(r/2),r!==0;)f=f.times(f),OS(f.d,t);return Et=!0,e.s<0?new m(Jr).div(l):pt(l,a)}}else if(o<0)throw Error(Ca+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,Et=!1,l=e.times(Cc(f,a+h)),Et=!0,l=sA(l),l.s=o,l};Ae.toPrecision=function(e,t){var r,a,l=this,o=l.constructor;return e===void 0?(r=Bt(l),a=ji(l,r<=o.toExpNeg||r>=o.toExpPos)):(on(e,1,Kl),t===void 0?t=o.rounding:on(t,0,8),l=pt(new o(l),e,t),r=Bt(l),a=ji(l,e<=r||r<=o.toExpNeg,e)),a};Ae.toSignificantDigits=Ae.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(on(e,1,Kl),t===void 0?t=a.rounding:on(t,0,8)),pt(new a(r),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bt(e),r=e.constructor;return ji(e,t<=r.toExpNeg||t>=r.toExpPos)};function nA(e,t){var r,a,l,o,u,f,m,h,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Et?pt(t,x):t;if(m=e.d,h=t.d,u=e.e,l=t.e,m=m.slice(),o=u-l,o){for(o<0?(a=m,o=-o,f=h.length):(a=h,l=u,f=m.length),u=Math.ceil(x/wt),f=u>f?u+1:f+1,o>f&&(o=f,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for(f=m.length,o=h.length,f-o<0&&(o=f,a=h,h=m,m=a),r=0;o;)r=(m[--o]=m[o]+h[o]+r)/Wt|0,m[o]%=Wt;for(r&&(m.unshift(r),++l),f=m.length;m[--f]==0;)m.pop();return t.d=m,t.e=l,Et?pt(t,x):t}function on(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mi+e)}function rn(e){var t,r,a,l=e.length-1,o="",u=e[0];if(l>0){for(o+=u,t=1;t<l;t++)a=e[t]+"",r=wt-a.length,r&&(o+=Ns(r)),o+=a;u=e[t],a=u+"",r=wt-a.length,r&&(o+=Ns(r))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Rn=function(){function e(a,l){var o,u=0,f=a.length;for(a=a.slice();f--;)o=a[f]*l+u,a[f]=o%Wt|0,u=o/Wt|0;return u&&a.unshift(u),a}function t(a,l,o,u){var f,m;if(o!=u)m=o>u?1:-1;else for(f=m=0;f<o;f++)if(a[f]!=l[f]){m=a[f]>l[f]?1:-1;break}return m}function r(a,l,o){for(var u=0;o--;)a[o]-=u,u=a[o]<l[o]?1:0,a[o]=u*Wt+a[o]-l[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,l,o,u){var f,m,h,p,x,v,j,N,w,S,E,_,A,P,D,M,O,z,F=a.constructor,W=a.s==l.s?1:-1,R=a.d,H=l.d;if(!a.s)return new F(a);if(!l.s)throw Error(Ca+"Division by zero");for(m=a.e-l.e,O=H.length,D=R.length,j=new F(W),N=j.d=[],h=0;H[h]==(R[h]||0);)++h;if(H[h]>(R[h]||0)&&--m,o==null?_=o=F.precision:u?_=o+(Bt(a)-Bt(l))+1:_=o,_<0)return new F(0);if(_=_/wt+2|0,h=0,O==1)for(p=0,H=H[0],_++;(h<D||p)&&_--;h++)A=p*Wt+(R[h]||0),N[h]=A/H|0,p=A%H|0;else{for(p=Wt/(H[0]+1)|0,p>1&&(H=e(H,p),R=e(R,p),O=H.length,D=R.length),P=O,w=R.slice(0,O),S=w.length;S<O;)w[S++]=0;z=H.slice(),z.unshift(0),M=H[0],H[1]>=Wt/2&&++M;do p=0,f=t(H,w,O,S),f<0?(E=w[0],O!=S&&(E=E*Wt+(w[1]||0)),p=E/M|0,p>1?(p>=Wt&&(p=Wt-1),x=e(H,p),v=x.length,S=w.length,f=t(x,w,v,S),f==1&&(p--,r(x,O<v?z:H,v))):(p==0&&(f=p=1),x=H.slice()),v=x.length,v<S&&x.unshift(0),r(w,x,S),f==-1&&(S=w.length,f=t(H,w,O,S),f<1&&(p++,r(w,O<S?z:H,S))),S=w.length):f===0&&(p++,w=[0]),N[h++]=p,f&&w[0]?w[S++]=R[P]||0:(w=[R[P]],S=1);while((P++<D||w[0]!==void 0)&&_--)}return N[0]||N.shift(),j.e=m,pt(j,u?o+Bt(j)+1:o)}}();function sA(e,t){var r,a,l,o,u,f,m=0,h=0,p=e.constructor,x=p.precision;if(Bt(e)>16)throw Error(Bv+Bt(e));if(!e.s)return new p(Jr);for(Et=!1,f=x,u=new p(.03125);e.abs().gte(.1);)e=e.times(u),h+=5;for(a=Math.log(ri(2,h))/Math.LN10*2+5|0,f+=a,r=l=o=new p(Jr),p.precision=f;;){if(l=pt(l.times(e),f),r=r.times(++m),u=o.plus(Rn(l,r,f)),rn(u.d).slice(0,f)===rn(o.d).slice(0,f)){for(;h--;)o=pt(o.times(o),f);return p.precision=x,t==null?(Et=!0,pt(o,x)):o}o=u}}function Bt(e){for(var t=e.e*wt,r=e.d[0];r>=10;r/=10)t++;return t}function eg(e,t,r){if(t>e.LN10.sd())throw Et=!0,r&&(e.precision=r),Error(Ca+"LN10 precision limit exceeded");return pt(new e(e.LN10),t)}function Ns(e){for(var t="";e--;)t+="0";return t}function Cc(e,t){var r,a,l,o,u,f,m,h,p,x=1,v=10,j=e,N=j.d,w=j.constructor,S=w.precision;if(j.s<1)throw Error(Ca+(j.s?"NaN":"-Infinity"));if(j.eq(Jr))return new w(0);if(t==null?(Et=!1,h=S):h=t,j.eq(10))return t==null&&(Et=!0),eg(w,h);if(h+=v,w.precision=h,r=rn(N),a=r.charAt(0),o=Bt(j),Math.abs(o)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)j=j.times(e),r=rn(j.d),a=r.charAt(0),x++;o=Bt(j),a>1?(j=new w("0."+r),o++):j=new w(a+"."+r.slice(1))}else return m=eg(w,h+2,S).times(o+""),j=Cc(new w(a+"."+r.slice(1)),h-v).plus(m),w.precision=S,t==null?(Et=!0,pt(j,S)):j;for(f=u=j=Rn(j.minus(Jr),j.plus(Jr),h),p=pt(j.times(j),h),l=3;;){if(u=pt(u.times(p),h),m=f.plus(Rn(u,new w(l),h)),rn(m.d).slice(0,h)===rn(f.d).slice(0,h))return f=f.times(2),o!==0&&(f=f.plus(eg(w,h+2,S).times(o+""))),f=Rn(f,new w(x),h),w.precision=S,t==null?(Et=!0,pt(f,S)):f;f=m,l+=2}}function AS(e,t){var r,a,l;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(a,l),t){if(l-=a,r=r-a-1,e.e=Yl(r/wt),e.d=[],a=(r+1)%wt,r<0&&(a+=wt),a<l){for(a&&e.d.push(+t.slice(0,a)),l-=wt;a<l;)e.d.push(+t.slice(a,a+=wt));t=t.slice(a),a=wt-t.length}else a-=l;for(;a--;)t+="0";if(e.d.push(+t),Et&&(e.e>uf||e.e<-uf))throw Error(Bv+r)}else e.s=0,e.e=0,e.d=[0];return e}function pt(e,t,r){var a,l,o,u,f,m,h,p,x=e.d;for(u=1,o=x[0];o>=10;o/=10)u++;if(a=t-u,a<0)a+=wt,l=t,h=x[p=0];else{if(p=Math.ceil((a+1)/wt),o=x.length,p>=o)return e;for(h=o=x[p],u=1;o>=10;o/=10)u++;a%=wt,l=a-wt+u}if(r!==void 0&&(o=ri(10,u-l-1),f=h/o%10|0,m=t<0||x[p+1]!==void 0||h%o,m=r<4?(f||m)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||m||r==6&&(a>0?l>0?h/ri(10,u-l):0:x[p-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return m?(o=Bt(e),x.length=1,t=t-o-1,x[0]=ri(10,(wt-t%wt)%wt),e.e=Yl(-t/wt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(a==0?(x.length=p,o=1,p--):(x.length=p+1,o=ri(10,wt-a),x[p]=l>0?(h/ri(10,u-l)%ri(10,l)|0)*o:0),m)for(;;)if(p==0){(x[0]+=o)==Wt&&(x[0]=1,++e.e);break}else{if(x[p]+=o,x[p]!=Wt)break;x[p--]=0,o=1}for(a=x.length;x[--a]===0;)x.pop();if(Et&&(e.e>uf||e.e<-uf))throw Error(Bv+Bt(e));return e}function iA(e,t){var r,a,l,o,u,f,m,h,p,x,v=e.constructor,j=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Et?pt(t,j):t;if(m=e.d,x=t.d,a=t.e,h=e.e,m=m.slice(),u=h-a,u){for(p=u<0,p?(r=m,u=-u,f=x.length):(r=x,a=h,f=m.length),l=Math.max(Math.ceil(j/wt),f)+2,u>l&&(u=l,r.length=1),r.reverse(),l=u;l--;)r.push(0);r.reverse()}else{for(l=m.length,f=x.length,p=l<f,p&&(f=l),l=0;l<f;l++)if(m[l]!=x[l]){p=m[l]<x[l];break}u=0}for(p&&(r=m,m=x,x=r,t.s=-t.s),f=m.length,l=x.length-f;l>0;--l)m[f++]=0;for(l=x.length;l>u;){if(m[--l]<x[l]){for(o=l;o&&m[--o]===0;)m[o]=Wt-1;--m[o],m[l]+=Wt}m[l]-=x[l]}for(;m[--f]===0;)m.pop();for(;m[0]===0;m.shift())--a;return m[0]?(t.d=m,t.e=a,Et?pt(t,j):t):new v(0)}function ji(e,t,r){var a,l=Bt(e),o=rn(e.d),u=o.length;return t?(r&&(a=r-u)>0?o=o.charAt(0)+"."+o.slice(1)+Ns(a):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(l<0?"e":"e+")+l):l<0?(o="0."+Ns(-l-1)+o,r&&(a=r-u)>0&&(o+=Ns(a))):l>=u?(o+=Ns(l+1-u),r&&(a=r-l-1)>0&&(o=o+"."+Ns(a))):((a=l+1)<u&&(o=o.slice(0,a)+"."+o.slice(a)),r&&(a=r-u)>0&&(l+1===u&&(o+="."),o+=Ns(a))),e.s<0?"-"+o:o}function OS(e,t){if(e.length>t)return e.length=t,!0}function lA(e){var t,r,a;function l(o){var u=this;if(!(u instanceof l))return new l(o);if(u.constructor=l,o instanceof l){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(mi+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return AS(u,o.toString())}else if(typeof o!="string")throw Error(mi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,gq.test(o))AS(u,o);else throw Error(mi+o)}if(l.prototype=Ae,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=lA,l.config=l.set=vq,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return l.config(e),l}function vq(e){if(!e||typeof e!="object")throw Error(Ca+"Object expected");var t,r,a,l=["precision",1,Kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((a=e[r=l[t]])!==void 0)if(Yl(a)===a&&a>=l[t+1]&&a<=l[t+2])this[r]=a;else throw Error(mi+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(mi+r+": "+a);return this}var Iv=lA(xq);Jr=new Iv(1);const lt=Iv;var yq=e=>e,oA={},cA=e=>e===oA,TS=e=>function t(){return arguments.length===0||arguments.length===1&&cA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},uA=(e,t)=>e===1?t:TS(function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];var o=a.filter(u=>u!==oA).length;return o>=e?t(...a):uA(e-o,TS(function(){for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];var h=a.map(p=>cA(p)?f.shift():p);return t(...h,...f)}))}),tm=e=>uA(e.length,e),l0=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},bq=tm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),jq=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return yq;var l=r.reverse(),o=l[0],u=l.slice(1);return function(){return u.reduce((f,m)=>m(f),o(...arguments))}},o0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),dA=e=>{var t=null,r=null;return function(){for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return t&&l.every((u,f)=>{var m;return u===((m=t)===null||m===void 0?void 0:m[f])})||(t=l,r=e(...l)),r}};function fA(e){var t;return e===0?t=1:t=Math.floor(new lt(e).abs().log(10).toNumber())+1,t}function mA(e,t,r){for(var a=new lt(e),l=0,o=[];a.lt(t)&&l<1e5;)o.push(a.toNumber()),a=a.add(r),l++;return o}tm((e,t,r)=>{var a=+e,l=+t;return a+r*(l-a)});tm((e,t,r)=>{var a=t-+e;return a=a||1/0,(r-e)/a});tm((e,t,r)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});var hA=e=>{var[t,r]=e,[a,l]=[t,r];return t>r&&([a,l]=[r,t]),[a,l]},pA=(e,t,r)=>{if(e.lte(0))return new lt(0);var a=fA(e.toNumber()),l=new lt(10).pow(a),o=e.div(l),u=a!==1?.05:.1,f=new lt(Math.ceil(o.div(u).toNumber())).add(r).mul(u),m=f.mul(l);return t?new lt(m.toNumber()):new lt(Math.ceil(m.toNumber()))},wq=(e,t,r)=>{var a=new lt(1),l=new lt(e);if(!l.isint()&&r){var o=Math.abs(e);o<1?(a=new lt(10).pow(fA(e)-1),l=new lt(Math.floor(l.div(a).toNumber())).mul(a)):o>1&&(l=new lt(Math.floor(e)))}else e===0?l=new lt(Math.floor((t-1)/2)):r||(l=new lt(Math.floor(e)));var u=Math.floor((t-1)/2),f=jq(bq(m=>l.add(new lt(m-u).mul(a)).toNumber()),l0);return f(0,t)},xA=function(t,r,a,l){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var u=pA(new lt(r).sub(t).div(a-1),l,o),f;t<=0&&r>=0?f=new lt(0):(f=new lt(t).add(r).div(2),f=f.sub(new lt(f).mod(u)));var m=Math.ceil(f.sub(t).div(u).toNumber()),h=Math.ceil(new lt(r).sub(f).div(u).toNumber()),p=m+h+1;return p>a?xA(t,r,a,l,o+1):(p<a&&(h=r>0?h+(a-p):h,m=r>0?m:m+(a-p)),{step:u,tickMin:f.sub(new lt(m).mul(u)),tickMax:f.add(new lt(h).mul(u))})};function Nq(e){var[t,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[u,f]=hA([t,r]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...l0(0,a-1).map(()=>1/0)]:[...l0(0,a-1).map(()=>-1/0),f];return t>r?o0(m):m}if(u===f)return wq(u,a,l);var{step:h,tickMin:p,tickMax:x}=xA(u,f,o,l,0),v=mA(p,x.add(new lt(.1).mul(h)),h);return t>r?o0(v):v}function Sq(e,t){var[r,a]=e,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=hA([r,a]);if(o===-1/0||u===1/0)return[r,a];if(o===u)return[o];var f=Math.max(t,2),m=pA(new lt(u).sub(o).div(f-1),l,0),h=[...mA(new lt(o),new lt(u),m),u];return l===!1&&(h=h.map(p=>Math.round(p))),r>a?o0(h):h}var Eq=dA(Nq),_q=dA(Sq),gA=e=>e.rootProps.maxBarSize,Cq=e=>e.rootProps.barGap,vA=e=>e.rootProps.barCategoryGap,Aq=e=>e.rootProps.barSize,rm=e=>e.rootProps.stackOffset,Fv=e=>e.options.chartName,Hv=e=>e.rootProps.syncId,yA=e=>e.rootProps.syncMethod,Vv=e=>e.options.eventEmitter,An={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Zr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},am=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Oq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:An.angleAxisId,includeHidden:!1,name:void 0,reversed:An.reversed,scale:An.scale,tick:An.tick,tickCount:void 0,ticks:void 0,type:An.type,unit:void 0},Tq={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,ticks:void 0,type:Zr.type,unit:void 0},Mq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:An.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:An.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:An.scale,tick:An.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},kq={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,ticks:void 0,type:"category",unit:void 0},Gv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Mq:Oq,Kv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?kq:Tq,nm=e=>e.polarOptions,Yv=ue([Vn,Gn,Jt],wz),bA=ue([nm,Yv],(e,t)=>{if(e!=null)return Ba(e.innerRadius,t,0)}),jA=ue([nm,Yv],(e,t)=>{if(e!=null)return Ba(e.outerRadius,t,t*.8)}),Pq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},wA=ue([nm],Pq);ue([Gv,wA],am);var NA=ue([Yv,bA,jA],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ue([Kv,NA],am);var Dq=ue([ct,nm,bA,jA,Vn,Gn],(e,t,r,a,l,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:u,cy:f,startAngle:m,endAngle:h}=t;return{cx:Ba(u,l,l/2),cy:Ba(f,o,o/2),innerRadius:r,outerRadius:a,startAngle:m,endAngle:h,clockWise:!1}}}),tr=(e,t)=>t,sm=(e,t,r)=>r;function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(a){Rq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rq(e,t,r){return(t=$q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=zq(e,"string");return typeof t=="symbol"?t:t+""}function zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c0=[0,"auto"],Kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Xn=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Kr},Yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:c0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Vf},Ds=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Yr},Lq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Xv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Lq},Lr=(e,t,r)=>{switch(t){case"xAxis":return Xn(e,r);case"yAxis":return Ds(e,r);case"zAxis":return Xv(e,r);case"angleAxis":return Gv(e,r);case"radiusAxis":return Kv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Uq=(e,t,r)=>{switch(t){case"xAxis":return Xn(e,r);case"yAxis":return Ds(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vc=(e,t,r)=>{switch(t){case"xAxis":return Xn(e,r);case"yAxis":return Ds(e,r);case"angleAxis":return Gv(e,r);case"radiusAxis":return Kv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},SA=e=>e.graphicalItems.countOfBars>0;function EA(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var im=e=>e.graphicalItems.cartesianItems,qq=ue([tr,sm],EA),_A=(e,t,r)=>e.filter(r).filter(a=>t?.includeHidden===!0?!0:!a.hide),Gc=ue([im,Lr,qq],_A),CA=e=>e.filter(t=>t.stackId===void 0),Bq=ue([Gc],CA),AA=e=>e.map(t=>t.data).filter(Boolean).flat(1),Iq=ue([Gc],AA),OA=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:l}=t;return e.length>0?e:r.slice(a,l+1)},lm=ue([Iq,qv],OA),TA=(e,t,r)=>t?.dataKey!=null?e.map(a=>({value:jr(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(l=>({value:jr(l,a)}))):e.map(a=>({value:a})),om=ue([lm,Lr,Gc],TA);function MA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ci(e){return e.filter(t=>ln(t)||t instanceof Date).map(Number).filter(t=>ra(t)===!1)}function Fq(e,t,r){return!r||typeof t!="number"||ra(t)?[]:r.length?Ci(r.flatMap(a=>{var l=jr(e,a.dataKey),o,u;if(Array.isArray(l)?[o,u]=l:o=u=l,!(!ia(o)||!ia(u)))return[t-o,t+u]})):[]}var kA=(e,t,r)=>{var a={},l=t.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),a);return Object.fromEntries(Object.entries(l).map(o=>{var[u,f]=o,m=f.map(h=>h.dataKey);return[u,{stackedData:Lz(e,m,r),graphicalItems:f}]}))},u0=ue([lm,Gc,rm],kA),PA=(e,t,r)=>{var{dataStartIndex:a,dataEndIndex:l}=t;if(r!=="zAxis"){var o=Iz(e,a,l);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Hq=ue([u0,_i,tr],PA),DA=(e,t,r,a)=>r.length>0?e.flatMap(l=>r.flatMap(o=>{var u,f,m=(u=o.errorBars)===null||u===void 0?void 0:u.filter(p=>MA(a,p)),h=jr(l,(f=t.dataKey)!==null&&f!==void 0?f:o.dataKey);return{value:h,errorDomain:Fq(l,h,m)}})).filter(Boolean):t?.dataKey!=null?e.map(l=>({value:jr(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),Vq=ue(lm,Lr,Bq,tr,DA);function Gq(e){var{value:t}=e;if(ln(t)||t instanceof Date)return t}var Kq=e=>{var t=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),r=Ci(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Yq=(e,t,r)=>{var a=e.map(Gq).filter(l=>l!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&rC(a))?w4(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},Wv=e=>{var t;if(e==null||!("domain"in e))return c0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ci(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:c0},Zv=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var l=r.filter(Boolean);if(l.length!==0){var o=l.flat(),u=Math.min(...o),f=Math.max(...o);return[u,f]}},RA=e=>e.referenceElements.dots,Xl=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),Xq=ue([RA,tr,sm],Xl),$A=e=>e.referenceElements.areas,Wq=ue([$A,tr,sm],Xl),zA=e=>e.referenceElements.lines,Zq=ue([zA,tr,sm],Xl),LA=(e,t)=>{var r=Ci(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Qq=ue(Xq,tr,LA),UA=(e,t)=>{var r=Ci(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Jq=ue([Wq,tr],UA),qA=(e,t)=>{var r=Ci(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},eB=ue(Zq,tr,qA),tB=ue(Qq,eB,Jq,(e,t,r)=>Zv(e,r,t)),rB=ue([Lr],Wv),BA=(e,t,r,a,l)=>{var o=hq(t,e.allowDataOverflow);return o??pq(t,Zv(r,l,Kq(a)),e.allowDataOverflow)},aB=ue([Lr,rB,Hq,Vq,tB],BA),nB=[0,1],IA=(e,t,r,a,l,o,u)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:f,type:m}=e,h=Ms(t,o);return h&&f==null?w4(0,r.length):m==="category"?Yq(a,e,h):l==="expand"?nB:u}},Qv=ue([Lr,ct,lm,om,rm,tr,aB],IA),FA=(e,t,r,a,l)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&l==="radiusAxis"?"band":t==="radial"&&l==="angleAxis"?"linear":u==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var f="scale".concat(Uc(o));return f in dc?f:"point"}}},Kc=ue([Lr,ct,SA,Fv,tr],FA);function sB(e){if(e!=null){if(e in dc)return dc[e]();var t="scale".concat(Uc(e));if(t in dc)return dc[t]()}}function Jv(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var l=sB(t);if(l!=null){var o=l.domain(r).range(a);return Pz(o),o}}}var HA=(e,t,r)=>{var a=Wv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&$l(e))return Eq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$l(e))return _q(e,t.tickCount,t.allowDecimals)}},ey=ue([Qv,Vc,Kc],HA),VA=(e,t,r,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&$l(t)&&Array.isArray(r)&&r.length>0){var l=t[0],o=r[0],u=t[1],f=r[r.length-1];return[Math.min(l,o),Math.max(u,f)]}return t},iB=ue([Lr,Qv,ey,tr],VA),lB=ue(om,Lr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(Ci(e.map(f=>f.value))).sort((f,m)=>f-m);if(a.length<2)return 1/0;var l=a[a.length-1]-a[0];if(l===0)return 1/0;for(var o=0;o<a.length-1;o++){var u=a[o+1]-a[o];r=Math.min(r,u)}return r/l}}),GA=ue(lB,ct,vA,Jt,(e,t,r,a)=>a,(e,t,r,a,l)=>{if(!ia(e))return 0;var o=t==="vertical"?a.height:a.width;if(l==="gap")return e*o/2;if(l==="no-gap"){var u=Ba(r,e*o),f=e*o/2;return f-u-(f-u)/o*u}return 0}),oB=(e,t)=>{var r=Xn(e,t);return r==null||typeof r.padding!="string"?0:GA(e,"xAxis",t,r.padding)},cB=(e,t)=>{var r=Ds(e,t);return r==null||typeof r.padding!="string"?0:GA(e,"yAxis",t,r.padding)},uB=ue(Xn,oB,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((r=l.left)!==null&&r!==void 0?r:0)+t,right:((a=l.right)!==null&&a!==void 0?a:0)+t}}),dB=ue(Ds,cB,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((r=l.top)!==null&&r!==void 0?r:0)+t,bottom:((a=l.bottom)!==null&&a!==void 0?a:0)+t}}),fB=ue([Jt,uB,Kf,Gf,(e,t,r)=>r],(e,t,r,a,l)=>{var{padding:o}=a;return l?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),mB=ue([Jt,ct,dB,Kf,Gf,(e,t,r)=>r],(e,t,r,a,l,o)=>{var{padding:u}=l;return o?[a.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Yc=(e,t,r,a)=>{var l;switch(t){case"xAxis":return fB(e,r,a);case"yAxis":return mB(e,r,a);case"zAxis":return(l=Xv(e,r))===null||l===void 0?void 0:l.range;case"angleAxis":return wA(e);case"radiusAxis":return NA(e,r);default:return}},KA=ue([Lr,Yc],am),Wl=ue([Lr,Kc,iB,KA],Jv);ue(Gc,tr,(e,t)=>e.flatMap(r=>{var a;return(a=r.errorBars)!==null&&a!==void 0?a:[]}).filter(r=>MA(t,r)));function YA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var cm=(e,t)=>t,um=(e,t,r)=>r,hB=ue(uv,cm,um,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(YA)),pB=ue(dv,cm,um,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(YA)),XA=(e,t)=>({width:e.width,height:t.height}),xB=(e,t)=>{var r=typeof t.width=="number"?t.width:Vf;return{width:r,height:e.height}},WA=ue(Jt,Xn,XA),gB=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},vB=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},yB=ue(Gn,Jt,hB,cm,um,(e,t,r,a,l)=>{var o={},u;return r.forEach(f=>{var m=XA(t,f);u==null&&(u=gB(t,a,e));var h=a==="top"&&!l||a==="bottom"&&l;o[f.id]=u-Number(h)*m.height,u+=(h?-1:1)*m.height}),o}),bB=ue(Vn,Jt,pB,cm,um,(e,t,r,a,l)=>{var o={},u;return r.forEach(f=>{var m=xB(t,f);u==null&&(u=vB(t,a,e));var h=a==="left"&&!l||a==="right"&&l;o[f.id]=u-Number(h)*m.width,u+=(h?-1:1)*m.width}),o}),jB=(e,t)=>{var r=Jt(e),a=Xn(e,t);if(a!=null){var l=yB(e,a.orientation,a.mirror),o=l[t];return o==null?{x:r.left,y:0}:{x:r.left,y:o}}},wB=(e,t)=>{var r=Jt(e),a=Ds(e,t);if(a!=null){var l=bB(e,a.orientation,a.mirror),o=l[t];return o==null?{x:0,y:r.top}:{x:o,y:r.top}}},ZA=ue(Jt,Ds,(e,t)=>{var r=typeof t.width=="number"?t.width:Vf;return{width:r,height:e.height}}),kS=(e,t,r)=>{switch(t){case"xAxis":return WA(e,r).width;case"yAxis":return ZA(e,r).height;default:return}},QA=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:l,type:o,dataKey:u}=r,f=Ms(e,a),m=t.map(h=>h.value);if(u&&f&&o==="category"&&l&&rC(m))return m}},ty=ue([ct,om,Lr,tr],QA),JA=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:l,scale:o}=r,u=Ms(e,a);if(u&&(l==="number"||o!=="auto"))return t.map(f=>f.value)}},ry=ue([ct,om,Vc,tr],JA),PS=ue([ct,Uq,Kc,Wl,ty,ry,Yc,ey,tr],(e,t,r,a,l,o,u,f,m)=>{if(t==null)return null;var h=Ms(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:o,duplicateDomain:l,isCategorical:h,niceTicks:f,range:u,realScaleType:r,scale:a}}),NB=(e,t,r,a,l,o,u,f,m)=>{if(!(t==null||a==null)){var h=Ms(e,m),{type:p,ticks:x,tickCount:v}=t,j=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,N=p==="category"&&a.bandwidth?a.bandwidth()/j:0;N=m==="angleAxis"&&o!=null&&o.length>=2?Pr(o[0]-o[1])*2*N:N;var w=x||l;if(w){var S=w.map((E,_)=>{var A=u?u.indexOf(E):E;return{index:_,coordinate:a(A)+N,value:E,offset:N}});return S.filter(E=>!ra(E.coordinate))}return h&&f?f.map((E,_)=>({coordinate:a(E)+N,value:E,index:_,offset:N})):a.ticks?a.ticks(v).map(E=>({coordinate:a(E)+N,value:E,offset:N})):a.domain().map((E,_)=>({coordinate:a(E)+N,value:u?u[E]:E,index:_,offset:N}))}},eO=ue([ct,Vc,Kc,Wl,ey,Yc,ty,ry,tr],NB),SB=(e,t,r,a,l,o,u)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var f=Ms(e,u),{tickCount:m}=t,h=0;return h=u==="angleAxis"&&a?.length>=2?Pr(a[0]-a[1])*2*h:h,f&&o?o.map((p,x)=>({coordinate:r(p)+h,value:p,index:x,offset:h})):r.ticks?r.ticks(m).map(p=>({coordinate:r(p)+h,value:p,offset:h})):r.domain().map((p,x)=>({coordinate:r(p)+h,value:l?l[p]:p,index:x,offset:h}))}},Ts=ue([ct,Vc,Wl,Yc,ty,ry,tr],SB),cn=ue(Lr,Wl,(e,t)=>{if(!(e==null||t==null))return df(df({},e),{},{scale:t})}),EB=ue([Lr,Kc,Qv,KA],Jv);ue((e,t,r)=>Xv(e,r),EB,(e,t)=>{if(!(e==null||t==null))return df(df({},e),{},{scale:t})});var _B=ue([ct,uv,dv],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tO=e=>e.options.defaultTooltipEventType,rO=e=>e.options.validateTooltipEventTypes;function aO(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function ay(e,t){var r=tO(e),a=rO(e);return aO(t,r,a)}function CB(e){return De(t=>ay(t,e))}var nO=(e,t)=>{var r,a=Number(t);if(!(ra(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},AB=e=>e.tooltip.settings,Es={active:!1,index:null,dataKey:void 0,coordinate:void 0},OB={itemInteraction:{click:Es,hover:Es},axisInteraction:{click:Es,hover:Es},keyboardInteraction:Es,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},sO=Aa({name:"tooltip",initialState:OB,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Dn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:TB,removeTooltipEntrySettings:MB,setTooltipSettingsState:kB,setActiveMouseOverItemIndex:iO,mouseLeaveItem:PB,mouseLeaveChart:lO,setActiveClickItemIndex:DB,setMouseOverAxisIndex:oO,setMouseClickAxisIndex:RB,setSyncInteraction:d0,setKeyboardInteraction:f0}=sO.actions,$B=sO.reducer;function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(a){zB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zB(e,t,r){return(t=LB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=UB(e,"string");return typeof t=="symbol"?t:t+""}function UB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function BB(e){return e.index!=null}var cO=(e,t,r,a)=>{if(t==null)return Es;var l=qB(e,t,r);if(l==null)return Es;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(BB(l)){if(o)return yd(yd({},l),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return yd(yd({},Es),{},{coordinate:l.coordinate})},ny=(e,t)=>{var r=e?.index;if(r==null)return null;var a=Number(r);if(!ia(a))return r;var l=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(l,Math.min(a,o)))},uO=(e,t,r,a,l,o,u,f)=>{if(!(o==null||f==null)){var m=u[0],h=m==null?void 0:f(m.positions,o);if(h!=null)return h;var p=l?.[Number(o)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:p.coordinate}}}},dO=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;return r==="hover"?l=e.itemInteraction.hover.dataKey:l=e.itemInteraction.click.dataKey,l==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===l})},Xc=e=>e.options.tooltipPayloadSearcher,Zl=e=>e.tooltip;function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function $S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(a){IB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IB(e,t,r){return(t=FB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FB(e){var t=HB(e,"string");return typeof t=="symbol"?t:t+""}function HB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VB(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function GB(e,t){return e??t}var fO=(e,t,r,a,l,o,u)=>{if(!(t==null||o==null)){var{chartData:f,computedData:m,dataStartIndex:h,dataEndIndex:p}=r,x=[];return e.reduce((v,j)=>{var N,{dataDefinedOnItem:w,settings:S}=j,E=GB(w,f),_=VB(E,h,p),A=(N=S?.dataKey)!==null&&N!==void 0?N:a?.dataKey,P=S?.nameKey,D;if(a!=null&&a.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&u==="axis"?D=aC(_,a.dataKey,l):D=o(_,t,m,P),Array.isArray(D))D.forEach(O=>{var z=$S($S({},S),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});v.push(x2({tooltipEntrySettings:z,dataKey:O.dataKey,payload:O.payload,value:jr(O.payload,O.dataKey),name:O.name}))});else{var M;v.push(x2({tooltipEntrySettings:S,dataKey:A,payload:D,value:jr(D,A),name:(M=jr(D,P))!==null&&M!==void 0?M:S?.name}))}return v},x)}},rr=e=>{var t=ct(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ql=e=>e.tooltip.settings.axisId,fr=e=>{var t=rr(e),r=Ql(e);return Vc(e,t,r)},sy=ue([fr,ct,SA,Fv,rr],FA),KB=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),YB=ue([rr,Ql],EA),dm=ue([KB,fr,YB],_A),XB=ue([dm],AA),Ai=ue([XB,_i],OA),iy=ue([Ai,fr,dm],TA),WB=ue([fr],Wv),ZB=ue([Ai,dm,rm],kA),QB=ue([ZB,_i,rr],PA),JB=ue([dm],CA),eI=ue([Ai,fr,JB,rr],DA),tI=ue([RA,rr,Ql],Xl),rI=ue([tI,rr],LA),aI=ue([$A,rr,Ql],Xl),nI=ue([aI,rr],UA),sI=ue([zA,rr,Ql],Xl),iI=ue([sI,rr],qA),lI=ue([rI,iI,nI],Zv),oI=ue([fr,WB,QB,eI,lI],BA),mO=ue([fr,ct,Ai,iy,rm,rr,oI],IA),cI=ue([mO,fr,sy],HA),uI=ue([fr,mO,cI,rr],VA),hO=e=>{var t=rr(e),r=Ql(e),a=!1;return Yc(e,t,r,a)},pO=ue([fr,hO],am),xO=ue([fr,sy,uI,pO],Jv),dI=ue([ct,iy,fr,rr],QA),fI=ue([ct,iy,fr,rr],JA),mI=(e,t,r,a,l,o,u,f)=>{if(t){var{type:m}=t,h=Ms(e,f);if(a){var p=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=m==="category"&&a.bandwidth?a.bandwidth()/p:0;return x=f==="angleAxis"&&l!=null&&l?.length>=2?Pr(l[0]-l[1])*2*x:x,h&&u?u.map((v,j)=>({coordinate:a(v)+x,value:v,index:j,offset:x})):a.domain().map((v,j)=>({coordinate:a(v)+x,value:o?o[v]:v,index:j,offset:x}))}}},Wn=ue([ct,fr,sy,xO,hO,dI,fI,rr],mI),ly=ue([tO,rO,AB],(e,t,r)=>aO(r.shared,e,t)),gO=e=>e.tooltip.settings.trigger,oy=e=>e.tooltip.settings.defaultIndex,fm=ue([Zl,ly,gO,oy],cO),wi=ue([fm,Ai],ny),vO=ue([Wn,wi],nO),yO=ue([fm],e=>{if(e)return e.dataKey}),bO=ue([Zl,ly,gO,oy],dO),hI=ue([Vn,Gn,ct,Jt,Wn,oy,bO,Xc],uO),pI=ue([fm,hI],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),xI=ue([fm],e=>e.active),gI=ue([bO,wi,_i,fr,vO,Xc,ly],fO),vI=ue([gI],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function LS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(a){yI(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yI(e,t,r){return(t=bI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bI(e){var t=jI(e,"string");return typeof t=="symbol"?t:t+""}function jI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wI=()=>De(fr),NI=()=>{var e=wI(),t=De(Wn),r=De(xO);return bc(LS(LS({},e),{},{scale:r}),t)},SI=()=>De(Fv),cy=(e,t)=>t,jO=(e,t,r)=>r,uy=(e,t,r,a)=>a,EI=ue(Wn,e=>zf(e,t=>t.coordinate)),dy=ue([Zl,cy,jO,uy],cO),wO=ue([dy,Ai],ny),_I=(e,t,r)=>{if(t!=null){var a=Zl(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},NO=ue([Zl,cy,jO,uy],dO),ff=ue([Vn,Gn,ct,Jt,Wn,uy,NO,Xc],uO),CI=ue([dy,ff],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),SO=ue(Wn,wO,nO),AI=ue([NO,wO,_i,fr,SO,Xc,cy],fO),OI=ue([dy],e=>({isActive:e.active,activeIndex:e.index})),TI=(e,t,r,a,l,o,u,f)=>{if(!(!e||!t||!a||!l||!o)){var m=Fz(e.chartX,e.chartY,t,r,f);if(m){var h=Vz(m,t),p=Mz(h,u,o,a,l),x=Hz(t,o,p,m);return{activeIndex:String(p),activeCoordinate:x}}}};function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m0.apply(null,arguments)}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(a){MI(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function MI(e,t,r){return(t=kI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kI(e){var t=PI(e,"string");return typeof t=="symbol"?t:t+""}function PI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DI(e){var{coordinate:t,payload:r,index:a,offset:l,tooltipAxisBandSize:o,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,p=t,x=r,v=a;if(!f||!p||h!=="ScatterChart"&&m!=="axis")return null;var j,N;if(h==="ScatterChart")j=p,N=GL;else if(h==="BarChart")j=KL(u,p,l,o),N=v4;else if(u==="radial"){var{cx:w,cy:S,radius:E,startAngle:_,endAngle:A}=y4(p);j={cx:w,cy:S,startAngle:_,endAngle:A,innerRadius:E,outerRadius:E},N=j4}else j={points:P7(u,p,l)},N=h4;var P=typeof f=="object"&&"className"in f?f.className:void 0,D=bd(bd(bd(bd({stroke:"#ccc",pointerEvents:"none"},l),j),nt(f,!1)),{},{payload:x,payloadIndex:v,className:ot("recharts-tooltip-cursor",P)});return y.isValidElement(f)?y.cloneElement(f,D):y.createElement(N,D)}function RI(e){var t=NI(),r=d4(),a=Yf(),l=SI();return y.createElement(DI,m0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:t,chartName:l}))}var EO=y.createContext(null),$I=()=>y.useContext(EO),tg={exports:{}},qS;function zI(){return qS||(qS=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function l(m,h,p){this.fn=m,this.context=h,this.once=p||!1}function o(m,h,p,x,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var j=new l(p,x||m,v),N=r?r+h:h;return m._events[N]?m._events[N].fn?m._events[N]=[m._events[N],j]:m._events[N].push(j):(m._events[N]=j,m._eventsCount++),m}function u(m,h){--m._eventsCount===0?m._events=new a:delete m._events[h]}function f(){this._events=new a,this._eventsCount=0}f.prototype.eventNames=function(){var h=[],p,x;if(this._eventsCount===0)return h;for(x in p=this._events)t.call(p,x)&&h.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},f.prototype.listeners=function(h){var p=r?r+h:h,x=this._events[p];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,j=x.length,N=new Array(j);v<j;v++)N[v]=x[v].fn;return N},f.prototype.listenerCount=function(h){var p=r?r+h:h,x=this._events[p];return x?x.fn?1:x.length:0},f.prototype.emit=function(h,p,x,v,j,N){var w=r?r+h:h;if(!this._events[w])return!1;var S=this._events[w],E=arguments.length,_,A;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),E){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,x),!0;case 4:return S.fn.call(S.context,p,x,v),!0;case 5:return S.fn.call(S.context,p,x,v,j),!0;case 6:return S.fn.call(S.context,p,x,v,j,N),!0}for(A=1,_=new Array(E-1);A<E;A++)_[A-1]=arguments[A];S.fn.apply(S.context,_)}else{var P=S.length,D;for(A=0;A<P;A++)switch(S[A].once&&this.removeListener(h,S[A].fn,void 0,!0),E){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,p);break;case 3:S[A].fn.call(S[A].context,p,x);break;case 4:S[A].fn.call(S[A].context,p,x,v);break;default:if(!_)for(D=1,_=new Array(E-1);D<E;D++)_[D-1]=arguments[D];S[A].fn.apply(S[A].context,_)}}return!0},f.prototype.on=function(h,p,x){return o(this,h,p,x,!1)},f.prototype.once=function(h,p,x){return o(this,h,p,x,!0)},f.prototype.removeListener=function(h,p,x,v){var j=r?r+h:h;if(!this._events[j])return this;if(!p)return u(this,j),this;var N=this._events[j];if(N.fn)N.fn===p&&(!v||N.once)&&(!x||N.context===x)&&u(this,j);else{for(var w=0,S=[],E=N.length;w<E;w++)(N[w].fn!==p||v&&!N[w].once||x&&N[w].context!==x)&&S.push(N[w]);S.length?this._events[j]=S.length===1?S[0]:S:u(this,j)}return this},f.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&u(this,p)):(this._events=new a,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f}(tg)),tg.exports}var LI=zI();const UI=un(LI);var Ac=new UI,h0="recharts.syncEvent.tooltip",BS="recharts.syncEvent.brush";function _O(e,t){if(t){var r=Number.parseInt(t,10);if(!ra(r))return e?.[r]}}var qI={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},CO=Aa({name:"options",initialState:qI,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),BI=CO.reducer,{createEventEmitter:II}=CO.actions;function FI(e){return e.tooltip.syncInteraction}var HI={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},AO=Aa({name:"chartData",initialState:HI,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:IS,setDataStartEndIndexes:VI,setComputedData:sW}=AO.actions,GI=AO.reducer,OO=()=>{};function KI(){var e=De(Hv),t=De(Vv),r=zt(),a=De(yA),l=De(Wn),o=Yf(),u=fv(),f=De(m=>m.rootProps.className);y.useEffect(()=>{if(e==null)return OO;var m=(h,p,x)=>{if(t!==x&&e===h){if(a==="index"){r(p);return}if(l!=null){var v;if(typeof a=="function"){var j={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},N=a(l,j);v=l[N]}else a==="value"&&(v=l.find(M=>String(M.value)===p.payload.label));var{coordinate:w}=p.payload;if(v==null||p.payload.active===!1||w==null||u==null){r(d0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:E}=w,_=Math.min(S,u.x+u.width),A=Math.min(E,u.y+u.height),P={x:o==="horizontal"?v.coordinate:_,y:o==="horizontal"?A:v.coordinate},D=d0({active:p.payload.active,coordinate:P,dataKey:p.payload.dataKey,index:String(v.index),label:p.payload.label});r(D)}}};return Ac.on(h0,m),()=>{Ac.off(h0,m)}},[f,r,t,e,a,l,o,u])}function YI(){var e=De(Hv),t=De(Vv),r=zt();y.useEffect(()=>{if(e==null)return OO;var a=(l,o,u)=>{t!==u&&e===l&&r(VI(o))};return Ac.on(BS,a),()=>{Ac.off(BS,a)}},[r,t,e])}function XI(){var e=zt();y.useEffect(()=>{e(II())},[e]),KI(),YI()}function WI(e,t,r,a,l,o){var u=De(v=>_I(v,e,t)),f=De(Vv),m=De(Hv),h=De(yA),p=De(FI),x=p?.active;y.useEffect(()=>{if(!x&&m!=null&&f!=null){var v=d0({active:o,coordinate:r,dataKey:u,index:l,label:typeof a=="number"?String(a):a});Ac.emit(h0,m,v,f)}},[x,r,u,l,a,f,m,h,o])}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function HS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(a){ZI(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZI(e,t,r){return(t=QI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QI(e){var t=JI(e,"string");return typeof t=="symbol"?t:t+""}function JI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eF(e){return e.dataKey}function tF(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(SL,t)}var VS=[],rF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Vl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function GS(e){var t=Kn(e,rF),{active:r,allowEscapeViewBox:a,animationDuration:l,animationEasing:o,content:u,filterNull:f,isAnimationActive:m,offset:h,payloadUniqBy:p,position:x,reverseDirection:v,useTranslate3d:j,wrapperStyle:N,cursor:w,shared:S,trigger:E,defaultIndex:_,portal:A,axisId:P}=t,D=zt(),M=typeof _=="number"?String(_):_;y.useEffect(()=>{D(kB({shared:S,trigger:E,axisId:P,active:r,defaultIndex:M}))},[D,S,E,P,r,M]);var O=fv(),z=m4(),F=CB(S),{activeIndex:W,isActive:R}=De(ve=>OI(ve,F,E,M)),H=De(ve=>AI(ve,F,E,M)),T=De(ve=>SO(ve,F,E,M)),L=De(ve=>CI(ve,F,E,M)),B=H,$=$I(),q=r??R,[Z,le]=RC([B,q]),U=F==="axis"?T:void 0;WI(F,E,L,U,W,q);var X=A??$;if(X==null)return null;var ne=B??VS;q||(ne=VS),f&&ne.length&&(ne=TC(B.filter(ve=>ve.value!=null&&(ve.hide!==!0||t.includeHidden)),p,eF));var ie=ne.length>0,G=y.createElement(ML,{allowEscapeViewBox:a,animationDuration:l,animationEasing:o,isAnimationActive:m,active:q,coordinate:L,hasPayload:ie,offset:h,position:x,reverseDirection:v,useTranslate3d:j,viewBox:O,wrapperStyle:N,lastBoundingBox:Z,innerRef:le,hasPortalFromProps:!!A},tF(u,HS(HS({},t),{},{payload:ne,label:U,active:q,coordinate:L,accessibilityLayer:z})));return y.createElement(y.Fragment,null,v_.createPortal(G,X),q&&y.createElement(RI,{cursor:w,tooltipEventType:F,coordinate:L,payload:B,index:W}))}var rg={},ag={},ng={},KS;function aF(){return KS||(KS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:l,edges:o}={}){let u,f=null;const m=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),p=()=>{f!==null&&(r.apply(u,f),u=void 0,f=null)},x=()=>{h&&p(),w()};let v=null;const j=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,x()},a)},N=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{N(),u=void 0,f=null},S=()=>{p()},E=function(..._){if(l?.aborted)return;u=this,f=_;const A=v==null;j(),m&&A&&p()};return E.schedule=j,E.cancel=w,E.flush=S,l?.addEventListener("abort",w,{once:!0}),E}e.debounce=t}(ng)),ng}var YS;function nF(){return YS||(YS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aF();function r(a,l=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:f=!0,maxWait:m}=o,h=Array(2);u&&(h[0]="leading"),f&&(h[1]="trailing");let p,x=null;const v=t.debounce(function(...w){p=a.apply(this,w),x=null},l,{edges:h}),j=function(...w){return m!=null&&(x===null&&(x=Date.now()),Date.now()-x>=m)?(p=a.apply(this,w),x=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,w),p)},N=()=>(v.flush(),p);return j.cancel=v.cancel,j.flush=N,j}e.debounce=r}(ag)),ag}var XS;function sF(){return XS||(XS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nF();function r(a,l=0,o={}){const{leading:u=!0,trailing:f=!0}=o;return t.debounce(a,l,{leading:u,maxWait:l,trailing:f})}e.throttle=r}(rg)),rg}var sg,WS;function iF(){return WS||(WS=1,sg=sF().throttle),sg}var lF=iF();const oF=un(lF);var mc=function(t,r){for(var a=arguments.length,l=new Array(a>2?a-2:0),o=2;o<a;o++)l[o-2]=arguments[o]};function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(a){cF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cF(e,t,r){return(t=uF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=dF(e,"string");return typeof t=="symbol"?t:t+""}function dF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QS=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:l="100%",height:o="100%",minWidth:u=0,minHeight:f,maxHeight:m,children:h,debounce:p=0,id:x,className:v,onResize:j,style:N={}}=e,w=y.useRef(null),S=y.useRef();S.current=j,y.useImperativeHandle(t,()=>w.current);var[E,_]=y.useState({containerWidth:a.width,containerHeight:a.height}),A=y.useCallback((D,M)=>{_(O=>{var z=Math.round(D),F=Math.round(M);return O.containerWidth===z&&O.containerHeight===F?O:{containerWidth:z,containerHeight:F}})},[]);y.useEffect(()=>{var D=F=>{var W,{width:R,height:H}=F[0].contentRect;A(R,H),(W=S.current)===null||W===void 0||W.call(S,R,H)};p>0&&(D=oF(D,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(D),{width:O,height:z}=w.current.getBoundingClientRect();return A(O,z),M.observe(w.current),()=>{M.disconnect()}},[A,p]);var P=y.useMemo(()=>{var{containerWidth:D,containerHeight:M}=E;if(D<0||M<0)return null;mc(ni(l)||ni(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,o),mc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var O=ni(l)?D:l,z=ni(o)?M:o;return r&&r>0&&(O?z=O/r:z&&(O=z*r),m&&z>m&&(z=m)),mc(O>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,z,l,o,u,f,r),y.Children.map(h,F=>y.cloneElement(F,{width:O,height:z,style:ig({width:O,height:z},F.props.style)}))},[r,h,o,m,f,u,E,l]);return y.createElement("div",{id:x?"".concat(x):void 0,className:ot("recharts-responsive-container",v),style:ig(ig({},N),{},{width:l,height:o,minWidth:u,minHeight:f,maxHeight:m}),ref:w},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),TO=e=>null;TO.displayName="Cell";function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function p0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(a){fF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fF(e,t,r){return(t=mF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xl={widthCache:{},cacheCount:0},pF=2e3,xF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eE="recharts_measurement_span";function gF(e){var t=p0({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var hc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vl.isSsr)return{width:0,height:0};var a=gF(r),l=JSON.stringify({text:t,copyStyle:a});if(xl.widthCache[l])return xl.widthCache[l];try{var o=document.getElementById(eE);o||(o=document.createElement("span"),o.setAttribute("id",eE),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var u=p0(p0({},xF),a);Object.assign(o.style,u),o.textContent="".concat(t);var f=o.getBoundingClientRect(),m={width:f.width,height:f.height};return xl.widthCache[l]=m,++xl.cacheCount>pF&&(xl.cacheCount=0,xl.widthCache={}),m}catch{return{width:0,height:0}}},tE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bF=Object.keys(MO),jl="NaN";function jF(e,t){return e*MO[t]}class kr{static parse(t){var r,[,a,l]=(r=yF.exec(t))!==null&&r!==void 0?r:[];return new kr(parseFloat(a),l??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ra(t)&&(this.unit=""),r!==""&&!vF.test(r)&&(this.num=NaN,this.unit=""),bF.includes(r)&&(this.num=jF(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kr(NaN,""):new kr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kr(NaN,""):new kr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kr(NaN,""):new kr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kr(NaN,""):new kr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ra(this.num)}}function kO(e){if(e.includes(jl))return jl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,l,o]=(r=tE.exec(t))!==null&&r!==void 0?r:[],u=kr.parse(a??""),f=kr.parse(o??""),m=l==="*"?u.multiply(f):u.divide(f);if(m.isNaN())return jl;t=t.replace(tE,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,x,v]=(h=rE.exec(t))!==null&&h!==void 0?h:[],j=kr.parse(p??""),N=kr.parse(v??""),w=x==="+"?j.add(N):j.subtract(N);if(w.isNaN())return jl;t=t.replace(rE,w.toString())}return t}var aE=/\(([^()]*)\)/;function wF(e){for(var t=e,r;(r=aE.exec(t))!=null;){var[,a]=r;t=t.replace(aE,kO(a))}return t}function NF(e){var t=e.replace(/\s+/g,"");return t=wF(t),t=kO(t),t}function SF(e){try{return NF(e)}catch{return jl}}function lg(e){var t=SF(e.slice(5,-1));return t===jl?"":t}var EF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_F=["dx","dy","angle","className","breakAll"];function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x0.apply(null,arguments)}function nE(e,t){if(e==null)return{};var r,a,l=CF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function CF(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var PO=/[ \f\n\r\t\v\u2028\u2029]+/,DO=e=>{var{children:t,breakAll:r,style:a}=e;try{var l=[];xt(t)||(r?l=t.toString().split(""):l=t.toString().split(PO));var o=l.map(f=>({word:f,width:hc(f,a).width})),u=r?0:hc(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},AF=(e,t,r,a,l)=>{var{maxLines:o,children:u,style:f,breakAll:m}=e,h=Te(o),p=u,x=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((H,T)=>{var{word:L,width:B}=T,$=H[H.length-1];if($&&(a==null||l||$.width+B+r<Number(a)))$.words.push(L),$.width+=B+r;else{var q={words:[L],width:B};H.push(q)}return H},[])},v=x(t),j=W=>W.reduce((R,H)=>R.width>H.width?R:H);if(!h||l)return v;var N=v.length>o||j(v).width>Number(a);if(!N)return v;for(var w="…",S=W=>{var R=p.slice(0,W),H=DO({breakAll:m,style:f,children:R+w}).wordsWithComputedWidth,T=x(H),L=T.length>o||j(T).width>Number(a);return[L,T]},E=0,_=p.length-1,A=0,P;E<=_&&A<=p.length-1;){var D=Math.floor((E+_)/2),M=D-1,[O,z]=S(M),[F]=S(D);if(!O&&!F&&(E=D+1),O&&F&&(_=D-1),!O&&F){P=z;break}A++}return P||v},sE=e=>{var t=xt(e)?[]:e.toString().split(PO);return[{words:t}]},OF=e=>{var{width:t,scaleToFit:r,children:a,style:l,breakAll:o,maxLines:u}=e;if((t||r)&&!Vl.isSsr){var f,m,h=DO({breakAll:o,children:a,style:l});if(h){var{wordsWithComputedWidth:p,spaceWidth:x}=h;f=p,m=x}else return sE(a);return AF({breakAll:o,children:a,maxLines:u,style:l},f,m,t,r)}return sE(a)},iE="#808080",fy=y.forwardRef((e,t)=>{var{x:r=0,y:a=0,lineHeight:l="1em",capHeight:o="0.71em",scaleToFit:u=!1,textAnchor:f="start",verticalAnchor:m="end",fill:h=iE}=e,p=nE(e,EF),x=y.useMemo(()=>OF({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:j,angle:N,className:w,breakAll:S}=p,E=nE(p,_F);if(!ln(r)||!ln(a))return null;var _=r+(Te(v)?v:0),A=a+(Te(j)?j:0),P;switch(m){case"start":P=lg("calc(".concat(o,")"));break;case"middle":P=lg("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(o," / 2))"));break;default:P=lg("calc(".concat(x.length-1," * -").concat(l,")"));break}var D=[];if(u){var M=x[0].width,{width:O}=p;D.push("scale(".concat(Te(O)?O/M:1,")"))}return N&&D.push("rotate(".concat(N,", ").concat(_,", ").concat(A,")")),D.length&&(E.transform=D.join(" ")),y.createElement("text",x0({},nt(E,!0),{ref:t,x:_,y:A,className:ot("recharts-text",w),textAnchor:f,fill:h.includes("url")?iE:h}),x.map((z,F)=>{var W=z.words.join(S?"":" ");return y.createElement("tspan",{x:_,dy:F===0?P:l,key:"".concat(W,"-").concat(F)},W)}))});fy.displayName="Text";var TF=["offset"],MF=["labelRef"];function lE(e,t){if(e==null)return{};var r,a,l=kF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function kF(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(a){PF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PF(e,t,r){return(t=DF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DF(e){var t=RF(e,"string");return typeof t=="symbol"?t:t+""}function RF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},On.apply(null,arguments)}var $F=e=>{var{value:t,formatter:r}=e,a=xt(e.children)?t:e.children;return typeof r=="function"?r(a):a},my=e=>e!=null&&typeof e=="function",zF=(e,t)=>{var r=Pr(t-e),a=Math.min(Math.abs(t-e),360);return r*a},LF=(e,t,r)=>{var{position:a,viewBox:l,offset:o,className:u}=e,{cx:f,cy:m,innerRadius:h,outerRadius:p,startAngle:x,endAngle:v,clockWise:j}=l,N=(h+p)/2,w=zF(x,v),S=w>=0?1:-1,E,_;a==="insideStart"?(E=x+S*o,_=j):a==="insideEnd"?(E=v-S*o,_=!j):a==="end"&&(E=v+S*o,_=j),_=w<=0?_:!_;var A=dr(f,m,N,E),P=dr(f,m,N,E+(_?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),M=xt(e.id)?Ol("recharts-radial-line-"):e.id;return y.createElement("text",On({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",u)}),y.createElement("defs",null,y.createElement("path",{id:M,d:D})),y.createElement("textPath",{xlinkHref:"#".concat(M)},t))},UF=e=>{var{viewBox:t,offset:r,position:a}=e,{cx:l,cy:o,innerRadius:u,outerRadius:f,startAngle:m,endAngle:h}=t,p=(m+h)/2;if(a==="outside"){var{x,y:v}=dr(l,o,f+r,p);return{x,y:v,textAnchor:x>=l?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"end"};var j=(u+f)/2,{x:N,y:w}=dr(l,o,j,p);return{x:N,y:w,textAnchor:"middle",verticalAnchor:"middle"}},qF=(e,t)=>{var{parentViewBox:r,offset:a,position:l}=e,{x:o,y:u,width:f,height:m}=t,h=m>=0?1:-1,p=h*a,x=h>0?"end":"start",v=h>0?"start":"end",j=f>=0?1:-1,N=j*a,w=j>0?"end":"start",S=j>0?"start":"end";if(l==="top"){var E={x:o+f/2,y:u-h*a,textAnchor:"middle",verticalAnchor:x};return qt(qt({},E),r?{height:Math.max(u-r.y,0),width:f}:{})}if(l==="bottom"){var _={x:o+f/2,y:u+m+p,textAnchor:"middle",verticalAnchor:v};return qt(qt({},_),r?{height:Math.max(r.y+r.height-(u+m),0),width:f}:{})}if(l==="left"){var A={x:o-N,y:u+m/2,textAnchor:w,verticalAnchor:"middle"};return qt(qt({},A),r?{width:Math.max(A.x-r.x,0),height:m}:{})}if(l==="right"){var P={x:o+f+N,y:u+m/2,textAnchor:S,verticalAnchor:"middle"};return qt(qt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:m}:{})}var D=r?{width:f,height:m}:{};return l==="insideLeft"?qt({x:o+N,y:u+m/2,textAnchor:S,verticalAnchor:"middle"},D):l==="insideRight"?qt({x:o+f-N,y:u+m/2,textAnchor:w,verticalAnchor:"middle"},D):l==="insideTop"?qt({x:o+f/2,y:u+p,textAnchor:"middle",verticalAnchor:v},D):l==="insideBottom"?qt({x:o+f/2,y:u+m-p,textAnchor:"middle",verticalAnchor:x},D):l==="insideTopLeft"?qt({x:o+N,y:u+p,textAnchor:S,verticalAnchor:v},D):l==="insideTopRight"?qt({x:o+f-N,y:u+p,textAnchor:w,verticalAnchor:v},D):l==="insideBottomLeft"?qt({x:o+N,y:u+m-p,textAnchor:S,verticalAnchor:x},D):l==="insideBottomRight"?qt({x:o+f-N,y:u+m-p,textAnchor:w,verticalAnchor:x},D):l&&typeof l=="object"&&(Te(l.x)||ni(l.x))&&(Te(l.y)||ni(l.y))?qt({x:o+Ba(l.x,f),y:u+Ba(l.y,m),textAnchor:"end",verticalAnchor:"end"},D):qt({x:o+f/2,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},D)},BF=e=>"cx"in e&&Te(e.cx);function Qr(e){var{offset:t=5}=e,r=lE(e,TF),a=qt({offset:t},r),{viewBox:l,position:o,value:u,children:f,content:m,className:h="",textBreakAll:p,labelRef:x}=a,v=fv(),j=l||v;if(!j||xt(u)&&xt(f)&&!y.isValidElement(m)&&typeof m!="function")return null;if(y.isValidElement(m)){var{labelRef:N}=a,w=lE(a,MF);return y.cloneElement(m,w)}var S;if(typeof m=="function"){if(S=y.createElement(m,a),y.isValidElement(S))return S}else S=$F(a);var E=BF(j),_=nt(a,!0);if(E&&(o==="insideStart"||o==="insideEnd"||o==="end"))return LF(a,S,_);var A=E?UF(a):qF(a,j);return y.createElement(fy,On({ref:x,className:ot("recharts-label",h)},_,A,{breakAll:p}),S)}Qr.displayName="Label";var RO=e=>{var{cx:t,cy:r,angle:a,startAngle:l,endAngle:o,r:u,radius:f,innerRadius:m,outerRadius:h,x:p,y:x,top:v,left:j,width:N,height:w,clockWise:S,labelViewBox:E}=e;if(E)return E;if(Te(N)&&Te(w)){if(Te(p)&&Te(x))return{x:p,y:x,width:N,height:w};if(Te(v)&&Te(j))return{x:v,y:j,width:N,height:w}}if(Te(p)&&Te(x))return{x:p,y:x,width:0,height:0};if(Te(t)&&Te(r))return{cx:t,cy:r,startAngle:l||a||0,endAngle:o||a||0,innerRadius:m||0,outerRadius:h||f||u||0,clockWise:S};if(e.viewBox)return e.viewBox},IF=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?y.createElement(Qr,On({key:"label-implicit"},a)):ln(e)?y.createElement(Qr,On({key:"label-implicit",value:e},a)):y.isValidElement(e)?e.type===Qr?y.cloneElement(e,qt({key:"label-implicit"},a)):y.createElement(Qr,On({key:"label-implicit",content:e},a)):my(e)?y.createElement(Qr,On({key:"label-implicit",content:e},a)):e&&typeof e=="object"?y.createElement(Qr,On({},e,{key:"label-implicit"},a)):null},FF=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var{children:l,labelRef:o}=t,u=RO(t),f=V0(l,Qr).map((h,p)=>y.cloneElement(h,{viewBox:r||u,key:"label-".concat(p)}));if(!a)return f;var m=IF(t.label,r||u,o);return[m,...f]};Qr.parseViewBox=RO;Qr.renderCallByParent=FF;var og={},cg={},cE;function HF(){return cE||(cE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(cg)),cg}var ug={},uE;function VF(){return uE||(uE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(ug)),ug}var dE;function GF(){return dE||(dE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HF(),r=VF(),a=J0();function l(o){if(a.isArrayLike(o))return t.last(r.toArray(o))}e.last=l}(og)),og}var dg,fE;function KF(){return fE||(fE=1,dg=GF().last),dg}var YF=KF();const XF=un(YF);var WF=["valueAccessor"],ZF=["data","dataKey","clockWise","id","textBreakAll"];function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mf.apply(null,arguments)}function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function hE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(a){QF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function QF(e,t,r){return(t=JF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JF(e){var t=eH(e,"string");return typeof t=="symbol"?t:t+""}function eH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pE(e,t){if(e==null)return{};var r,a,l=tH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function tH(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var rH=e=>Array.isArray(e.value)?XF(e.value):e.value;function Na(e){var{valueAccessor:t=rH}=e,r=pE(e,WF),{data:a,dataKey:l,clockWise:o,id:u,textBreakAll:f}=r,m=pE(r,ZF);return!a||!a.length?null:y.createElement(aa,{className:"recharts-label-list"},a.map((h,p)=>{var x=xt(l)?t(h,p):jr(h&&h.payload,l),v=xt(u)?{}:{id:"".concat(u,"-").concat(p)};return y.createElement(Qr,mf({},nt(h,!0),m,v,{parentViewBox:h.parentViewBox,value:x,textBreakAll:f,viewBox:Qr.parseViewBox(xt(o)?h:hE(hE({},h),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Na.displayName="LabelList";function aH(e,t){return e?e===!0?y.createElement(Na,{key:"labelList-implicit",data:t}):y.isValidElement(e)||my(e)?y.createElement(Na,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?y.createElement(Na,mf({data:t},e,{key:"labelList-implicit"})):null:null}function nH(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:a}=e,l=V0(a,Na).map((u,f)=>y.cloneElement(u,{data:t,key:"labelList-".concat(f)}));if(!r)return l;var o=aH(e.label,t);return[o,...l]}Na.renderCallByParent=nH;function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},g0.apply(null,arguments)}var $O=e=>{var{cx:t,cy:r,r:a,className:l}=e,o=ot("recharts-dot",l);return t===+t&&r===+r&&a===+a?y.createElement("circle",g0({},nt(e,!1),H0(e),{className:o,cx:t,cy:r,r:a})):null},sH={radiusAxis:{},angleAxis:{}},zO=Aa({name:"polarAxis",initialState:sH,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:iW,removeRadiusAxis:lW,addAngleAxis:oW,removeAngleAxis:cW}=zO.actions,iH=zO.reducer,lH={countOfBars:0,cartesianItems:[],polarItems:[]},LO=Aa({name:"graphicalItems",initialState:lH,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:a}=t.payload,l=Dn(e).cartesianItems.indexOf(r);l>-1&&(e.cartesianItems[l]=a)},removeCartesianGraphicalItem(e,t){var r=Dn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Dn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:oH,removeBar:cH,addCartesianGraphicalItem:uH,replaceCartesianGraphicalItem:dH,removeCartesianGraphicalItem:fH,addPolarGraphicalItem:uW,removePolarGraphicalItem:dW}=LO.actions,mH=LO.reducer;function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function gE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(a){hH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hH(e,t,r){return(t=pH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=xH(e,"string");return typeof t=="symbol"?t:t+""}function xH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gH(e){var t=zt(),r=y.useRef(null);return y.useEffect(()=>{var a=gE(gE({},e),{},{stackId:o4(e.stackId)});r.current===null?t(uH(a)):r.current!==a&&t(dH({prev:r.current,next:a})),r.current=a},[t,e]),y.useEffect(()=>()=>{r.current&&(t(fH(r.current)),r.current=null)},[t]),null}var fg={},vE;function vH(){return vE||(vE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const l=r[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${l}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t}(fg)),fg}var mg,yE;function yH(){return yE||(yE=1,mg=vH().isPlainObject),mg}var bH=yH();const jH=un(bH);function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hf.apply(null,arguments)}var bE=(e,t,r,a,l)=>{var o=r-a,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+r,",").concat(t),u+="L ".concat(e+r-o/2,",").concat(t+l),u+="L ".concat(e+r-o/2-a,",").concat(t+l),u+="L ".concat(e,",").concat(t," Z"),u},wH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NH=e=>{var t=Kn(e,wH),r=y.useRef(),[a,l]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var{x:o,y:u,upperWidth:f,lowerWidth:m,height:h,className:p}=t,{animationEasing:x,animationDuration:v,animationBegin:j,isUpdateAnimationActive:N}=t;if(o!==+o||u!==+u||f!==+f||m!==+m||h!==+h||f===0&&m===0||h===0)return null;var w=ot("recharts-trapezoid",p);return N?y.createElement(bi,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:o,y:u},to:{upperWidth:f,lowerWidth:m,height:h,x:o,y:u},duration:v,animationEasing:x,isActive:N},S=>{var{upperWidth:E,lowerWidth:_,height:A,x:P,y:D}=S;return y.createElement(bi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:v,easing:x},y.createElement("path",hf({},nt(t,!0),{className:w,d:bE(P,D,E,_,A),ref:r})))}):y.createElement("g",null,y.createElement("path",hf({},nt(t,!0),{className:w,d:bE(o,u,f,m,h)})))},SH=["option","shapeType","propTransformer","activeClassName","isActive"];function EH(e,t){if(e==null)return{};var r,a,l=_H(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function _H(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(a){CH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function CH(e,t,r){return(t=AH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=OH(e,"string");return typeof t=="symbol"?t:t+""}function OH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TH(e,t){return pf(pf({},t),e)}function MH(e,t){return e==="symbols"}function wE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(v4,r);case"trapezoid":return y.createElement(NH,r);case"sector":return y.createElement(j4,r);case"symbols":if(MH(t))return y.createElement(W0,r);break;default:return null}}function kH(e){return y.isValidElement(e)?e.props:e}function PH(e){var{option:t,shapeType:r,propTransformer:a=TH,activeClassName:l="recharts-active-shape",isActive:o}=e,u=EH(e,SH),f;if(y.isValidElement(t))f=y.cloneElement(t,pf(pf({},u),kH(t)));else if(typeof t=="function")f=t(u);else if(jH(t)&&typeof t!="boolean"){var m=a(t,u);f=y.createElement(wE,{shapeType:r,elementProps:m})}else{var h=u;f=y.createElement(wE,{shapeType:r,elementProps:h})}return o?y.createElement(aa,{className:l},f):f}var UO=(e,t)=>{var r=zt();return(a,l)=>o=>{e?.(a,l,o),r(iO({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},qO=e=>{var t=zt();return(r,a)=>l=>{e?.(r,a,l),t(PB())}},BO=(e,t)=>{var r=zt();return(a,l)=>o=>{e?.(a,l,o),r(DB({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function IO(e){var{fn:t,args:r}=e,a=zt(),l=Er();return y.useEffect(()=>{if(!l){var o=t(r);return a(TB(o)),()=>{a(MB(o))}}},[t,r,a,l]),null}var DH=()=>{};function FO(e){var{legendPayload:t}=e,r=zt(),a=Er();return y.useEffect(()=>a?DH:(r(iL(t)),()=>{r(lL(t))}),[r,a,t]),null}function HO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(Ol(t)),a=y.useRef(e);return a.current!==e&&(r.current=Ol(t),a.current=e),r.current}var RH=ue([Jt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),$H=ue([RH,Vn,Gn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),zH=e=>{var t=Er();return De(r=>cn(r,"xAxis",e,t))},LH=e=>{var t=Er();return De(r=>cn(r,"yAxis",e,t))},hy=()=>De($H),UH=()=>De(vI);function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function SE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(a){qH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qH(e,t,r){return(t=BH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FH=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:l,dataKey:o}=e;if(l===!1||t.x==null||t.y==null)return null;var u=SE(SE({index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},nt(l,!1)),H0(l)),f;return y.isValidElement(l)?f=y.cloneElement(l,u):typeof l=="function"?f=l(u):f=y.createElement($O,u),y.createElement(aa,{className:"recharts-active-dot"},f)};function HH(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:l}=e,o=De(wi),u=UH();if(t==null||u==null)return null;var f=t.find(m=>u.includes(m.payload));return xt(f)?null:FH({point:f,childIndex:Number(o),mainColor:r,dataKey:l,activeDot:a})}var VH=()=>{var e=zt();return y.useEffect(()=>(e(oH()),()=>{e(cH())})),null},GH=["children"];function KH(e,t){if(e==null)return{};var r,a,l=YH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function YH(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var EE=()=>{},VO=y.createContext({addErrorBar:EE,removeErrorBar:EE}),XH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},GO=y.createContext(XH);function KO(e){var{children:t}=e,r=KH(e,GH);return y.createElement(GO.Provider,{value:r},t)}var WH=()=>y.useContext(GO),YO=e=>{var{children:t,xAxisId:r,yAxisId:a,zAxisId:l,dataKey:o,data:u,stackId:f,hide:m,type:h,barSize:p}=e,[x,v]=y.useState([]),j=y.useCallback(S=>{v(E=>[...E,S])},[v]),N=y.useCallback(S=>{v(E=>E.filter(_=>_!==S))},[v]),w=Er();return y.createElement(VO.Provider,{value:{addErrorBar:j,removeErrorBar:N}},y.createElement(gH,{type:h,data:u,xAxisId:r,yAxisId:a,zAxisId:l,dataKey:o,errorBars:x,stackId:f,hide:m,barSize:p,isPanorama:w}),t)};function ZH(e){var{addErrorBar:t,removeErrorBar:r}=y.useContext(VO);return y.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var QH=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function XO(e,t,r){return(t=JH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JH(e){var t=eV(e,"string");return typeof t=="symbol"?t:t+""}function eV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Oc.apply(null,arguments)}function tV(e,t){if(e==null)return{};var r,a,l=rV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function rV(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function aV(e){var{direction:t,width:r,dataKey:a,isAnimationActive:l,animationBegin:o,animationDuration:u,animationEasing:f}=e,m=tV(e,QH),h=nt(m,!1),{data:p,dataPointFormatter:x,xAxisId:v,yAxisId:j,errorBarOffset:N}=WH(),w=zH(v),S=LH(j);if(w?.scale==null||S?.scale==null||p==null||t==="x"&&w.type!=="number")return null;var E=p.map(_=>{var{x:A,y:P,value:D,errorVal:M}=x(_,a,t);if(!M)return null;var O=[],z,F;if(Array.isArray(M)?[z,F]=M:z=F=M,t==="x"){var{scale:W}=w,R=P+N,H=R+r,T=R-r,L=W(D-z),B=W(D+F);O.push({x1:B,y1:H,x2:B,y2:T}),O.push({x1:L,y1:R,x2:B,y2:R}),O.push({x1:L,y1:H,x2:L,y2:T})}else if(t==="y"){var{scale:$}=S,q=A+N,Z=q-r,le=q+r,U=$(D-z),X=$(D+F);O.push({x1:Z,y1:X,x2:le,y2:X}),O.push({x1:q,y1:U,x2:q,y2:X}),O.push({x1:Z,y1:U,x2:le,y2:U})}var ne="".concat(A+N,"px ").concat(P+N,"px");return y.createElement(aa,Oc({className:"recharts-errorBar",key:"bar-".concat(O.map(ie=>"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)))},h),O.map(ie=>{var G=l?{transformOrigin:"".concat(ie.x1-5,"px")}:void 0;return y.createElement(bi,{from:{transform:"scaleY(0)",transformOrigin:ne},to:{transform:"scaleY(1)",transformOrigin:ne},begin:o,easing:f,isActive:l,duration:u,key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2),style:{transformOrigin:ne}},y.createElement("line",Oc({},ie,{style:G})))}))});return y.createElement(aa,{className:"recharts-errorBars"},E)}var WO=y.createContext(void 0);function nV(e){var t=y.useContext(WO);return e??t??"x"}function ZO(e){var{direction:t,children:r}=e;return y.createElement(WO.Provider,{value:t},r)}var QO={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function sV(e){var t=nV(e.direction),{width:r,isAnimationActive:a,animationBegin:l,animationDuration:o,animationEasing:u}=Kn(e,QO);return y.createElement(y.Fragment,null,y.createElement(ZH,{dataKey:e.dataKey,direction:t}),y.createElement(aV,Oc({},e,{direction:t,width:r,isAnimationActive:a,animationBegin:l,animationDuration:o,animationEasing:u})))}class JO extends y.Component{render(){return y.createElement(sV,this.props)}}XO(JO,"defaultProps",QO);XO(JO,"displayName","ErrorBar");var iV="Invariant failed";function lV(e,t){throw new Error(iV)}var oV=["x","y"];function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v0.apply(null,arguments)}function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(a){cV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cV(e,t,r){return(t=uV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uV(e){var t=dV(e,"string");return typeof t=="symbol"?t:t+""}function dV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fV(e,t){if(e==null)return{};var r,a,l=mV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function mV(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function hV(e,t){var{x:r,y:a}=e,l=fV(e,oV),o="".concat(r),u=parseInt(o,10),f="".concat(a),m=parseInt(f,10),h="".concat(t.height||l.height),p=parseInt(h,10),x="".concat(t.width||l.width),v=parseInt(x,10);return lc(lc(lc(lc(lc({},t),l),u?{x:u}:{}),m?{y:m}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function eT(e){return y.createElement(PH,v0({shapeType:"rectangle",propTransformer:hV,activeClassName:"recharts-active-bar"},e))}var pV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,l)=>{if(Te(t))return t;var o=Te(a)||xt(a);return o?t(a,l):(o||lV(),r)}};function py(e,t){var r,a,l=De(h=>Xn(h,e)),o=De(h=>Ds(h,t)),u=(r=l?.allowDataOverflow)!==null&&r!==void 0?r:Kr.allowDataOverflow,f=(a=o?.allowDataOverflow)!==null&&a!==void 0?a:Yr.allowDataOverflow,m=u||f;return{needClip:m,needClipX:u,needClipY:f}}function tT(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,l=hy(),{needClipX:o,needClipY:u,needClip:f}=py(t,r);if(!f)return null;var{x:m,y:h,width:p,height:x}=l;return y.createElement("clipPath",{id:"clipPath-".concat(a)},y.createElement("rect",{x:o?m:m-p/2,y:u?h:h-x/2,width:o?p:p*2,height:u?x:x*2}))}var xV=["onMouseEnter","onMouseLeave","onClick"],gV=["value","background","tooltipPosition"],vV=["onMouseEnter","onClick","onMouseLeave"];function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tc.apply(null,arguments)}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(a){mm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mm(e,t,r){return(t=yV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y0(e,t){if(e==null)return{};var r,a,l=jV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function jV(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var wV=e=>{var{dataKey:t,name:r,fill:a,legendType:l,hide:o}=e;return[{inactive:o,dataKey:t,type:l,color:a,value:Hf(r,t),payload:e}]};function NV(e){var{dataKey:t,stroke:r,strokeWidth:a,fill:l,name:o,hide:u,unit:f}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:l,dataKey:t,nameKey:void 0,name:Hf(o,t),hide:u,type:e.tooltipType,color:e.fill,unit:f}}}function SV(e){var t=De(wi),{data:r,dataKey:a,background:l,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:f,onClick:m}=o,h=y0(o,xV),p=UO(u,a),x=qO(f),v=BO(m,a);if(!l||r==null)return null;var j=nt(l,!1);return y.createElement(y.Fragment,null,r.map((N,w)=>{var{value:S,background:E,tooltipPosition:_}=N,A=y0(N,gV);if(!E)return null;var P=p(N,w),D=x(N,w),M=v(N,w),O=gr(gr(gr(gr(gr({option:l,isActive:String(w)===t},A),{},{fill:"#eee"},E),j),Pf(h,N,w)),{},{onMouseEnter:P,onMouseLeave:D,onClick:M,dataKey:a,index:w,className:"recharts-bar-background-rectangle"});return y.createElement(eT,Tc({key:"background-bar-".concat(w)},O))}))}function rT(e){var{data:t,props:r,showLabels:a}=e,l=nt(r,!1),{shape:o,dataKey:u,activeBar:f}=r,m=De(wi),h=De(yO),{onMouseEnter:p,onClick:x,onMouseLeave:v}=r,j=y0(r,vV),N=UO(p,u),w=qO(v),S=BO(x,u);return t?y.createElement(y.Fragment,null,t.map((E,_)=>{var A=f&&String(_)===m&&(h==null||u===h),P=A?f:o,D=gr(gr(gr({},l),E),{},{isActive:A,option:P,index:_,dataKey:u});return y.createElement(aa,Tc({className:"recharts-bar-rectangle"},Pf(j,E,_),{onMouseEnter:N(E,_),onMouseLeave:w(E,_),onClick:S(E,_),key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(_)}),y.createElement(eT,D))}),a&&Na.renderCallByParent(r,t)):null}function EV(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:l,isAnimationActive:o,animationBegin:u,animationDuration:f,animationEasing:m,onAnimationEnd:h,onAnimationStart:p}=t,x=r.current,v=HO(t,"recharts-bar-"),[j,N]=y.useState(!1),w=y.useCallback(()=>{typeof h=="function"&&h(),N(!1)},[h]),S=y.useCallback(()=>{typeof p=="function"&&p(),N(!0)},[p]);return y.createElement(bi,{begin:u,duration:f,isActive:o,easing:m,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:S,key:v},E=>{var{t:_}=E,A=_===1?a:a.map((P,D)=>{var M=x&&x[D];if(M){var O=$a(M.x,P.x),z=$a(M.y,P.y),F=$a(M.width,P.width),W=$a(M.height,P.height);return gr(gr({},P),{},{x:O(_),y:z(_),width:F(_),height:W(_)})}if(l==="horizontal"){var R=$a(0,P.height),H=R(_);return gr(gr({},P),{},{y:P.y+P.height-H,height:H})}var T=$a(0,P.width),L=T(_);return gr(gr({},P),{},{width:L})});return _>0&&(r.current=A),y.createElement(aa,null,y.createElement(rT,{props:t,data:A,showLabels:!j}))})}function _V(e){var{data:t,isAnimationActive:r}=e,a=y.useRef(null);return r&&t&&t.length&&(a.current==null||a.current!==t)?y.createElement(EV,{previousRectanglesRef:a,props:e}):y.createElement(rT,{props:e,data:t,showLabels:!0})}var aT=0,CV=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:jr(e,t)}};class AV extends y.PureComponent{constructor(){super(...arguments),mm(this,"id",Ol("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:a,className:l,xAxisId:o,yAxisId:u,needClip:f,background:m,id:h,layout:p}=this.props;if(t)return null;var x=ot("recharts-bar",l),v=xt(h)?this.id:h;return y.createElement(aa,{className:x},f&&y.createElement("defs",null,y.createElement(tT,{clipPathId:v,xAxisId:o,yAxisId:u})),y.createElement(aa,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(v,")"):null},y.createElement(SV,{data:r,dataKey:a,background:m,allOtherBarProps:this.props}),y.createElement(_V,this.props)),y.createElement(ZO,{direction:p==="horizontal"?"y":"x"},this.props.children))}}var nT={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Vl.isSsr,legendType:"rect",minPointSize:aT,xAxisId:0,yAxisId:0};function OV(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:l,minPointSize:o,activeBar:u,animationBegin:f,animationDuration:m,animationEasing:h,isAnimationActive:p}=Kn(e,nT),{needClip:x}=py(t,r),v=Yf(),j=Er(),N=y.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:o,stackId:o4(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,o,e.stackId]),w=V0(e.children,TO),S=De(A=>aG(A,t,r,j,N,w));if(v!=="vertical"&&v!=="horizontal")return null;var E,_=S?.[0];return _==null||_.height==null||_.width==null?E=0:E=v==="vertical"?_.height/2:_.width/2,y.createElement(KO,{xAxisId:t,yAxisId:r,data:S,dataPointFormatter:CV,errorBarOffset:E},y.createElement(AV,Tc({},e,{layout:v,needClip:x,data:S,xAxisId:t,yAxisId:r,hide:a,legendType:l,minPointSize:o,activeBar:u,animationBegin:f,animationDuration:m,animationEasing:h,isAnimationActive:p})))}function TV(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:l,bandSize:o,xAxis:u,yAxis:f,xAxisTicks:m,yAxisTicks:h,stackedData:p,displayedData:x,offset:v,cells:j}=e,N=t==="horizontal"?f:u,w=p?N.scale.domain():null,S=Uz({numericAxis:N});return x.map((E,_)=>{var A,P,D,M,O,z;p?A=Dz(p[_],w):(A=jr(E,r),Array.isArray(A)||(A=[S,A]));var F=pV(a,aT)(A[1],_);if(t==="horizontal"){var W,[R,H]=[f.scale(A[0]),f.scale(A[1])];P=m2({axis:u,ticks:m,bandSize:o,offset:l.offset,entry:E,index:_}),D=(W=H??R)!==null&&W!==void 0?W:void 0,M=l.size;var T=R-H;if(O=ra(T)?0:T,z={x:P,y:v.top,width:M,height:v.height},Math.abs(F)>0&&Math.abs(O)<Math.abs(F)){var L=Pr(O||F)*(Math.abs(F)-Math.abs(O));D-=L,O+=L}}else{var[B,$]=[u.scale(A[0]),u.scale(A[1])];if(P=B,D=m2({axis:f,ticks:h,bandSize:o,offset:l.offset,entry:E,index:_}),M=$-B,O=l.size,z={x:v.left,y:D,width:v.width,height:O},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var q=Pr(M||F)*(Math.abs(F)-Math.abs(M));M+=q}}var Z=gr(gr({},E),{},{x:P,y:D,width:M,height:O,value:p?A:A[1],payload:E,background:z,tooltipPosition:{x:P+M/2,y:D+O/2}},j&&j[_]&&j[_].props);return Z})}class wl extends y.PureComponent{render(){return y.createElement(YO,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},y.createElement(VH,null),y.createElement(FO,{legendPayload:wV(this.props)}),y.createElement(IO,{fn:NV,args:this.props}),y.createElement(OV,this.props))}}mm(wl,"displayName","Bar");mm(wl,"defaultProps",nT);function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(a){MV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function MV(e,t,r){return(t=kV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kV(e){var t=PV(e,"string");return typeof t=="symbol"?t:t+""}function PV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DV=(e,t)=>t,RV=(e,t,r)=>r,$V=(e,t,r,a)=>a,xy=(e,t,r,a,l)=>l,zV=(e,t,r,a,l)=>l.maxBarSize,LV=(e,t,r,a,l,o)=>o,OE=(e,t,r)=>{var a=r??e;if(!xt(a))return Ba(a,t,0)},UV=ue([ct,im,DV,RV,$V],(e,t,r,a,l)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===a).filter(o=>o.isPanorama===l).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),qV=(e,t,r,a)=>{var l=ct(e);return l==="horizontal"?u0(e,"yAxis",r,a):u0(e,"xAxis",t,a)},BV=(e,t,r)=>{var a=ct(e);return a==="horizontal"?kS(e,"xAxis",t):kS(e,"yAxis",r)};function IV(e){return e.stackId!=null&&e.dataKey!=null}var FV=(e,t,r)=>{var a={},l=e.filter(IV),o=e.filter(h=>h.stackId==null),u=l.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),a),f=Object.entries(u).map(h=>{var[p,x]=h,v=x.map(N=>N.dataKey),j=OE(t,r,x[0].barSize);return{stackId:p,dataKeys:v,barSize:j}}),m=o.map(h=>{var p=[h.dataKey].filter(v=>v!=null),x=OE(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:x}});return[...f,...m]},HV=ue([UV,Aq,BV],FV),VV=(e,t,r,a,l)=>{var o,u,f=ct(e),m=gA(e),{maxBarSize:h}=l,p=xt(h)?m:h,x,v;return f==="horizontal"?(x=cn(e,"xAxis",t,a),v=Ts(e,"xAxis",t,a)):(x=cn(e,"yAxis",r,a),v=Ts(e,"yAxis",r,a)),(o=(u=bc(x,v,!0))!==null&&u!==void 0?u:p)!==null&&o!==void 0?o:0},sT=(e,t,r,a)=>{var l=ct(e),o,u;return l==="horizontal"?(o=cn(e,"xAxis",t,a),u=Ts(e,"xAxis",t,a)):(o=cn(e,"yAxis",r,a),u=Ts(e,"yAxis",r,a)),bc(o,u)};function GV(e,t,r,a,l){var o=a.length;if(!(o<1)){var u=Ba(e,r,0,!0),f,m=[];if(ia(a[0].barSize)){var h=!1,p=r/o,x=a.reduce((E,_)=>E+(_.barSize||0),0);x+=(o-1)*u,x>=r&&(x-=(o-1)*u,u=0),x>=r&&p>0&&(h=!0,p*=.9,x=o*p);var v=(r-x)/2>>0,j={offset:v-u,size:0};f=a.reduce((E,_)=>{var A,P={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:j.offset+j.size+u,size:h?p:(A=_.barSize)!==null&&A!==void 0?A:0}},D=[...E,P];return j=D[D.length-1].position,D},m)}else{var N=Ba(t,r,0,!0);r-2*N-(o-1)*u<=0&&(u=0);var w=(r-2*N-(o-1)*u)/o;w>1&&(w>>=0);var S=ia(l)?Math.min(w,l):w;f=a.reduce((E,_,A)=>[...E,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:N+(w+u)*A+(w-S)/2,size:S}}],m)}return f}}var KV=(e,t,r,a,l,o,u)=>{var f=xt(u)?t:u,m=GV(r,a,l!==o?l:o,e,f);return l!==o&&m!=null&&(m=m.map(h=>jd(jd({},h),{},{position:jd(jd({},h.position),{},{offset:h.position.offset-l/2})}))),m},YV=ue([HV,gA,Cq,vA,VV,sT,zV],KV),XV=(e,t,r,a)=>cn(e,"xAxis",t,a),WV=(e,t,r,a)=>cn(e,"yAxis",r,a),ZV=(e,t,r,a)=>Ts(e,"xAxis",t,a),QV=(e,t,r,a)=>Ts(e,"yAxis",r,a),JV=ue([YV,xy],(e,t)=>{if(e!=null){var r=e.find(a=>a.stackId===t.stackId&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),eG=(e,t)=>{if(!(!e||t?.dataKey==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:l}=a;if(l){var o=l.find(u=>u.key===t.dataKey);return o}}}}},tG=ue([im,xy],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),rG=ue([qV,xy],eG),aG=ue([Jt,XV,WV,ZV,QV,JV,ct,qv,sT,rG,tG,LV],(e,t,r,a,l,o,u,f,m,h,p,x)=>{var{chartData:v,dataStartIndex:j,dataEndIndex:N}=f;if(!(p==null||o==null||u!=="horizontal"&&u!=="vertical"||t==null||r==null||a==null||l==null||m==null)){var{data:w}=p,S;if(w!=null&&w.length>0?S=w:S=v?.slice(j,N+1),S!=null)return TV({layout:u,barSettings:p,pos:o,bandSize:m,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:l,stackedData:h,displayedData:S,offset:e,cells:x})}}),nG=e=>{var{chartData:t}=e,r=zt(),a=Er();return y.useEffect(()=>a?()=>{}:(r(IS(t)),()=>{r(IS(void 0))}),[t,r,a]),null},TE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},iT=Aa({name:"brush",initialState:TE,reducers:{setBrushSettings(e,t){return t.payload==null?TE:t.payload}}}),{setBrushSettings:fW}=iT.actions,sG=iT.reducer;function iG(e,t,r){return(t=lG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gy{static create(t){return new gy(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],l=r[r.length-1];return a<=l?t>=a&&t<=l:t>=l&&t<=a}}iG(gy,"EPS",1e-4);function cG(e){return(e%180+180)%180}var uG=function(t){var{width:r,height:a}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=cG(l),u=o*Math.PI/180,f=Math.atan(a/r),m=u>f&&u<Math.PI-f?a/Math.sin(u):r/Math.cos(u);return Math.abs(m)},dG={dots:[],areas:[],lines:[]},lT=Aa({name:"referenceElements",initialState:dG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Dn(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Dn(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Dn(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:mW,removeDot:hW,addArea:pW,removeArea:xW,addLine:gW,removeLine:vW}=lT.actions,fG=lT.reducer,mG=y.createContext(void 0),hG=e=>{var{children:t}=e,[r]=y.useState("".concat(Ol("recharts"),"-clip")),a=hy();if(a==null)return null;var{x:l,y:o,width:u,height:f}=a;return y.createElement(mG.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:l,y:o,height:f,width:u}))),t)};function hg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function oT(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],l=0;l<e.length;l+=t)a.push(e[l]);return a}function pG(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return uG(a,r)}function xG(e,t,r){var a=r==="width",{x:l,y:o,width:u,height:f}=e;return t===1?{start:a?l:o,end:a?l+u:o+f}:{start:a?l+u:o+f,end:a?l:o}}function xf(e,t,r,a,l){if(e*t<e*a||e*t>e*l)return!1;var o=r();return e*(t-e*o/2-a)>=0&&e*(t+e*o/2-l)<=0}function gG(e,t){return oT(e,t+1)}function vG(e,t,r,a,l){for(var o=(a||[]).slice(),{start:u,end:f}=t,m=0,h=1,p=u,x=function(){var N=a?.[m];if(N===void 0)return{v:oT(a,h)};var w=m,S,E=()=>(S===void 0&&(S=r(N,w)),S),_=N.coordinate,A=m===0||xf(e,_,E,p,f);A||(m=0,p=u,h+=1),A&&(p=_+e*(E()/2+l),m+=h)},v;h<=o.length;)if(v=x(),v)return v.v;return[]}function ME(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(r),!0).forEach(function(a){yG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yG(e,t,r){return(t=bG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=jG(e,"string");return typeof t=="symbol"?t:t+""}function jG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wG(e,t,r,a,l){for(var o=(a||[]).slice(),u=o.length,{start:f}=t,{end:m}=t,h=function(v){var j=o[v],N,w=()=>(N===void 0&&(N=r(j,v)),N);if(v===u-1){var S=e*(j.coordinate+e*w()/2-m);o[v]=j=xr(xr({},j),{},{tickCoord:S>0?j.coordinate-S*e:j.coordinate})}else o[v]=j=xr(xr({},j),{},{tickCoord:j.coordinate});var E=xf(e,j.tickCoord,w,f,m);E&&(m=j.tickCoord-e*(w()/2+l),o[v]=xr(xr({},j),{},{isShow:!0}))},p=u-1;p>=0;p--)h(p);return o}function NG(e,t,r,a,l,o){var u=(a||[]).slice(),f=u.length,{start:m,end:h}=t;if(o){var p=a[f-1],x=r(p,f-1),v=e*(p.coordinate+e*x/2-h);u[f-1]=p=xr(xr({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var j=xf(e,p.tickCoord,()=>x,m,h);j&&(h=p.tickCoord-e*(x/2+l),u[f-1]=xr(xr({},p),{},{isShow:!0}))}for(var N=o?f-1:f,w=function(_){var A=u[_],P,D=()=>(P===void 0&&(P=r(A,_)),P);if(_===0){var M=e*(A.coordinate-e*D()/2-m);u[_]=A=xr(xr({},A),{},{tickCoord:M<0?A.coordinate-M*e:A.coordinate})}else u[_]=A=xr(xr({},A),{},{tickCoord:A.coordinate});var O=xf(e,A.tickCoord,D,m,h);O&&(m=A.tickCoord+e*(D()/2+l),u[_]=xr(xr({},A),{},{isShow:!0}))},S=0;S<N;S++)w(S);return u}function vy(e,t,r){var{tick:a,ticks:l,viewBox:o,minTickGap:u,orientation:f,interval:m,tickFormatter:h,unit:p,angle:x}=e;if(!l||!l.length||!a)return[];if(Te(m)||Vl.isSsr){var v;return(v=gG(l,Te(m)?m:0))!==null&&v!==void 0?v:[]}var j=[],N=f==="top"||f==="bottom"?"width":"height",w=p&&N==="width"?hc(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},S=(A,P)=>{var D=typeof h=="function"?h(A.value,P):A.value;return N==="width"?pG(hc(D,{fontSize:t,letterSpacing:r}),w,x):hc(D,{fontSize:t,letterSpacing:r})[N]},E=l.length>=2?Pr(l[1].coordinate-l[0].coordinate):1,_=xG(o,E,N);return m==="equidistantPreserveStart"?vG(E,_,S,l,u):(m==="preserveStart"||m==="preserveStartEnd"?j=NG(E,_,S,l,u,m==="preserveStartEnd"):j=wG(E,_,S,l,u),j.filter(A=>A.isShow))}var SG=["viewBox"],EG=["viewBox"];function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nl.apply(null,arguments)}function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(a){yy(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PE(e,t){if(e==null)return{};var r,a,l=_G(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function _G(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function yy(e,t,r){return(t=CG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Rs extends y.Component{constructor(t){super(t),this.tickRefs=y.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:a}=t,l=PE(t,SG),o=this.props,{viewBox:u}=o,f=PE(o,EG);return!hg(a,u)||!hg(l,f)||!hg(r,this.state)}getTickLineCoord(t){var{x:r,y:a,width:l,height:o,orientation:u,tickSize:f,mirror:m,tickMargin:h}=this.props,p,x,v,j,N,w,S=m?-1:1,E=t.tickSize||f,_=Te(t.tickCoord)?t.tickCoord:t.coordinate;switch(u){case"top":p=x=t.coordinate,j=a+ +!m*o,v=j-S*E,w=v-S*h,N=_;break;case"left":v=j=t.coordinate,x=r+ +!m*l,p=x-S*E,N=p-S*h,w=_;break;case"right":v=j=t.coordinate,x=r+ +m*l,p=x+S*E,N=p+S*h,w=_;break;default:p=x=t.coordinate,j=a+ +m*o,v=j+S*E,w=v+S*h,N=_;break}return{line:{x1:p,y1:v,x2:x,y2:j},tick:{x:N,y:w}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,a;switch(t){case"left":a=r?"start":"end";break;case"right":a=r?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:a,height:l,orientation:o,mirror:u,axisLine:f}=this.props,m=Ht(Ht(Ht({},nt(this.props,!1)),nt(f,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!u||o==="bottom"&&u);m=Ht(Ht({},m),{},{x1:t,y1:r+h*l,x2:t+a,y2:r+h*l})}else{var p=+(o==="left"&&!u||o==="right"&&u);m=Ht(Ht({},m),{},{x1:t+p*a,y1:r,x2:t+p*a,y2:r+l})}return y.createElement("line",Nl({},m,{className:ot("recharts-cartesian-axis-line",gi(f,"className"))}))}static renderTickItem(t,r,a){var l,o=ot(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))l=y.cloneElement(t,Ht(Ht({},r),{},{className:o}));else if(typeof t=="function")l=t(Ht(Ht({},r),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=ot(u,t.className)),l=y.createElement(fy,Nl({},r,{className:u}),a)}return l}renderTicks(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:l,stroke:o,tick:u,tickFormatter:f,unit:m}=this.props,h=vy(Ht(Ht({},this.props),{},{ticks:a}),t,r),p=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=nt(this.props,!1),j=nt(u,!1),N=Ht(Ht({},v),{},{fill:"none"},nt(l,!1)),w=h.map((S,E)=>{var{line:_,tick:A}=this.getTickLineCoord(S),P=Ht(Ht(Ht(Ht({textAnchor:p,verticalAnchor:x},v),{},{stroke:"none",fill:o},j),A),{},{index:E,payload:S,visibleTicksCount:h.length,tickFormatter:f});return y.createElement(aa,Nl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Pf(this.props,S,E)),l&&y.createElement("line",Nl({},N,_,{className:ot("recharts-cartesian-axis-tick-line",gi(l,"className"))})),u&&Rs.renderTickItem(u,P,"".concat(typeof f=="function"?f(S.value,E):S.value).concat(m||"")))});return w.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:a,className:l,hide:o}=this.props;if(o)return null;var{ticks:u}=this.props;return r!=null&&r<=0||a!=null&&a<=0?null:y.createElement(aa,{className:ot("recharts-cartesian-axis",l),ref:f=>{if(f){var m=f.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(m);var h=m[0];if(h){var p=window.getComputedStyle(h).fontSize,x=window.getComputedStyle(h).letterSpacing;(p!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,u),Qr.renderCallByParent(this.props))}}yy(Rs,"displayName","CartesianAxis");yy(Rs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var OG=["x1","y1","x2","y2","key"],TG=["offset"],MG=["xAxisId","yAxisId"],kG=["xAxisId","yAxisId"];function DE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(r),!0).forEach(function(a){PG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PG(e,t,r){return(t=DG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=RG(e,"string");return typeof t=="symbol"?t:t+""}function RG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oi.apply(null,arguments)}function gf(e,t){if(e==null)return{};var r,a,l=$G(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function $G(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var zG=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:l,width:o,height:u,ry:f}=e;return y.createElement("rect",{x:a,y:l,ry:f,width:o,height:u,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function cT(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:a,y1:l,x2:o,y2:u,key:f}=t,m=gf(t,OG),h=nt(m,!1),{offset:p}=h,x=gf(h,TG);r=y.createElement("line",oi({},x,{x1:a,y1:l,x2:o,y2:u,fill:"none",key:f}))}return r}function LG(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:l}=e;if(!a||!l||!l.length)return null;var{xAxisId:o,yAxisId:u}=e,f=gf(e,MG),m=l.map((h,p)=>{var x=vr(vr({},f),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return cT(a,x)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function UG(e){var{y:t,height:r,vertical:a=!0,verticalPoints:l}=e;if(!a||!l||!l.length)return null;var{xAxisId:o,yAxisId:u}=e,f=gf(e,kG),m=l.map((h,p)=>{var x=vr(vr({},f),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return cT(a,x)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function qG(e){var{horizontalFill:t,fillOpacity:r,x:a,y:l,width:o,height:u,horizontalPoints:f,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var h=f.map(x=>Math.round(x+l-l)).sort((x,v)=>x-v);l!==h[0]&&h.unshift(0);var p=h.map((x,v)=>{var j=!h[v+1],N=j?l+u-x:h[v+1]-x;if(N<=0)return null;var w=v%t.length;return y.createElement("rect",{key:"react-".concat(v),y:x,x:a,height:N,width:o,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function BG(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:l,y:o,width:u,height:f,verticalPoints:m}=e;if(!t||!r||!r.length)return null;var h=m.map(x=>Math.round(x+l-l)).sort((x,v)=>x-v);l!==h[0]&&h.unshift(0);var p=h.map((x,v)=>{var j=!h[v+1],N=j?l+u-x:h[v+1]-x;if(N<=0)return null;var w=v%r.length;return y.createElement("rect",{key:"react-".concat(v),x,y:o,width:N,height:f,stroke:"none",fill:r[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var IG=(e,t)=>{var{xAxis:r,width:a,height:l,offset:o}=e;return i4(vy(vr(vr(vr({},Rs.defaultProps),r),{},{ticks:l4(r),viewBox:{x:0,y:0,width:a,height:l}})),o.left,o.left+o.width,t)},FG=(e,t)=>{var{yAxis:r,width:a,height:l,offset:o}=e;return i4(vy(vr(vr(vr({},Rs.defaultProps),r),{},{ticks:l4(r),viewBox:{x:0,y:0,width:a,height:l}})),o.top,o.top+o.height,t)},HG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function b0(e){var t=mv(),r=hv(),a=d4(),l=vr(vr({},Kn(e,HG)),{},{x:Te(e.x)?e.x:a.left,y:Te(e.y)?e.y:a.top,width:Te(e.width)?e.width:a.width,height:Te(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:u,x:f,y:m,width:h,height:p,syncWithTicks:x,horizontalValues:v,verticalValues:j}=l,N=Er(),w=De(F=>PS(F,"xAxis",o,N)),S=De(F=>PS(F,"yAxis",u,N));if(!Te(h)||h<=0||!Te(p)||p<=0||!Te(f)||f!==+f||!Te(m)||m!==+m)return null;var E=l.verticalCoordinatesGenerator||IG,_=l.horizontalCoordinatesGenerator||FG,{horizontalPoints:A,verticalPoints:P}=l;if((!A||!A.length)&&typeof _=="function"){var D=v&&v.length,M=_({yAxis:S?vr(vr({},S),{},{ticks:D?v:S.ticks}):void 0,width:t,height:r,offset:a},D?!0:x);mc(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(A=M)}if((!P||!P.length)&&typeof E=="function"){var O=j&&j.length,z=E({xAxis:w?vr(vr({},w),{},{ticks:O?j:w.ticks}):void 0,width:t,height:r,offset:a},O?!0:x);mc(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(P=z)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(zG,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),y.createElement(qG,oi({},l,{horizontalPoints:A})),y.createElement(BG,oi({},l,{verticalPoints:P})),y.createElement(LG,oi({},l,{offset:a,horizontalPoints:A,xAxis:w,yAxis:S})),y.createElement(UG,oi({},l,{offset:a,verticalPoints:P,xAxis:w,yAxis:S})))}b0.displayName="CartesianGrid";var uT=(e,t,r,a)=>cn(e,"xAxis",t,a),dT=(e,t,r,a)=>Ts(e,"xAxis",t,a),fT=(e,t,r,a)=>cn(e,"yAxis",r,a),mT=(e,t,r,a)=>Ts(e,"yAxis",r,a),VG=ue([ct,uT,fT,dT,mT],(e,t,r,a,l)=>Ms(e,"xAxis")?bc(t,a,!1):bc(r,l,!1)),GG=(e,t,r,a,l)=>l,KG=ue([im,GG],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),YG=ue([ct,uT,fT,dT,mT,KG,VG,qv],(e,t,r,a,l,o,u,f)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:p}=f;if(!(o==null||t==null||r==null||a==null||l==null||a.length===0||l.length===0||u==null)){var{dataKey:x,data:v}=o,j;if(v!=null&&v.length>0?j=v:j=m?.slice(h,p+1),j!=null)return mK({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:l,dataKey:x,bandSize:u,displayedData:j})}}),XG=["type","layout","connectNulls","needClip"],WG=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function hT(e,t){if(e==null)return{};var r,a,l=ZG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function ZG(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(a){hm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hm(e,t,r){return(t=QG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zl.apply(null,arguments)}var eK=e=>{var{dataKey:t,name:r,stroke:a,legendType:l,hide:o}=e;return[{inactive:o,dataKey:t,type:l,color:a,value:Hf(r,t),payload:e}]};function tK(e){var{dataKey:t,data:r,stroke:a,strokeWidth:l,fill:o,name:u,hide:f,unit:m}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:l,fill:o,dataKey:t,nameKey:void 0,name:Hf(u,t),hide:f,type:e.tooltipType,color:e.stroke,unit:m}}}var pT=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function rK(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],l=0;l<t;++l)a=[...a,...r];return a}var aK=(e,t,r)=>{var a=r.reduce((x,v)=>x+v);if(!a)return pT(t,e);for(var l=Math.floor(e/a),o=e%a,u=t-e,f=[],m=0,h=0;m<r.length;h+=r[m],++m)if(h+r[m]>o){f=[...r.slice(0,m),o-h];break}var p=f.length%2===0?[0,u]:[u];return[...rK(r,l),...f,...p].map(x=>"".concat(x,"px")).join(", ")};function nK(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=ot("recharts-line-dot",typeof e!="boolean"?e.className:"");r=y.createElement($O,zl({},t,{className:a}))}return r}function sK(e,t){return e==null?!1:t?!0:e.length===1}function iK(e){var{clipPathId:t,points:r,props:a}=e,{dot:l,dataKey:o,needClip:u}=a;if(!sK(r,l))return null;var f=sC(l),m=nt(a,!1),h=nt(l,!0),p=r.map((v,j)=>{var N=za(za(za({key:"dot-".concat(j),r:3},m),h),{},{index:j,cx:v.x,cy:v.y,dataKey:o,value:v.value,payload:v.payload,points:r});return nK(l,N)}),x={clipPath:u?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):null};return y.createElement(aa,zl({className:"recharts-line-dots",key:"dots"},x),p)}function j0(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:l,props:o,showLabels:u}=e,{type:f,layout:m,connectNulls:h,needClip:p}=o,x=hT(o,XG),v=za(za({},nt(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):null,points:a,type:f,layout:m,connectNulls:h,strokeDasharray:l??o.strokeDasharray});return y.createElement(y.Fragment,null,a?.length>1&&y.createElement(h4,zl({},v,{pathRef:r})),y.createElement(iK,{points:a,clipPathId:t,props:o}),u&&Na.renderCallByParent(o,a))}function lK(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function oK(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:l,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:f,isAnimationActive:m,animationBegin:h,animationDuration:p,animationEasing:x,animateNewValues:v,width:j,height:N,onAnimationEnd:w,onAnimationStart:S}=r,E=l.current,_=HO(r,"recharts-line-"),[A,P]=y.useState(!1),D=y.useCallback(()=>{typeof w=="function"&&w(),P(!1)},[w]),M=y.useCallback(()=>{typeof S=="function"&&S(),P(!0)},[S]),O=lK(a.current),z=o.current;return y.createElement(bi,{begin:h,duration:p,isActive:m,easing:x,from:{t:0},to:{t:1},onAnimationEnd:D,onAnimationStart:M,key:_},F=>{var{t:W}=F,R=$a(z,O+z),H=Math.min(R(W),O),T;if(f){var L="".concat(f).split(/[,\s]+/gim).map(q=>parseFloat(q));T=aK(H,O,L)}else T=pT(O,H);if(E){var B=E.length/u.length,$=W===1?u:u.map((q,Z)=>{var le=Math.floor(Z*B);if(E[le]){var U=E[le],X=$a(U.x,q.x),ne=$a(U.y,q.y);return za(za({},q),{},{x:X(W),y:ne(W)})}if(v){var ie=$a(j*2,q.x),G=$a(N/2,q.y);return za(za({},q),{},{x:ie(W),y:G(W)})}return za(za({},q),{},{x:q.x,y:q.y})});return l.current=$,y.createElement(j0,{props:r,points:$,clipPathId:t,pathRef:a,showLabels:!A,strokeDasharray:T})}return W>0&&O>0&&(l.current=u,o.current=H),y.createElement(j0,{props:r,points:u,clipPathId:t,pathRef:a,showLabels:!A,strokeDasharray:T})})}function cK(e){var{clipPathId:t,props:r}=e,{points:a,isAnimationActive:l}=r,o=y.useRef(null),u=y.useRef(0),f=y.useRef(null),m=o.current;return l&&a&&a.length&&m!==a?y.createElement(oK,{props:r,clipPathId:t,previousPointsRef:o,longestAnimatedLengthRef:u,pathRef:f}):y.createElement(j0,{props:r,points:a,clipPathId:t,pathRef:f,showLabels:!0})}var uK=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:jr(e.payload,t)});class dK extends y.Component{constructor(){super(...arguments),hm(this,"id",Ol("recharts-line-"))}render(){var t,{hide:r,dot:a,points:l,className:o,xAxisId:u,yAxisId:f,top:m,left:h,width:p,height:x,id:v,needClip:j,layout:N}=this.props;if(r)return null;var w=ot("recharts-line",o),S=xt(v)?this.id:v,{r:E=3,strokeWidth:_=2}=(t=nt(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},A=sC(a),P=E*2+_;return y.createElement(y.Fragment,null,y.createElement(aa,{className:w},j&&y.createElement("defs",null,y.createElement(tT,{clipPathId:S,xAxisId:u,yAxisId:f}),!A&&y.createElement("clipPath",{id:"clipPath-dots-".concat(S)},y.createElement("rect",{x:h-P/2,y:m-P/2,width:p+P,height:x+P}))),y.createElement(cK,{props:this.props,clipPathId:S}),y.createElement(ZO,{direction:N==="horizontal"?"y":"x"},y.createElement(KO,{xAxisId:u,yAxisId:f,data:l,dataPointFormatter:uK,errorBarOffset:0},this.props.children))),y.createElement(HH,{activeDot:this.props.activeDot,points:l,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var xT={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Vl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function fK(e){var t=Kn(e,xT),{activeDot:r,animateNewValues:a,animationBegin:l,animationDuration:o,animationEasing:u,connectNulls:f,dot:m,hide:h,isAnimationActive:p,label:x,legendType:v,xAxisId:j,yAxisId:N}=t,w=hT(t,WG),{needClip:S}=py(j,N),{height:E,width:_,x:A,y:P}=hy(),D=Yf(),M=Er(),O=y.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),z=De(F=>YG(F,j,N,M,O));return D!=="horizontal"&&D!=="vertical"?null:y.createElement(dK,zl({},w,{connectNulls:f,dot:m,activeDot:r,animateNewValues:a,animationBegin:l,animationDuration:o,animationEasing:u,isAnimationActive:p,hide:h,label:x,legendType:v,xAxisId:j,yAxisId:N,points:z,layout:D,height:E,width:_,left:A,top:P,needClip:S}))}function mK(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:l,yAxisTicks:o,dataKey:u,bandSize:f,displayedData:m}=e;return m.map((h,p)=>{var x=jr(h,u);return t==="horizontal"?{x:f2({axis:r,ticks:l,bandSize:f,entry:h,index:p}),y:xt(x)?null:a.scale(x),value:x,payload:h}:{x:xt(x)?null:r.scale(x),y:f2({axis:a,ticks:o,bandSize:f,entry:h,index:p}),value:x,payload:h}})}class pc extends y.PureComponent{render(){return y.createElement(YO,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},y.createElement(FO,{legendPayload:eK(this.props)}),y.createElement(IO,{fn:tK,args:this.props}),y.createElement(fK,this.props))}}hm(pc,"displayName","Line");hm(pc,"defaultProps",xT);function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function zE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(a){hK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hK(e,t,r){return(t=pK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=xK(e,"string");return typeof t=="symbol"?t:t+""}function xK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gK={xAxis:{},yAxis:{},zAxis:{}},gT=Aa({name:"cartesianAxis",initialState:gK,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload;e.yAxis[r]&&(e.yAxis[r]=zE(zE({},e.yAxis[r]),{},{width:a}))}}}),{addXAxis:vK,removeXAxis:yK,addYAxis:bK,removeYAxis:jK,addZAxis:yW,removeZAxis:bW,updateYAxisWidth:wK}=gT.actions,NK=gT.reducer,SK=["children"],EK=["dangerouslySetInnerHTML","ticks"];function vT(e,t,r){return(t=_K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w0.apply(null,arguments)}function yT(e,t){if(e==null)return{};var r,a,l=AK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function AK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function OK(e){var t=zt(),r=y.useMemo(()=>{var{children:o}=e,u=yT(e,SK);return u},[e]),a=De(o=>Xn(o,r.id)),l=r===a;return y.useEffect(()=>(t(vK(r)),()=>{t(yK(r))}),[r,t]),l?e.children:null}var TK=e=>{var{xAxisId:t,className:r}=e,a=De(u4),l=Er(),o="xAxis",u=De(j=>Wl(j,o,t,l)),f=De(j=>eO(j,o,t,l)),m=De(j=>WA(j,t)),h=De(j=>jB(j,t));if(m==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:x}=e,v=yT(e,EK);return y.createElement(Rs,w0({},v,{scale:u,x:h.x,y:h.y,width:m.width,height:m.height,className:ot("recharts-".concat(o," ").concat(o),r),viewBox:a,ticks:f}))},MK=e=>{var t,r,a,l,o;return y.createElement(OK,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(l=e.minTickGap)!==null&&l!==void 0?l:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter},y.createElement(TK,e))};class vf extends y.Component{render(){return y.createElement(MK,this.props)}}vT(vf,"displayName","XAxis");vT(vf,"defaultProps",{allowDataOverflow:Kr.allowDataOverflow,allowDecimals:Kr.allowDecimals,allowDuplicatedCategory:Kr.allowDuplicatedCategory,height:Kr.height,hide:!1,mirror:Kr.mirror,orientation:Kr.orientation,padding:Kr.padding,reversed:Kr.reversed,scale:Kr.scale,tickCount:Kr.tickCount,type:Kr.type,xAxisId:0});var kK=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:l=0,tickMargin:o=0}=e,u=0;if(t){t.forEach(p=>{if(p){var x=p.getBoundingClientRect();x.width>u&&(u=x.width)}});var f=r?r.getBoundingClientRect().width:0,m=l+o,h=u+m+f+(r?a:0);return Math.round(h)}return 0},PK=["dangerouslySetInnerHTML","ticks"];function bT(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=RK(e,"string");return typeof t=="symbol"?t:t+""}function RK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},N0.apply(null,arguments)}function $K(e,t){if(e==null)return{};var r,a,l=zK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function zK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function LK(e){var t=zt();return y.useEffect(()=>(t(bK(e)),()=>{t(jK(e))}),[e,t]),null}var UK=e=>{var t,{yAxisId:r,className:a,width:l,label:o}=e,u=y.useRef(null),f=y.useRef(null),m=De(u4),h=Er(),p=zt(),x="yAxis",v=De(A=>Wl(A,x,r,h)),j=De(A=>ZA(A,r)),N=De(A=>wB(A,r)),w=De(A=>eO(A,x,r,h));if(y.useLayoutEffect(()=>{var A;if(!(l!=="auto"||!j||my(o)||y.isValidElement(o))){var P=u.current,D=P==null||(A=P.tickRefs)===null||A===void 0?void 0:A.current,{tickSize:M,tickMargin:O}=P.props,z=kK({ticks:D,label:f.current,labelGapWithTick:5,tickSize:M,tickMargin:O});Math.round(j.width)!==Math.round(z)&&p(wK({id:r,width:z}))}},[u,u==null||(t=u.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,j?.width,j,p,o,r,l]),j==null||N==null)return null;var{dangerouslySetInnerHTML:S,ticks:E}=e,_=$K(e,PK);return y.createElement(Rs,N0({},_,{ref:u,labelRef:f,scale:v,x:N.x,y:N.y,width:j.width,height:j.height,className:ot("recharts-".concat(x," ").concat(x),a),viewBox:m,ticks:w}))},qK=e=>{var t,r,a,l,o;return y.createElement(y.Fragment,null,y.createElement(LK,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(l=e.minTickGap)!==null&&l!==void 0?l:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter}),y.createElement(UK,e))},BK={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:Yr.allowDecimals,allowDuplicatedCategory:Yr.allowDuplicatedCategory,hide:!1,mirror:Yr.mirror,orientation:Yr.orientation,padding:Yr.padding,reversed:Yr.reversed,scale:Yr.scale,tickCount:Yr.tickCount,type:Yr.type,width:Yr.width,yAxisId:0};class yf extends y.Component{render(){return y.createElement(qK,this.props)}}bT(yf,"displayName","YAxis");bT(yf,"defaultProps",BK);var pg={exports:{}},xg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function IK(){if(LE)return xg;LE=1;var e=Ll();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,l=e.useRef,o=e.useEffect,u=e.useMemo,f=e.useDebugValue;return xg.useSyncExternalStoreWithSelector=function(m,h,p,x,v){var j=l(null);if(j.current===null){var N={hasValue:!1,value:null};j.current=N}else N=j.current;j=u(function(){function S(D){if(!E){if(E=!0,_=D,D=x(D),v!==void 0&&N.hasValue){var M=N.value;if(v(M,D))return A=M}return A=D}if(M=A,r(_,D))return M;var O=x(D);return v!==void 0&&v(M,O)?(_=D,M):(_=D,A=O)}var E=!1,_,A,P=p===void 0?null:p;return[function(){return S(h())},P===null?void 0:function(){return S(P())}]},[h,p,x,v]);var w=a(m,j[0],j[1]);return o(function(){N.hasValue=!0,N.value=w},[w]),f(w),w},xg}var UE;function FK(){return UE||(UE=1,pg.exports=IK()),pg.exports}FK();function HK(e){e()}function VK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){HK(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const l=t={callback:r,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!a||e===null||(a=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var qE={notify(){},get:()=>[]};function GK(e,t){let r,a=qE,l=0,o=!1;function u(w){p();const S=a.subscribe(w);let E=!1;return()=>{E||(E=!0,S(),x())}}function f(){a.notify()}function m(){N.onStateChange&&N.onStateChange()}function h(){return o}function p(){l++,r||(r=e.subscribe(m),a=VK())}function x(){l--,r&&l===0&&(r(),r=void 0,a.clear(),a=qE)}function v(){o||(o=!0,p())}function j(){o&&(o=!1,x())}const N={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:m,isSubscribed:h,trySubscribe:v,tryUnsubscribe:j,getListeners:()=>a};return N}var KK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YK=KK(),XK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WK=XK(),ZK=()=>YK||WK?y.useLayoutEffect:y.useEffect,QK=ZK(),JK=Symbol.for("react-redux-context"),eY=typeof globalThis<"u"?globalThis:{};function tY(){if(!y.createContext)return{};const e=eY[JK]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var rY=tY();function aY(e){const{children:t,context:r,serverState:a,store:l}=e,o=y.useMemo(()=>{const m=GK(l);return{store:l,subscription:m,getServerState:a?()=>a:void 0}},[l,a]),u=y.useMemo(()=>l.getState(),[l]);QK(()=>{const{subscription:m}=o;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==l.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[o,u]);const f=r||rY;return y.createElement(f.Provider,{value:o},t)}var nY=aY,sY=(e,t)=>t,by=ue([sY,ct,Dq,rr,pO,Wn,EI,Jt],TI),jy=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},jT=_a("mouseClick"),wT=qc();wT.startListening({actionCreator:jT,effect:(e,t)=>{var r=e.payload,a=by(t.getState(),jy(r));a?.activeIndex!=null&&t.dispatch(RB({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var S0=_a("mouseMove"),NT=qc();NT.startListening({actionCreator:S0,effect:(e,t)=>{var r=e.payload,a=t.getState(),l=ay(a,a.tooltip.settings.shared),o=by(a,jy(r));l==="axis"&&(o?.activeIndex!=null?t.dispatch(oO({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(lO()))}});function iY(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var BE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},ST=Aa({name:"rootProps",initialState:BE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:BE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),lY=ST.reducer,{updateOptions:oY}=ST.actions,ET=Aa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:jW}=ET.actions,cY=ET.reducer,_T=_a("keyDown"),CT=_a("focus"),wy=qc();wy.startListening({actionCreator:_T,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:l}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Number(ny(l,Ai(r))),f=Wn(r);if(o==="Enter"){var m=ff(r,"axis","hover",String(l.index));t.dispatch(f0({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:m}));return}var h=_B(r),p=h==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,v=u+x*p;if(!(f==null||v>=f.length||v<0)){var j=ff(r,"axis","hover",String(v));t.dispatch(f0({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});wy.startListening({actionCreator:CT,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:l}=r.tooltip;if(!l.active&&l.index==null){var o="0",u=ff(r,"axis","hover",String(o));t.dispatch(f0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var ya=_a("externalEvent"),AT=qc();AT.startListening({actionCreator:ya,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),a={activeCoordinate:pI(r),activeDataKey:yO(r),activeIndex:wi(r),activeLabel:vO(r),activeTooltipIndex:wi(r),isTooltipActive:xI(r)};e.payload.handler(a,e.payload.reactEvent)}}});var uY=ue([Zl],e=>e.tooltipItemPayloads),dY=ue([uY,Xc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var l=e.find(f=>f.settings.dataKey===a);if(l!=null){var{positions:o}=l;if(o!=null){var u=t(o,r);return u}}}),OT=_a("touchMove"),TT=qc();TT.startListening({actionCreator:OT,effect:(e,t)=>{var r=e.payload,a=t.getState(),l=ay(a,a.tooltip.settings.shared);if(l==="axis"){var o=by(a,jy({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(oO({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(l==="item"){var u,f=r.touches[0],m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(Kz),p=(u=m.getAttribute(Yz))!==null&&u!==void 0?u:void 0,x=dY(t.getState(),h,p);t.dispatch(iO({activeDataKey:p,activeIndex:h,activeCoordinate:x}))}}});var fY=zC({brush:sG,cartesianAxis:NK,chartData:GI,graphicalItems:mH,layout:gz,legend:oL,options:BI,polarAxis:iH,polarOptions:cY,referenceElements:fG,rootProps:lY,tooltip:$B}),mY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return I8({reducer:fY,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([wT.middleware,NT.middleware,wy.middleware,AT.middleware,TT.middleware]),devTools:{serialize:{replacer:iY},name:"recharts-".concat(r)}})};function hY(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,l=Er(),o=y.useRef(null);if(l)return r;o.current==null&&(o.current=mY(t,a));var u=nv;return y.createElement(nY,{context:u,store:o.current},r)}function pY(e){var{layout:t,width:r,height:a,margin:l}=e,o=zt(),u=Er();return y.useEffect(()=>{u||(o(hz(t)),o(pz({width:r,height:a})),o(mz(l)))},[o,u,t,r,a,l]),null}function xY(e){var t=zt();return y.useEffect(()=>{t(oY(e))},[t,e]),null}var gY=["children"];function vY(e,t){if(e==null)return{};var r,a,l=yY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function yY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bf.apply(null,arguments)}var bY={width:"100%",height:"100%"},jY=y.forwardRef((e,t)=>{var r=mv(),a=hv(),l=m4();if(!Wd(r)||!Wd(a))return null;var{children:o,otherAttributes:u,title:f,desc:m}=e,h,p;return typeof u.tabIndex=="number"?h=u.tabIndex:h=l?0:void 0,typeof u.role=="string"?p=u.role:p=l?"application":void 0,y.createElement(G0,bf({},u,{title:f,desc:m,role:p,tabIndex:h,width:r,height:a,style:bY,ref:t}),o)}),wY=e=>{var{children:t}=e,r=De(Kf);if(!r)return null;var{width:a,height:l,y:o,x:u}=r;return y.createElement(G0,{width:a,height:l,x:u,y:o},t)},IE=y.forwardRef((e,t)=>{var{children:r}=e,a=vY(e,gY),l=Er();return l?y.createElement(wY,null,r):y.createElement(jY,bf({ref:t},a),r)});function NY(){var e=zt(),[t,r]=y.useState(null),a=De(Gz);return y.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),o=l.width/t.offsetWidth;ia(o)&&o!==a&&e(xz(o))}},[t,e,a]),r}function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function SY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(a){EY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function EY(e,t,r){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Y(e){var t=CY(e,"string");return typeof t=="symbol"?t:t+""}function CY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AY=y.forwardRef((e,t)=>{var{children:r,className:a,height:l,onClick:o,onContextMenu:u,onDoubleClick:f,onMouseDown:m,onMouseEnter:h,onMouseLeave:p,onMouseMove:x,onMouseUp:v,onTouchEnd:j,onTouchMove:N,onTouchStart:w,style:S,width:E}=e,_=zt(),[A,P]=y.useState(null),[D,M]=y.useState(null);XI();var O=NY(),z=y.useCallback(ne=>{O(ne),typeof t=="function"&&t(ne),P(ne),M(ne)},[O,t,P,M]),F=y.useCallback(ne=>{_(jT(ne)),_(ya({handler:o,reactEvent:ne}))},[_,o]),W=y.useCallback(ne=>{_(S0(ne)),_(ya({handler:h,reactEvent:ne}))},[_,h]),R=y.useCallback(ne=>{_(lO()),_(ya({handler:p,reactEvent:ne}))},[_,p]),H=y.useCallback(ne=>{_(S0(ne)),_(ya({handler:x,reactEvent:ne}))},[_,x]),T=y.useCallback(()=>{_(CT())},[_]),L=y.useCallback(ne=>{_(_T(ne.key))},[_]),B=y.useCallback(ne=>{_(ya({handler:u,reactEvent:ne}))},[_,u]),$=y.useCallback(ne=>{_(ya({handler:f,reactEvent:ne}))},[_,f]),q=y.useCallback(ne=>{_(ya({handler:m,reactEvent:ne}))},[_,m]),Z=y.useCallback(ne=>{_(ya({handler:v,reactEvent:ne}))},[_,v]),le=y.useCallback(ne=>{_(ya({handler:w,reactEvent:ne}))},[_,w]),U=y.useCallback(ne=>{_(OT(ne)),_(ya({handler:N,reactEvent:ne}))},[_,N]),X=y.useCallback(ne=>{_(ya({handler:j,reactEvent:ne}))},[_,j]);return y.createElement(EO.Provider,{value:A},y.createElement(iC.Provider,{value:D},y.createElement("div",{className:ot("recharts-wrapper",a),style:SY({position:"relative",cursor:"default",width:E,height:l},S),onClick:F,onContextMenu:B,onDoubleClick:$,onFocus:T,onKeyDown:L,onMouseDown:q,onMouseEnter:W,onMouseLeave:R,onMouseMove:H,onMouseUp:Z,onTouchEnd:X,onTouchMove:U,onTouchStart:le,ref:z},r)))}),OY=["children","className","width","height","style","compact","title","desc"];function TY(e,t){if(e==null)return{};var r,a,l=MY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function MY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var kY=y.forwardRef((e,t)=>{var{children:r,className:a,width:l,height:o,style:u,compact:f,title:m,desc:h}=e,p=TY(e,OY),x=nt(p,!1);return f?y.createElement(IE,{otherAttributes:x,title:m,desc:h},r):y.createElement(AY,{className:a,style:u,width:l,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(IE,{otherAttributes:x,title:m,desc:h,ref:t},y.createElement(hG,null,r)))}),PY=["width","height"];function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},E0.apply(null,arguments)}function DY(e,t){if(e==null)return{};var r,a,l=RY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function RY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var $Y={top:5,right:5,bottom:5,left:5},zY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$Y,reverseStackOrder:!1,syncMethod:"index"},MT=y.forwardRef(function(t,r){var a,l=Kn(t.categoricalChartProps,zY),{width:o,height:u}=l,f=DY(l,PY);if(!Wd(o)||!Wd(u))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:x,categoricalChartProps:v}=t,j={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:x,eventEmitter:void 0};return y.createElement(hY,{preloadedState:{options:j},reduxStoreName:(a=v.id)!==null&&a!==void 0?a:m},y.createElement(nG,{chartData:v.data}),y.createElement(pY,{width:o,height:u,layout:l.layout,margin:l.margin}),y.createElement(xY,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),y.createElement(kY,E0({},f,{width:o,height:u,ref:r})))}),LY=["axis"],UY=y.forwardRef((e,t)=>y.createElement(MT,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:LY,tooltipPayloadSearcher:_O,categoricalChartProps:e,ref:t})),qY=["axis","item"],BY=y.forwardRef((e,t)=>y.createElement(MT,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qY,tooltipPayloadSearcher:_O,categoricalChartProps:e,ref:t}));const IY=()=>{const[e,t]=y.useState(""),[r,a]=y.useState(""),[l,o]=y.useState(""),[u,f]=y.useState(null),[m,h]=y.useState(!1),[p,x]=y.useState(""),[v,j]=y.useState(!1),N=async()=>{try{h(!0),x("");const O=new URLSearchParams;e&&O.append("fecha_desde",e),r&&O.append("fecha_hasta",r),l&&O.append("revendedor_id",l);const z=await we.get(`/reportes/resumen?${O.toString()}`);f(z.data)}catch(O){x(O.response?.data?.message||O.message)}finally{h(!1)}};y.useEffect(()=>{N()},[]),y.useEffect(()=>{const O=window.matchMedia("(max-width: 640px)"),z=F=>j(F.matches);return z(O),O.addEventListener?O.addEventListener("change",z):O.addListener(z),()=>{O.removeEventListener?O.removeEventListener("change",z):O.removeListener(z)}},[]);const w=async()=>{try{const O=new URLSearchParams;e&&O.append("fecha_desde",e),r&&O.append("fecha_hasta",r),l&&O.append("revendedor_id",l);const z=await we.get(`/reportes/export?${O.toString()}`,{responseType:"blob"}),F=window.URL.createObjectURL(new Blob([z.data],{type:"text/csv;charset=utf-8;"})),W=document.createElement("a");W.href=F,W.setAttribute("download","reporte_ventas.csv"),document.body.appendChild(W),W.click(),W.parentNode.removeChild(W)}catch(O){x(O.response?.data?.message||O.message)}},S=y.useMemo(()=>u?.por_mes||[],[u]),E=y.useMemo(()=>u?.por_semana||[],[u]),_=y.useMemo(()=>u?.top_tipos||[],[u]),A=y.useMemo(()=>u?.top_revendedores||[],[u]),P=u?.totales||{total_vendido:0,total_admin:0,total_revendedor:0,total_unidades:0},D=y.useMemo(()=>S.map(O=>({periodo:O.periodo,vendido:Number(O.total_vendido||0),admin:Number(O.total_admin||0),revendedores:Number(O.total_revendedor||0),unidades:Number(O.unidades||0)})),[S]),M=y.useMemo(()=>E.map(O=>({periodo:O.periodo,vendido:Number(O.total_vendido||0),admin:Number(O.total_admin||0),revendedores:Number(O.total_revendedor||0)})),[E]);return n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"w-full space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center",children:n.jsx(tn,{className:"w-6 h-6 text-slate-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Reportes"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Ventas por periodo, top fichas/clientes y ganancias"})]})]}),n.jsxs("button",{onClick:w,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2",children:[n.jsx(Of,{className:"w-4 h-4"})," Exportar CSV"]})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-4 border space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(Tf,{className:"w-4 h-4"}),"Filtros"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Desde"}),n.jsxs("div",{className:"relative",children:[n.jsx(pi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 text-gray-400"}),n.jsx("input",{type:"date",value:e,onChange:O=>t(O.target.value),className:"w-full pl-9 pr-3 py-2 border rounded-lg"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Hasta"}),n.jsxs("div",{className:"relative",children:[n.jsx(pi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 text-gray-400"}),n.jsx("input",{type:"date",value:r,onChange:O=>a(O.target.value),className:"w-full pl-9 pr-3 py-2 border rounded-lg"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Revendedor (ID opcional)"}),n.jsx("input",{type:"number",value:l,onChange:O=>o(O.target.value),className:"w-full px-3 py-2 border rounded-lg [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Ej. 3"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:N,className:"w-full px-3 py-2 bg-gray-900 hover:bg-black text-white rounded-lg",children:"Aplicar"})})]})]}),p&&n.jsx("div",{className:"bg-red-50 border border-red-200 p-3 rounded-lg text-red-700",children:p}),m&&n.jsx("div",{className:"p-3",children:"Cargando…"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[n.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border",children:[n.jsx("div",{className:"text-gray-500 text-sm",children:"Total Vendido"}),n.jsxs("div",{className:"text-xl md:text-2xl font-bold text-gray-900",children:["$",Number(P.total_vendido||0).toLocaleString("es-MX")]})]}),n.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border",children:[n.jsx("div",{className:"text-gray-500 text-sm",children:"Mi Ganancia (Admin)"}),n.jsxs("div",{className:"text-xl md:text-2xl font-bold text-emerald-700",children:["$",Number(P.total_admin||0).toLocaleString("es-MX")]})]}),n.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border",children:[n.jsx("div",{className:"text-gray-500 text-sm",children:"Para Revendedores"}),n.jsxs("div",{className:"text-xl md:text-2xl font-bold text-amber-700",children:["$",Number(P.total_revendedor||0).toLocaleString("es-MX")]})]}),n.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border",children:[n.jsx("div",{className:"text-gray-500 text-sm",children:"Unidades Vendidas"}),n.jsx("div",{className:"text-xl md:text-2xl font-bold text-gray-900",children:Number(P.total_unidades||0).toLocaleString("es-MX")})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-medium",children:[n.jsx(B1,{className:"w-4 h-4"}),"Ventas por Mes"]}),n.jsx("div",{className:"w-full",style:{height:v?220:256},children:n.jsx(QS,{width:"100%",height:"100%",children:n.jsxs(BY,{data:D,margin:{top:10,right:16,left:0,bottom:v?20:0},barCategoryGap:v?"20%":"10%",children:[n.jsx(b0,{strokeDasharray:"3 3"}),n.jsx(vf,{dataKey:"periodo",tick:{fontSize:v?10:12},angle:v?-35:0,dy:v?10:0,height:v?40:30,interval:v?0:"preserveEnd"}),n.jsx(yf,{tick:{fontSize:v?10:12},width:v?30:40}),n.jsx(GS,{isAnimationActive:!v,formatter:(O,z)=>z==="unidades"?[`${O} u`,"unidades"]:[`$${Number(O).toLocaleString("es-MX")}`,z]}),!v&&n.jsx(jc,{}),n.jsx(wl,{dataKey:"vendido",name:"Vendido",fill:"#3b82f6",radius:[4,4,0,0],children:v&&n.jsx(Na,{dataKey:"vendido",position:"top",formatter:O=>`$${Number(O).toLocaleString("es-MX")}`,fontSize:10})}),n.jsx(wl,{dataKey:"admin",name:"Ganancia Admin",fill:"#10b981",radius:[4,4,0,0],children:v&&n.jsx(Na,{dataKey:"admin",position:"top",formatter:O=>`$${Number(O).toLocaleString("es-MX")}`,fontSize:10})}),n.jsx(wl,{dataKey:"revendedores",name:"Para Revendedores",fill:"#f59e0b",radius:[4,4,0,0],children:v&&n.jsx(Na,{dataKey:"revendedores",position:"top",formatter:O=>`$${Number(O).toLocaleString("es-MX")}`,fontSize:10})}),n.jsx(wl,{dataKey:"unidades",name:"Unidades",fill:"#6b7280",radius:[4,4,0,0],children:v&&n.jsx(Na,{dataKey:"unidades",position:"top",formatter:O=>`${O} u`,fontSize:10})})]})})}),v&&n.jsx("div",{className:"mt-3 space-y-2 sm:hidden",children:D.map(O=>n.jsxs("div",{className:"text-xs bg-gray-50 border rounded-lg p-2",children:[n.jsx("div",{className:"font-medium text-gray-800 mb-1",children:O.periodo}),n.jsxs("div",{className:"grid grid-cols-2 gap-1 text-gray-600",children:[n.jsxs("div",{children:["Vendido: ",n.jsxs("span",{className:"text-gray-900 font-semibold",children:["$",Number(O.vendido).toLocaleString("es-MX")]})]}),n.jsxs("div",{children:["Admin: ",n.jsxs("span",{className:"text-gray-900 font-semibold",children:["$",Number(O.admin).toLocaleString("es-MX")]})]}),n.jsxs("div",{children:["Rev.: ",n.jsxs("span",{className:"text-gray-900 font-semibold",children:["$",Number(O.revendedores).toLocaleString("es-MX")]})]}),n.jsxs("div",{children:["Unid.: ",n.jsx("span",{className:"text-gray-900 font-semibold",children:Number(O.unidades).toLocaleString("es-MX")})]})]})]},O.periodo))})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-medium",children:[n.jsx(Al,{className:"w-4 h-4"}),"Ventas por Semana"]}),n.jsx("div",{className:"w-full",style:{height:v?220:256},children:n.jsx(QS,{width:"100%",height:"100%",children:n.jsxs(UY,{data:M,margin:{top:10,right:16,left:0,bottom:v?20:0},children:[n.jsx(b0,{strokeDasharray:"3 3"}),n.jsx(vf,{dataKey:"periodo",tick:{fontSize:v?10:12},angle:v?-35:0,dy:v?10:0,height:v?40:30,interval:v?0:"preserveEnd"}),n.jsx(yf,{tick:{fontSize:v?10:12},width:v?30:40}),n.jsx(GS,{isAnimationActive:!v,formatter:O=>`$${Number(O).toLocaleString("es-MX")}`}),!v&&n.jsx(jc,{}),n.jsx(pc,{type:"monotone",dataKey:"vendido",name:"Vendido",stroke:"#3b82f6",strokeWidth:2,dot:v,activeDot:{r:v?4:3}}),n.jsx(pc,{type:"monotone",dataKey:"admin",name:"Ganancia Admin",stroke:"#10b981",strokeWidth:2,dot:v,activeDot:{r:v?4:3}}),n.jsx(pc,{type:"monotone",dataKey:"revendedores",name:"Para Revendedores",stroke:"#f59e0b",strokeWidth:2,dot:v,activeDot:{r:v?4:3}})]})})}),v&&n.jsx("div",{className:"mt-3 space-y-2 sm:hidden",children:M.map(O=>n.jsxs("div",{className:"text-xs bg-gray-50 border rounded-lg p-2",children:[n.jsx("div",{className:"font-medium text-gray-800 mb-1",children:O.periodo}),n.jsxs("div",{className:"grid grid-cols-2 gap-1 text-gray-600",children:[n.jsxs("div",{children:["Vendido: ",n.jsxs("span",{className:"text-gray-900 font-semibold",children:["$",Number(O.vendido).toLocaleString("es-MX")]})]}),n.jsxs("div",{children:["Admin: ",n.jsxs("span",{className:"text-gray-900 font-semibold",children:["$",Number(O.admin).toLocaleString("es-MX")]})]}),n.jsxs("div",{children:["Rev.: ",n.jsxs("span",{className:"text-gray-900 font-semibold",children:["$",Number(O.revendedores).toLocaleString("es-MX")]})]})]})]},O.periodo))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-700 font-medium",children:[n.jsx(B1,{className:"w-4 h-4"}),"Fichas más vendidas"]}),n.jsxs("div",{className:"space-y-2",children:[_.map((O,z)=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("div",{className:"text-gray-800",children:O.tipo}),n.jsxs("div",{className:"text-gray-500",children:[Number(O.unidades).toLocaleString("es-MX")," u"]})]},z)),_.length===0&&n.jsx("div",{className:"text-gray-400 text-sm",children:"Sin datos"})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-700 font-medium",children:[n.jsx(Ea,{className:"w-4 h-4"}),"Clientes que más generan"]}),n.jsxs("div",{className:"space-y-2",children:[A.map((O,z)=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("div",{className:"text-gray-800",children:O.nombre}),n.jsxs("div",{className:"text-gray-500",children:["$",Number(O.total_vendido).toLocaleString("es-MX")]})]},z)),A.length===0&&n.jsx("div",{className:"text-gray-400 text-sm",children:"Sin datos"})]})]})]})]})})},HE=e=>{const t=e?new Date(e):null;return!t||Number.isNaN(t.getTime())?"-":`${t.toLocaleDateString("es-MX")} ${t.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"})}`},VE=e=>new Intl.NumberFormat("es-MX").format(Number(e||0)),GE=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(Number(e||0)),FY=()=>{const[e,t]=y.useState({items:[],page:1,pageSize:25,total:0}),[r,a]=y.useState(!1),[l,o]=y.useState(null),[u,f]=y.useState({revendedor:"",revendedor_id:"",tipo_ficha_id:"",desde:"",hasta:"",page:1,pageSize:25}),m=y.useMemo(()=>Math.max(1,Math.ceil((e.total||0)/(e.pageSize||25))),[e.total,e.pageSize]),h=async()=>{try{a(!0),o(null);const v=await Ie.obtenerHistorialEntregas(u);t(v)}catch(v){console.error("Error cargando historial:",v),o("No se pudo cargar el historial")}finally{a(!1)}};y.useEffect(()=>{h()},[u.page,u.pageSize]);const p=(v,j)=>f(N=>({...N,[v]:j,page:1})),x=()=>{const v=["Fecha","Hora","Revendedor","Tipo Ficha","Duración (h)","Cantidad","Precio Unitario","Subtotal","Movimiento","Usuario"],j=e.items.map(_=>{const A=_.fecha_entrega?new Date(_.fecha_entrega):null,P=A?A.toLocaleDateString("es-MX"):"",D=A?A.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"}):"";return[P,D,_.revendedor_nombre||"",_.tipo_ficha_nombre||"",_.duracion_horas||"",_.cantidad||0,_.precio_unitario??0,Number(_.cantidad||0)*Number(_.precio_unitario||0),_.tipo_movimiento||"",_.usuario_entrega||""]}),N=[v,...j].map(_=>_.map(A=>typeof A=="string"&&A.includes(",")?`"${A}"`:A).join(",")).join(`
`),w=new Blob([N],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),E=document.createElement("a");E.href=S,E.setAttribute("download",`historial_entregas_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(S)};return n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Historial de Entregas"}),n.jsxs("button",{onClick:x,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white hover:bg-emerald-700",children:[n.jsx(Of,{className:"w-4 h-4"})," Exportar CSV"]})]}),n.jsxs("div",{className:"bg-white rounded-xl border p-4 mb-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Revendedor"}),n.jsx("input",{type:"text",value:u.revendedor,onChange:v=>p("revendedor",v.target.value),placeholder:"Ej: Juan Pérez",className:"w-full border rounded-lg px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Tipo Ficha ID"}),n.jsx("input",{type:"number",value:u.tipo_ficha_id,onChange:v=>p("tipo_ficha_id",v.target.value),placeholder:"Ej: 3",className:"w-full border rounded-lg px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Desde"}),n.jsx("input",{type:"date",value:u.desde,onChange:v=>p("desde",v.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Hasta"}),n.jsx("input",{type:"date",value:u.hasta,onChange:v=>p("hasta",v.target.value),className:"w-full border rounded-lg px-3 py-2"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-3",children:[n.jsxs("div",{className:"text-sm text-gray-500 inline-flex items-center gap-2",children:[n.jsx(Tf,{className:"w-4 h-4"})," Usa filtros y cambia de página"]}),n.jsx("button",{onClick:h,className:"w-full sm:w-auto px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Buscar"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm border-separate border-spacing-0",children:[n.jsx("thead",{className:"bg-gray-50 text-gray-700",children:n.jsxs("tr",{className:"border-b border-gray-300",children:[n.jsx("th",{className:"px-3 py-2 text-center",children:"Fecha"}),n.jsx("th",{className:"px-3 py-2 text-center border-l border-gray-200",children:"Hora"}),n.jsx("th",{className:"px-3 py-2 text-center border-l border-gray-200",children:"Revendedor"}),n.jsx("th",{className:"px-3 py-2 text-center border-l border-gray-200",children:"Tipo"}),n.jsx("th",{className:"px-3 py-2 text-center border-l border-gray-200",children:"Duración"}),n.jsx("th",{className:"px-3 py-2 text-center border-l border-gray-200",children:"Cantidad"}),n.jsx("th",{className:"px-3 py-2 text-center border-l border-gray-200",children:"Precio Unit."}),n.jsx("th",{className:"px-3 py-2 text-center border-l border-gray-200",children:"Subtotal"}),n.jsx("th",{className:"px-3 py-2 text-center border-l border-gray-200",children:"Movimiento"}),n.jsx("th",{className:"px-3 py-2 text-center border-l border-gray-200",children:"Usuario"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:"10",className:"px-3 py-6 text-center text-gray-500",children:"Cargando..."})}):l?n.jsx("tr",{children:n.jsx("td",{colSpan:"10",className:"px-3 py-6 text-center text-red-600",children:l})}):e.items.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"10",className:"px-3 py-6 text-center text-gray-500",children:"Sin resultados"})}):e.items.map(v=>n.jsxs("tr",{className:"border-b border-gray-200 last:border-b-0 hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2 text-center align-middle",children:HE(v.fecha_entrega).split(" ")[0]}),n.jsx("td",{className:"px-3 py-2 text-center align-middle border-l border-gray-200",children:HE(v.fecha_entrega).split(" ")[1]}),n.jsx("td",{className:"px-3 py-2 text-center align-middle border-l border-gray-200",children:v.revendedor_nombre}),n.jsx("td",{className:"px-3 py-2 text-center align-middle border-l border-gray-200",children:v.tipo_ficha_nombre}),n.jsx("td",{className:"px-3 py-2 text-center align-middle border-l border-gray-200",children:VE(v.duracion_horas)}),n.jsx("td",{className:"px-3 py-2 text-center align-middle border-l border-gray-200",children:VE(v.cantidad)}),n.jsx("td",{className:"px-3 py-2 text-center align-middle border-l border-gray-200",children:GE(v.precio_unitario)}),n.jsx("td",{className:"px-3 py-2 text-center align-middle border-l border-gray-200",children:GE(v.subtotal)}),n.jsx("td",{className:"px-3 py-2 text-center align-middle border-l border-gray-200 capitalize",children:v.tipo_movimiento}),n.jsx("td",{className:"px-3 py-2 text-center align-middle border-l border-gray-200",children:v.usuario_entrega})]},v.id))})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 border-t bg-gray-50 text-sm",children:[n.jsxs("div",{children:["Mostrando ",e.items.length," de ",e.total," registros"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{disabled:u.page<=1,onClick:()=>f(v=>({...v,page:Math.max(1,v.page-1)})),className:"px-2 py-1 rounded border bg-white disabled:opacity-50",children:n.jsx(z0,{className:"w-4 h-4"})}),n.jsxs("span",{children:["Página ",e.page," de ",m]}),n.jsx("button",{disabled:u.page>=m,onClick:()=>f(v=>({...v,page:v.page+1})),className:"px-2 py-1 rounded border bg-white disabled:opacity-50",children:n.jsx(L0,{className:"w-4 h-4"})}),n.jsx("select",{value:u.pageSize,onChange:v=>f(j=>({...j,pageSize:parseInt(v.target.value)||25,page:1})),className:"ml-2 border rounded px-2 py-1",children:[10,25,50,100].map(v=>n.jsxs("option",{value:v,children:[v,"/página"]},v))})]})]})]})]})};class HY{constructor(){this.secureChars={numbers:"23456789",symbols:"@#$%&*+",uppercase:"ABCDEFGHJKLMNPQRSTUVWXYZ",lowercase:"abcdefghjkmnpqrstuvwxyz"}}normalizeText(t){return t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"").toLowerCase():""}capitalize(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""}getRandomChars(t,r){let a="";for(let l=0;l<r;l++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}generateRevendedorPassword(t,r){try{if(!t||t.trim()==="")throw new Error("Nombre completo es requerido para revendedores");const a=r&&r.trim()?r.trim():t.trim(),l=this.normalizeText(a);let o="";l.length>=4?o=this.capitalize(l.substring(0,4)):l.length>0?o=this.capitalize(l)+this.capitalize(this.getRandomChars(this.secureChars.lowercase,4-l.length)):o="Shop";const f=this.normalizeText(t.trim()).split(/\s+/).filter(v=>v.length>0);let m="";if(f.length>=2){const v=f[0].substring(0,2).padEnd(2,"x"),j=f[1].substring(0,2).padEnd(2,"x");m=this.capitalize(v)+this.capitalize(j)}else if(f.length===1&&f[0].length>0){const v=f[0].substring(0,4).padEnd(4,"x");m=this.capitalize(v)}else m="User";const h=this.getRandomChars(this.secureChars.numbers,2),p=this.getRandomChars(this.secureChars.symbols,1),x=`${o}${m}${h}${p}`;return{password:x,strength:this.calculatePasswordStrength(x),components:{negocio:o,nombre:m,numeros:h,simbolo:p}}}catch(a){return console.error("Error generando contraseña de revendedor:",a),this.generateFallbackPassword()}}generateTrabajadorPassword(t){try{if(!t||t.trim()==="")throw new Error("Nombre completo es requerido para trabajadores");const a=this.normalizeText(t.trim()).split(/\s+/).filter(m=>m.length>0);let l="";if(a.length>=2){const m=a[0].substring(0,4).padEnd(4,"x"),h=a[1].substring(0,4).padEnd(4,"x");l=this.capitalize(m)+this.capitalize(h)}else if(a.length===1&&a[0].length>0){const m=a[0].substring(0,6).padEnd(6,"x");l=this.capitalize(m)}else l="Trabajador";const o=this.getRandomChars(this.secureChars.numbers,2),u=this.getRandomChars(this.secureChars.symbols,1),f=`${l}${o}${u}`;return{password:f,strength:this.calculatePasswordStrength(f),components:{nombre:l,numeros:o,simbolo:u}}}catch(r){return console.error("Error generando contraseña de trabajador:",r),this.generateFallbackPassword()}}generateAdminPassword(t){try{if(!t||t.trim()==="")throw new Error("Nombre completo es requerido para administradores");const a=this.normalizeText(t.trim()).split(/\s+/).filter(m=>m.length>0);let l="";a.length>0&&a[0].length>0?l=this.capitalize(a[0].substring(0,4).padEnd(4,"x")):l="User";const o=this.getRandomChars(this.secureChars.numbers,2),u=this.getRandomChars(this.secureChars.symbols,1),f=`Admin${l}${o}${u}`;return{password:f,strength:this.calculatePasswordStrength(f),components:{prefijo:"Admin",nombre:l,numeros:o,simbolo:u}}}catch(r){return console.error("Error generando contraseña de administrador:",r),this.generateFallbackPassword()}}calculatePasswordStrength(t){let r=0,a=[];t.length>=8?r+=25:a.push("Muy corta"),/[A-Z]/.test(t)?r+=25:a.push("Falta mayúscula"),/[a-z]/.test(t)?r+=25:a.push("Falta minúscula"),/[0-9]/.test(t)?r+=15:a.push("Falta número"),/[^A-Za-z0-9]/.test(t)?r+=10:a.push("Falta símbolo");let l="Muy débil",o="red";return r>=90?(l="Muy fuerte",o="green"):r>=70?(l="Fuerte",o="blue"):r>=50?(l="Moderada",o="yellow"):r>=30&&(l="Débil",o="orange"),{score:r,level:l,color:o,feedback:a.length>0?a:["Contraseña segura"]}}generateFallbackPassword(){const t=this.getRandomChars(this.secureChars.uppercase,2)+this.getRandomChars(this.secureChars.lowercase,2)+this.getRandomChars(this.secureChars.numbers,2)+this.getRandomChars(this.secureChars.symbols,1);return{password:`Safe${t}`,strength:this.calculatePasswordStrength(`Safe${t}`),components:{prefijo:"Safe",random:t}}}generatePassword(t,r,a=null){switch(t.toLowerCase()){case"revendedor":return this.generateRevendedorPassword(r,a);case"trabajador":return this.generateTrabajadorPassword(r);case"admin":case"administrador":return this.generateAdminPassword(r);default:return this.generateFallbackPassword()}}validatePassword(t){const r=this.calculatePasswordStrength(t);return{isValid:r.score>=50,strength:r,requirements:{minLength:t.length>=8,hasUppercase:/[A-Z]/.test(t),hasLowercase:/[a-z]/.test(t),hasNumbers:/[0-9]/.test(t),hasSymbols:/[^A-Za-z0-9]/.test(t)}}}}const VY=new HY;class GY{async obtenerUsuarios(t=0){try{const l=(await we.get("/usuarios?includeInactive=0")).data;return{success:!0,data:Array.isArray(l)?l:l.usuarios}}catch(a){if(console.error(`Error al obtener usuarios (intento ${t+1}):`,a),a.message?.includes("throttled")&&t<3){const o=(t+1)*500;return console.log(`⏳ Reintentando en ${o}ms...`),await new Promise(u=>setTimeout(u,o)),this.obtenerUsuarios(t+1)}return{success:!1,error:a.message?.includes("throttled")?"Sistema ocupado, reintentando automáticamente...":a.response?.data?.message||"Error al obtener usuarios"}}}async crearUsuario(t,r=0){try{if(t.role==="cliente"){if(!t.cliente_id)return{success:!1,error:"Debe seleccionar un cliente asociado para el rol Cliente"};t.cliente_id=Number(t.cliente_id)}return{success:!0,data:(await we.post("/usuarios",t)).data}}catch(l){if(console.error(`Error al crear usuario (intento ${r+1}):`,l),l.message?.includes("throttled")&&r<2){const u=(r+1)*400;return console.log(`⏳ Reintentando creación en ${u}ms...`),await new Promise(f=>setTimeout(f,u)),this.crearUsuario(t,r+1)}return{success:!1,error:l.message?.includes("throttled")?"Sistema ocupado, reintentando automáticamente...":l.response?.data?.message||"Error al crear usuario"}}}async actualizarUsuario(t,r,a=0){try{if(r.role==="cliente"||"cliente_id"in r){if(r.role==="cliente"&&!r.cliente_id)return{success:!1,error:"Debe seleccionar un cliente asociado para el rol Cliente"};r.cliente_id!==void 0&&r.cliente_id!==null&&r.cliente_id!==""&&(r.cliente_id=Number(r.cliente_id))}return{success:!0,data:(await we.put(`/usuarios/${t}`,r)).data}}catch(o){if(console.error(`Error al actualizar usuario (intento ${a+1}):`,o),o.message?.includes("throttled")&&a<2){const f=(a+1)*400;return console.log(`⏳ Reintentando actualización en ${f}ms...`),await new Promise(m=>setTimeout(m,f)),this.actualizarUsuario(t,r,a+1)}return{success:!1,error:o.message?.includes("throttled")?"Sistema ocupado, reintentando automáticamente...":o.response?.data?.message||"Error al actualizar usuario"}}}async eliminarUsuario(t,r=0){try{return{success:!0,data:(await we.delete(`/usuarios/${t}`)).data}}catch(l){if(console.error(`Error al eliminar usuario (intento ${r+1}):`,l),l.message?.includes("throttled")&&r<2){const u=(r+1)*400;return console.log(`⏳ Reintentando eliminación en ${u}ms...`),await new Promise(f=>setTimeout(f,u)),this.eliminarUsuario(t,r+1)}console.debug("Detalles técnicos del error:",l.response?.status,l.response?.statusText);let o="Error al eliminar usuario";return l.message?.includes("throttled")?o="Sistema ocupado, reintentando automáticamente...":l.response?.data?.message?o=l.response.data.message:l.response?.data?.error?o=l.response.data.error:l.response?.status===400?o="No se puede eliminar el usuario. Verifique que no tenga tareas pendientes asignadas.":l.response?.status===404?o="Usuario no encontrado":l.response?.status===403?l.response?.data?.error==="ADMIN_DELETION_FORBIDDEN"?o=l.response.data.message:o="No tienes permisos para eliminar este usuario":l.message&&(o=l.message),{success:!1,error:o}}}async crearRevendedor(t){try{return{success:!0,data:(await we.post("/revendedores",t)).data}}catch(r){return console.error("Error al crear revendedor:",r),{success:!1,error:r.response?.data?.message||"Error al crear el revendedor"}}}async actualizarRevendedor(t,r){try{return{success:!0,data:(await we.put(`/revendedores/${t}`,r)).data}}catch(a){return console.error("Error al actualizar revendedor:",a),{success:!1,error:a.response?.data?.message||"Error al actualizar el revendedor"}}}async eliminarRevendedor(t){try{return{success:!0,data:(await we.delete(`/revendedores/${t}`)).data}}catch(r){return console.error("Error al eliminar revendedor:",r),{success:!1,error:r.response?.data?.message||"Error al eliminar el revendedor"}}}async crearTrabajador(t){try{return{success:!0,data:(await we.post("/trabajadores",t)).data}}catch(r){return console.error("Error al crear trabajador:",r),{success:!1,error:r.response?.data?.message||"Error al crear el trabajador"}}}async actualizarTrabajador(t,r){try{return{success:!0,data:(await we.put(`/trabajadores/${t}`,r)).data}}catch(a){return console.error("Error al actualizar trabajador:",a),{success:!1,error:a.response?.data?.message||"Error al actualizar el trabajador"}}}async eliminarTrabajador(t){try{return{success:!0,data:(await we.delete(`/trabajadores/${t}`)).data}}catch(r){return console.error("Error al eliminar trabajador:",r),{success:!1,error:r.response?.data?.message||"Error al eliminar el trabajador"}}}async cambiarPassword(t,r){try{return{success:!0,data:(await we.post("/usuarios/cambiar-password",{currentPassword:t,newPassword:r})).data}}catch(a){return console.error("Error al cambiar contraseña:",a),{success:!1,error:a.response?.data?.message||"Error al cambiar contraseña"}}}async actualizarMiPerfil(t){try{return{success:!0,data:(await we.put("/usuarios/mi-perfil",t)).data}}catch(r){return console.error("Error al actualizar perfil:",r),{success:!1,error:r.response?.data?.message||"Error al actualizar perfil"}}}async obtenerVistaEliminacion(t){try{return{success:!0,data:(await we.get(`/usuarios/${t}/deletion-preview`)).data}}catch(r){return console.error("Error al obtener vista previa de eliminación:",r),{success:!1,error:r.response?.data?.message||"Error al obtener información de eliminación"}}}async toggleEstadoUsuario(t){try{return{success:!0,data:(await we.patch(`/usuarios/${t}/toggle-active`)).data}}catch(r){return console.error("Error al cambiar estado del usuario:",r),{success:!1,error:r.response?.data?.message||"Error al cambiar estado del usuario"}}}validarDatosUsuario(t,r=!1){const a=[];return(!t.username||t.username.trim()==="")&&a.push("El nombre de usuario es requerido"),!r&&(!t.password||t.password.trim()==="")&&a.push("La contraseña es requerida"),(!t.role||!["admin","trabajador","revendedor","cliente"].includes(t.role))&&a.push("Debe seleccionar un rol válido"),a}}const Nr=new GY,gl={listar:async({periodo:e,pagado:t}={})=>{const r=new URLSearchParams;e&&r.set("periodo",e),typeof t<"u"&&r.set("pagado",t?"1":"0");const a=r.toString()?`/gastos?${r}`:"/gastos";return(await Pe.get(a))?.items||[]},crear:async({tipo:e,persona:t,monto:r,motivo:a})=>await Pe.post("/gastos",{tipo:e,persona:t,monto:r,motivo:a}),resumen:async({periodo:e}={})=>{const t=new URLSearchParams;e&&t.set("periodo",e);const r=t.toString()?`/gastos/resumen?${t}`:"/gastos/resumen";return await Pe.get(r)},exportCsv:async({periodo:e,pagado:t}={})=>{const r=new URLSearchParams;e&&r.set("periodo",e),typeof t<"u"&&r.set("pagado",t?"1":"0");const a=r.toString()?`/gastos/export?${r}`:"/gastos/export",l=await fetch(`/api${a}`,{credentials:"include"});if(!l.ok)throw new Error("Error exportando CSV");return await l.blob()},exportXlsx:async({periodo:e,pagado:t}={})=>{const r=new URLSearchParams;e&&r.set("periodo",e),typeof t<"u"&&r.set("pagado",t?"1":"0"),r.set("formato","xlsx");const a=`/gastos/export?${r.toString()}`,l=await fetch(`/api${a}`,{credentials:"include"});if(!l.ok)throw new Error("Error exportando Excel");return await l.blob()},pagar:async e=>await Pe.post(`/gastos/${e}/pagar`,{}),eliminar:async e=>await Pe.delete(`/gastos/${e}`)};class KY{async listar({tipo:t,activo:r}={}){const a={};return t&&(a.tipo=t),r!==void 0&&(a.activo=r?"1":"0"),(await we.get("/clientes",{params:a})).data}async crear(t){return(await we.post("/clientes",t)).data}async actualizar(t,r){return(await we.put(`/clientes/${t}`,r)).data}async eliminar(t){return(await we.delete(`/clientes/${t}`)).data}async toggleActivo(t){return(await we.patch(`/clientes/${t}/toggle-activo`)).data}}const Tn=new KY,Xr={getMisPagos:async()=>{try{const e=await we.get("/clientes-pagos/mis");return{success:!0,pagos:e.data.pagos||[],resumen:e.data.resumen||{}}}catch(e){return console.error("Error al obtener mis pagos:",e),{success:!1,error:e.response?.data?.error||"Error al obtener pagos"}}},getResumen:async()=>{try{return{success:!0,resumen:(await we.get("/clientes-pagos/resumen")).data.resumen||[]}}catch(e){return console.error("Error obteniendo resumen de pagos:",e),{success:!1,error:e.response?.data?.error||"Error al obtener resumen"}}},getPagosCliente:async e=>{try{return{success:!0,pagos:(await we.get(`/clientes-pagos/cliente/${e}`)).data.pagos||[]}}catch(t){return console.error("Error obteniendo pagos del cliente:",t),{success:!1,error:t.response?.data?.error||"Error al obtener pagos del cliente"}}},pagarPeriodo:async e=>{try{return{success:!0,message:(await we.post(`/clientes-pagos/${e}/pagar`)).data.message}}catch(t){return{success:!1,error:t.response?.data?.error||"Error al registrar pago"}}},abonarPeriodo:async(e,t)=>{try{const r=await we.post(`/clientes-pagos/${e}/abonar`,{monto:t});return{success:!0,message:r.data.message,estado:r.data.estado,monto_pagado:r.data.monto_pagado}}catch(r){return{success:!1,error:r.response?.data?.error||"Error al registrar abono"}}},suspenderPeriodo:async e=>{try{return{success:!0,message:(await we.post(`/clientes-pagos/${e}/suspender`)).data.message}}catch(t){return{success:!1,error:t.response?.data?.error||"Error al suspender"}}},reactivarPeriodo:async e=>{try{return{success:!0,message:(await we.post(`/clientes-pagos/${e}/reactivar`)).data.message}}catch(t){return{success:!1,error:t.response?.data?.error||"Error al reactivar"}}},generarPeriodos:async(e,t)=>{try{return{success:!0,generados:(await we.post(`/clientes-pagos/cliente/${e}/generar`,t)).data.generados}}catch(r){return{success:!1,error:r.response?.data?.error||"Error al generar periodos"}}},ensureNext:async()=>{try{return{success:!0,creados:(await we.post("/clientes-pagos/ensure-next")).data.creados}}catch(e){return{success:!1,error:e.response?.data?.error||"Error al asegurar periodos"}}}},KE={crear:async({cliente_id:e,tipo_ficha_id:t,cantidad:r,precio_unitario:a,observaciones:l})=>{try{return{success:!0,venta:(await we.post("/ventas-ocasionales",{cliente_id:e,tipo_ficha_id:t,cantidad:r,precio_unitario:a,observaciones:l})).data.venta}}catch(o){return console.error("Error creando venta ocasional:",o),{success:!1,error:o.response?.data?.detail||o.response?.data?.error||"Error al crear venta"}}},listar:async(e={})=>{try{return{success:!0,ventas:(await we.get("/ventas-ocasionales",{params:e})).data.ventas||[]}}catch(t){return console.error("Error listando ventas ocasionales:",t),{success:!1,error:t.response?.data?.error||"Error al listar ventas"}}}},YY={listar:async(e={})=>(await we.get("/reportes/historial-global",{params:e})).data},YE={listar:async({q:e,revendedor_id:t,page:r=1,pageSize:a=25}={})=>{const l={};return e&&(l.q=e),t&&(l.revendedor_id=t),l.page=r,l.pageSize=a,(await we.get("/notas",{params:l})).data},eliminar:async e=>(await we.delete(`/notas/${e}`)).data};function XY(e){const t=new EventSource("/api/stream",{withCredentials:!0}),r=a=>l=>{try{e?.(a,JSON.parse(l.data))}catch{}};return t.addEventListener("tarea-creada",r("tarea-creada")),t.addEventListener("tarea-actualizada",r("tarea-actualizada")),t.addEventListener("nota-creada",r("nota-creada")),t.addEventListener("nota-actualizada",r("nota-actualizada")),t.addEventListener("nota-eliminada",r("nota-eliminada")),t.addEventListener("inventario-actualizado",r("inventario-actualizado")),()=>t.close()}const XE=e=>new Intl.NumberFormat("es-MX").format(Number(e||0)),WE=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(Number(e||0)),WY=e=>{if(!e)return"-";try{const t=e.includes("T")?new Date(e):new Date(e.replace(" ","T"));return isNaN(t.getTime())?String(e).slice(0,19).replace("T"," "):t.toLocaleString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch{return String(e).slice(0,19).replace("T"," ")}},ZY=()=>{const[e,t]=y.useState({items:[],page:1,pageSize:25,total:0}),[r,a]=y.useState(!1),[l,o]=y.useState(""),[u,f]=y.useState({tipo:"",q:"",tipo_ficha_id:"",desde:"",hasta:"",page:1,pageSize:25}),m=y.useMemo(()=>Math.max(1,Math.ceil((e.total||0)/(e.pageSize||25))),[e.total,e.pageSize]),h=async()=>{a(!0),o("");try{const v=await YY.listar(u);t(v)}catch{o("No se pudo cargar")}finally{a(!1)}};y.useEffect(()=>{h()},[u.page,u.pageSize]);const p=(v,j)=>f(N=>({...N,[v]:j,page:1})),x=()=>{const v=["Fecha","Tipo evento","Entidad","Nombre","Tipo ficha","Duración(h)","Cantidad","Precio unit","Monto","Periodo"],j=e.items.map(_=>[_.fecha||"",_.tipo_evento||"",_.entidad_tipo||"",_.entidad_nombre||"",_.tipo_ficha_nombre||"",_.duracion_horas||"",_.cantidad||"",_.precio_unitario??"",_.monto??"",_.periodo_year&&_.periodo_month?`${_.periodo_year}-${String(_.periodo_month).padStart(2,"0")}`:""]),N=[v,...j].map(_=>_.map(A=>typeof A=="string"&&A.includes(",")?'"'+A+'"':A).join(",")).join(`
`),w=new Blob([N],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),E=document.createElement("a");E.href=S,E.download=`historial_global_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(S)};return n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Historial Global"}),n.jsxs("button",{onClick:x,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white hover:bg-emerald-700",children:[n.jsx(Of,{className:"w-4 h-4"})," Exportar CSV"]})]}),n.jsxs("div",{className:"bg-white rounded-xl border p-4 mb-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Tipo"}),n.jsxs("select",{value:u.tipo,onChange:v=>p("tipo",v.target.value),className:"w-full border rounded-lg px-3 py-2",children:[n.jsx("option",{value:"",children:"Todos"}),n.jsx("option",{value:"entrega",children:"Entregas a revendedores"}),n.jsx("option",{value:"venta_ocasional",children:"Ventas a ocasionales"}),n.jsx("option",{value:"pago_servicio",children:"Pagos de servicio"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Buscar"}),n.jsx("input",{value:u.q,onChange:v=>p("q",v.target.value),placeholder:"Entidad o tipo de ficha",className:"w-full border rounded-lg px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Tipo Ficha ID"}),n.jsx("input",{type:"number",value:u.tipo_ficha_id,onChange:v=>p("tipo_ficha_id",v.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Desde"}),n.jsx("input",{type:"date",value:u.desde,onChange:v=>p("desde",v.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Hasta"}),n.jsx("input",{type:"date",value:u.hasta,onChange:v=>p("hasta",v.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 w-full",children:"Buscar"})})]}),n.jsx("div",{className:"flex items-center justify-between mt-3 text-sm text-gray-500",children:n.jsxs("div",{className:"inline-flex items-center gap-2",children:[n.jsx(Tf,{className:"w-4 h-4"})," Usa filtros y paginación"]})})]}),n.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm border-separate border-spacing-0",children:[n.jsx("thead",{className:"bg-gray-50 text-gray-700 text-left",children:n.jsxs("tr",{className:"divide-x divide-gray-200",children:[n.jsx("th",{className:"px-3 py-2",children:"Fecha"}),n.jsx("th",{className:"px-3 py-2",children:"Tipo"}),n.jsx("th",{className:"px-3 py-2",children:"Entidad"}),n.jsx("th",{className:"px-3 py-2",children:"Nombre"}),n.jsx("th",{className:"px-3 py-2",children:"Tipo Ficha"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Duración"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Cantidad"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Precio Unit."}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Monto"}),n.jsx("th",{className:"px-3 py-2",children:"Periodo"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:"10",className:"px-3 py-6 text-center text-gray-500",children:"Cargando..."})}):l?n.jsx("tr",{children:n.jsx("td",{colSpan:"10",className:"px-3 py-6 text-center text-red-600",children:l})}):e.items.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"10",className:"px-3 py-6 text-center text-gray-500",children:"Sin resultados"})}):e.items.map((v,j)=>{const N=[v.tipo_evento||"x",v.entidad_tipo||"x",v.entidad_nombre||"x",v.tipo_ficha_id??"nf",v.fecha||j].join("|");return n.jsxs("tr",{className:"border-t border-gray-200 divide-x divide-gray-100 odd:bg-white even:bg-gray-50/20",children:[n.jsx("td",{className:"px-3 py-2",children:WY(v.fecha)}),n.jsx("td",{className:"px-3 py-2 capitalize",children:(v.tipo_evento||"").replace("_"," ")}),n.jsx("td",{className:"px-3 py-2 capitalize",children:(v.entidad_tipo||"").replace("_"," ")}),n.jsx("td",{className:"px-3 py-2",children:v.entidad_nombre}),n.jsx("td",{className:"px-3 py-2",children:v.tipo_ficha_nombre||"-"}),n.jsx("td",{className:"px-3 py-2 text-right",children:v.duracion_horas?XE(v.duracion_horas):"-"}),n.jsx("td",{className:"px-3 py-2 text-right",children:v.cantidad?XE(v.cantidad):"-"}),n.jsx("td",{className:"px-3 py-2 text-right",children:v.precio_unitario!=null?WE(v.precio_unitario):"-"}),n.jsx("td",{className:"px-3 py-2 text-right",children:v.monto!=null?WE(v.monto):"-"}),n.jsx("td",{className:"px-3 py-2",children:v.periodo_year&&v.periodo_month?`${v.periodo_year}-${String(v.periodo_month).padStart(2,"0")}`:"-"})]},N)})})]})}),n.jsxs("div",{className:"flex items-center justify-between p-3 border-t bg-gray-50 text-sm",children:[n.jsxs("div",{children:["Mostrando ",e.items.length," de ",e.total," registros"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{disabled:u.page<=1,onClick:()=>f(v=>({...v,page:Math.max(1,v.page-1)})),className:"px-2 py-1 rounded border bg-white disabled:opacity-50",children:n.jsx(z0,{className:"w-4 h-4"})}),n.jsxs("span",{children:["Página ",e.page," de ",m]}),n.jsx("button",{disabled:u.page>=m,onClick:()=>f(v=>({...v,page:v.page+1})),className:"px-2 py-1 rounded border bg-white disabled:opacity-50",children:n.jsx(L0,{className:"w-4 h-4"})}),n.jsx("select",{value:u.pageSize,onChange:v=>f(j=>({...j,pageSize:parseInt(v.target.value)||25,page:1})),className:"ml-2 border rounded px-2 py-1",children:[10,25,50,100].map(v=>n.jsxs("option",{value:v,children:[v,"/página"]},v))})]})]})]})]})},ZE=({open:e,onClose:t,title:r,children:a})=>e?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:t}),n.jsxs("div",{className:"relative bg-white w-full max-w-2xl rounded-xl shadow-xl border p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold",children:r}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),a]})]}):null,QY=()=>{const{revendedores:e}=Hn(),[t,r]=y.useState({items:[],page:1,pageSize:25,total:0}),[a,l]=y.useState({q:"",revendedor_id:"",page:1,pageSize:25}),[o,u]=y.useState(!1),[f,m]=y.useState(""),[h,p]=y.useState({open:!1,item:null}),[x,v]=y.useState({open:!1,id:null}),j=y.useMemo(()=>Math.max(1,Math.ceil((t.total||0)/(t.pageSize||25))),[t.total,t.pageSize]),N=_=>{if(!_)return"-";try{const A=_.includes("T")?new Date(_):new Date(_.replace(" ","T"));return isNaN(A.getTime())?String(_).slice(0,19).replace("T"," "):A.toLocaleString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch{return String(_).slice(0,19).replace("T"," ")}},w=async()=>{u(!0),m("");try{const _=await YE.listar(a);r(_)}catch{m("No se pudo cargar")}finally{u(!1)}};y.useEffect(()=>{w()},[a.page,a.pageSize]);const S=(_,A)=>l(P=>({...P,[_]:A,page:1})),E=async _=>{try{await YE.eliminar(_),v({open:!1,id:null}),w()}catch{alert("No se pudo eliminar")}};return n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Notas de Trabajadores"})}),n.jsxs("div",{className:"bg-white rounded-xl border p-4 mb-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(xi,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),n.jsx("input",{value:a.q,onChange:_=>S("q",_.target.value),placeholder:"Título o contenido",className:"w-full border rounded-lg pl-9 pr-3 py-2"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Revendedor"}),n.jsxs("select",{value:a.revendedor_id,onChange:_=>S("revendedor_id",_.target.value),className:"w-full border rounded-lg px-3 py-2",children:[n.jsx("option",{value:"",children:"Todos"}),e.map(_=>n.jsx("option",{value:_.id,children:_.responsable||_.nombre||_.nombre_negocio},_.id))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:w,className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 w-full",children:"Buscar"})})]}),n.jsx("div",{className:"flex items-center justify-between mt-3 text-sm text-gray-500",children:n.jsxs("div",{className:"inline-flex items-center gap-2",children:[n.jsx(Tf,{className:"w-4 h-4"})," Usa filtros y paginación"]})})]}),n.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm border-separate border-spacing-0",children:[n.jsx("thead",{className:"bg-gray-50 text-gray-700 text-left",children:n.jsxs("tr",{className:"divide-x divide-gray-200",children:[n.jsx("th",{className:"px-3 py-2 w-44",children:"Fecha"}),n.jsx("th",{className:"px-3 py-2 w-40",children:"Trabajador"}),n.jsx("th",{className:"px-3 py-2 w-56",children:"Revendedor"}),n.jsx("th",{className:"px-3 py-2 w-64",children:"Título"}),n.jsx("th",{className:"px-3 py-2",children:"Contenido"}),n.jsx("th",{className:"px-3 py-2 w-40",children:"Acciones"})]})}),n.jsx("tbody",{children:o?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-3 py-6 text-center text-gray-500",children:"Cargando..."})}):f?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-3 py-6 text-center text-red-600",children:f})}):t.items.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-3 py-6 text-center text-gray-500",children:"Sin resultados"})}):t.items.map(_=>n.jsxs("tr",{className:"border-t border-gray-200 divide-x divide-gray-100 odd:bg-white even:bg-gray-50/20",children:[n.jsx("td",{className:"px-3 py-2",children:N(_.created_at)}),n.jsx("td",{className:"px-3 py-2",children:_.username}),n.jsx("td",{className:"px-3 py-2",children:_.revendedor_nombre||"-"}),n.jsx("td",{className:"px-3 py-2 font-medium",title:_.titulo||"",children:_.titulo}),n.jsx("td",{className:"px-3 py-2 text-gray-700 max-w-[520px] truncate",title:_.contenido||"",children:_.contenido}),n.jsxs("td",{className:"px-3 py-2 space-x-2",children:[n.jsxs("button",{onClick:()=>p({open:!0,item:_}),className:"inline-flex items-center gap-1 px-3 py-1 rounded-md bg-slate-100",children:[n.jsx(Sa,{className:"w-4 h-4"})," Ver"]}),n.jsxs("button",{onClick:()=>v({open:!0,id:_.id}),className:"inline-flex items-center gap-1 px-3 py-1 rounded-md bg-red-50 text-red-700",children:[n.jsx(ta,{className:"w-4 h-4"})," Eliminar"]})]})]},_.id))})]})}),n.jsxs("div",{className:"flex items-center justify-between p-3 border-t bg-gray-50 text-sm",children:[n.jsxs("div",{children:["Mostrando ",t.items.length," de ",t.total," registros"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{disabled:a.page<=1,onClick:()=>l(_=>({..._,page:Math.max(1,_.page-1)})),className:"px-2 py-1 rounded border bg-white disabled:opacity-50",children:n.jsx(z0,{className:"w-4 h-4"})}),n.jsxs("span",{children:["Página ",t.page," de ",j]}),n.jsx("button",{disabled:a.page>=j,onClick:()=>l(_=>({..._,page:_.page+1})),className:"px-2 py-1 rounded border bg-white disabled:opacity-50",children:n.jsx(L0,{className:"w-4 h-4"})}),n.jsx("select",{value:a.pageSize,onChange:_=>l(A=>({...A,pageSize:parseInt(_.target.value)||25,page:1})),className:"ml-2 border rounded px-2 py-1",children:[10,25,50,100].map(_=>n.jsxs("option",{value:_,children:[_,"/página"]},_))})]})]})]}),n.jsx(ZE,{open:h.open,onClose:()=>p({open:!1,item:null}),title:h.item?h.item.titulo:"Nota",children:h.item&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Creada: ",N(h.item.created_at)," por ",n.jsx("span",{className:"font-medium",children:h.item.username})]}),h.item.revendedor_nombre&&n.jsxs("div",{className:"text-sm",children:["Revendedor: ",h.item.revendedor_nombre]}),n.jsx("div",{className:"whitespace-pre-wrap text-gray-800 border rounded-lg p-3",children:h.item.contenido})]})}),n.jsx(ZE,{open:x.open,onClose:()=>v({open:!1,id:null}),title:"Eliminar nota",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{children:"Esta acción no se puede deshacer. ¿Deseas eliminar la nota seleccionada?"}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-2 rounded-lg border",onClick:()=>v({open:!1,id:null}),children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 rounded-lg bg-red-600 text-white",onClick:()=>E(x.id),children:"Eliminar"})]})]})})]})},JY="modulepreload",eX=function(e){return"/"+e},QE={},tX=function(t,r,a){let l=Promise.resolve();if(r&&r.length>0){let m=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");l=m(r.map(h=>{if(h=eX(h),h in QE)return;QE[h]=!0;const p=h.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":JY,p||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((j,N)=>{v.addEventListener("load",j),v.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return l.then(u=>{for(const f of u||[])f.status==="rejected"&&o(f.reason);return t().catch(o)})},rX=({notification:e,onClose:t})=>{if(!e?.show)return null;const r=e.type||"info",a={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"};return n.jsxs("div",{className:`mb-4 p-3 border rounded-lg flex items-center justify-between ${a[r]||a.info}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[r==="success"&&n.jsx(St,{className:"w-4 h-4"}),r==="error"&&n.jsx(Zt,{className:"w-4 h-4"}),r==="warning"&&n.jsx(Tt,{className:"w-4 h-4"}),r==="info"&&n.jsx(Ni,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:e.message})]}),n.jsx("button",{onClick:t,className:"p-1 text-gray-500 hover:text-gray-700","aria-label":"Cerrar",children:n.jsx(Qt,{className:"w-4 h-4"})})]})},aX=({errorModal:e,onClose:t})=>e?.show?n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4 shadow-2xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:n.jsx(Zt,{className:"h-6 w-6 text-red-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ocurrió un error"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e.message||"Ha ocurrido un error inesperado."}),n.jsx("div",{className:"flex space-x-3",children:n.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-sm bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cerrar"})})]})})}):null,nX=({modalConfig:e,onClose:t,onCopy:r})=>{if(!e?.show)return null;const{usuario:a,password:l,nombre:o}=e;return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4 shadow-2xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:n.jsx(St,{className:"h-6 w-6 text-green-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Usuario Creado Exitosamente"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Guarda estas credenciales para ",n.jsx("strong",{children:o||"el nuevo usuario"}),". No se mostrarán de nuevo."]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 space-y-3 text-left border",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Usuario:"}),n.jsx("code",{className:"text-sm bg-white px-2 py-1 rounded border",children:a})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Contraseña:"}),n.jsx("code",{className:"text-sm bg-white px-2 py-1 rounded border",children:l})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:()=>r?.(`Usuario: ${a}
Contraseña: ${l}`),className:"flex-1 px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[n.jsx(zP,{className:"w-4 h-4"})," Copiar"]}),n.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-sm bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cerrar"})]})]})})})},kT=({isOpen:e,onClose:t,onCreated:r})=>{const[a,l]=y.useState({tipo:"servicio",nombre_completo:"",telefono:"",email:"",direccion:"",latitud:"",longitud:"",plan:"",velocidad_mbps:"",cuota_mensual:"",fecha_instalacion:"",fecha_primer_corte:"",dia_corte:"",estado:"activo",activo:!0}),[o,u]=y.useState({}),[f,m]=y.useState(!1),[h,p]=y.useState(!1),[x,v]=y.useState([]),[j,N]=y.useState(!1),[w,S]=y.useState(!1),E=z=>{if(!z)return null;const F=String(z).trim(),W=F.match(/(-?\d{1,2}\.\d{4,})\s*,\s*(-?\d{1,3}\.\d{4,})/);if(W){const R=parseFloat(W[1]),H=parseFloat(W[2]);if(!isNaN(R)&&!isNaN(H))return{lat:R,lon:H}}if(/google\.\w+\/maps/i.test(F)&&F.includes("@")){const R=F.split("@")[1];if(R){const H=R.split(",");if(H.length>=2){const T=parseFloat(H[0]),L=parseFloat(H[1]);if(!isNaN(T)&&!isNaN(L))return{lat:T,lon:L}}}}try{const R=new URL(F),H=R.searchParams.get("query")||R.searchParams.get("q");if(H){const T=H.match(/(-?\d{1,2}\.\d{4,})\s*,\s*(-?\d{1,3}\.\d{4,})/);if(T){const L=parseFloat(T[1]),B=parseFloat(T[2]);if(!isNaN(L)&&!isNaN(B))return{lat:L,lon:B}}}}catch{}return null};if(!e)return null;const _=()=>{const z={};if(["servicio","ocasional"].includes(a.tipo)||(z.tipo="Selecciona un tipo válido"),a.nombre_completo?.trim()||(z.nombre_completo="Nombre completo requerido"),a.tipo==="servicio"){(!a.latitud||!a.longitud)&&(z.ubicacion="Selecciona la ubicación exacta (usa Buscar o Mi ubicación)"),(a.cuota_mensual===""||isNaN(Number(a.cuota_mensual))||Number(a.cuota_mensual)<=0)&&(z.cuota_mensual="Cuota mensual requerida (> 0)"),a.fecha_instalacion||(z.fecha_instalacion="Fecha de instalación requerida");const F=parseInt(a.dia_corte,10);(!F||F<1||F>31)&&(z.dia_corte="Día de corte 1-31 requerido")}return u(z),Object.keys(z).length===0},A=z=>{const{name:F,value:W,type:R,checked:H}=z.target;l(T=>({...T,[F]:R==="checkbox"?H:W})),F==="direccion"&&(v([]),N(!1))},P=async()=>{if(_()){m(!0);try{const z={tipo:a.tipo,nombre_completo:a.nombre_completo.trim(),telefono:a.telefono?.trim()||null,email:a.email?.trim()||null,direccion:a.direccion?.trim()||null,latitud:a.latitud!==""?Number(a.latitud):null,longitud:a.longitud!==""?Number(a.longitud):null,plan:null,velocidad_mbps:null,cuota_mensual:a.tipo==="servicio"&&a.cuota_mensual!==""?Number(a.cuota_mensual):null,fecha_instalacion:a.tipo==="servicio"&&a.fecha_instalacion||null,fecha_primer_corte:a.tipo==="servicio"&&a.fecha_primer_corte||null,dia_corte:a.tipo==="servicio"&&a.dia_corte!==""?parseInt(a.dia_corte,10):null,estado:null,activo:a.activo?1:0},F=await Tn.crear(z);F?.success?(r?.(F.cliente||{}),t?.()):u({general:F?.error||"No se pudo crear el cliente"})}catch(z){u({general:z.response?.data?.error||"Error al crear cliente"})}finally{m(!1)}}},D=async()=>{const z=(a.direccion||"").trim();if(!z){u(W=>({...W,direccion:"Ingresa una dirección para buscar"}));return}const F=E(z);if(F){const W={...a,latitud:F.lat.toFixed(6),longitud:F.lon.toFixed(6)};l(W),u(R=>({...R,ubicacion:void 0})),v([]),N(!0);return}if(/(maps\.app\.goo\.gl|goo\.gl\/maps|google\.[a-z.]+\/maps)/i.test(z))try{p(!0),N(!0);const R=await(await fetch(`/api/geo/resolve?url=${encodeURIComponent(z)}`,{headers:{Accept:"application/json"}})).json();if(R?.success&&R.lat&&R.lon){const H={...a,latitud:Number(R.lat).toFixed(6),longitud:Number(R.lon).toFixed(6)};R.display_name&&(H.direccion=R.display_name),l(H),u(T=>({...T,ubicacion:void 0})),v([]);return}}catch{}finally{p(!1)}p(!0),N(!0),u(W=>({...W,direccion:void 0}));try{const R=await(await fetch(`/api/geo/search?limit=5&q=${encodeURIComponent(z)}`,{headers:{Accept:"application/json"}})).json();R?.success?v(Array.isArray(R.results)?R.results:[]):v([])}catch{v([])}finally{p(!1)}},M=()=>{if(!navigator.geolocation){u(z=>({...z,ubicacion:"Geolocalización no disponible en este navegador"}));return}navigator.geolocation.getCurrentPosition(z=>{const F=Number(z.coords.latitude).toFixed(6),W=Number(z.coords.longitude).toFixed(6);l(R=>({...R,latitud:F,longitud:W})),u(R=>({...R,ubicacion:void 0}))},()=>u(z=>({...z,ubicacion:"No se pudo obtener tu ubicación"})),{enableHighAccuracy:!0,timeout:6e3})},O=a?.direccion?.trim()?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a.direccion.trim())}`:"";return n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto overflow-x-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(sn,{className:"w-5 h-5"})," Nuevo Cliente"]}),n.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:n.jsx(Qt,{className:"w-5 h-5"})})]}),o.general&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-lg text-sm",children:o.general}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo *"}),n.jsxs("select",{name:"tipo",value:a.tipo,onChange:A,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${o.tipo?"border-red-500":"border-gray-200"}`,children:[n.jsx("option",{value:"servicio",children:"Servicio mensual"}),n.jsx("option",{value:"ocasional",children:"Ocasional"})]}),o.tipo&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.tipo})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo *"}),n.jsx("input",{name:"nombre_completo",value:a.nombre_completo,onChange:A,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${o.nombre_completo?"border-red-500":"border-gray-200"}`,placeholder:"Ej. Juan Pérez"}),o.nombre_completo&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.nombre_completo})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),n.jsx("input",{name:"telefono",value:a.telefono,onChange:A,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 border-gray-200",placeholder:"555-1234567"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:A,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 border-gray-200",placeholder:"cliente@correo.com"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),n.jsxs("div",{className:"flex flex-wrap items-stretch gap-2",children:[n.jsx("input",{name:"direccion",value:a.direccion,onChange:A,className:`min-w-0 flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${o.direccion?"border-red-500":"border-gray-200"}`,placeholder:"Calle y colonia, ciudad"}),n.jsx("button",{type:"button",onClick:D,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",disabled:h,children:h?"Buscando…":"Buscar"}),n.jsx("button",{type:"button",onClick:M,className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:"Mi ubicación"}),O&&n.jsxs("a",{href:O,target:"_blank",rel:"noreferrer",className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm flex items-center gap-1",title:"Abrir la dirección escrita en Google Maps",children:[n.jsx(_g,{className:"w-4 h-4"})," Abrir en Maps"]})]}),o.ubicacion&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.ubicacion}),x.length>0&&n.jsx("div",{className:"mt-2 bg-white border border-gray-200 rounded-lg shadow-sm max-h-48 overflow-auto",children:x.map((z,F)=>n.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 hover:bg-gray-50 text-sm",children:[n.jsx("button",{type:"button",onClick:()=>{const W=parseFloat(z.lat).toFixed(6),R=parseFloat(z.lon).toFixed(6),H={...a,direccion:z.display_name||a.direccion,latitud:W,longitud:R};l(H),u(T=>({...T,ubicacion:void 0})),v([])},className:"text-left flex-1 truncate",title:"Usar esta dirección y coordenadas",children:z.display_name||`${z.lat}, ${z.lon}`}),n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(z.display_name||"")}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 shrink-0",title:"Ver en Google Maps",children:n.jsx(_g,{className:"w-4 h-4"})})]},`${z.place_id||F}`))}),j&&x.length===0&&!h&&a.direccion?.trim()&&n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"No se encontraron resultados. Intenta ser más específico (calle, colonia, ciudad)."}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",onClick:()=>S(!w),className:"text-xs text-gray-600 hover:text-gray-800",children:w?"Ocultar opciones avanzadas":"Mostrar opciones avanzadas"})}),w&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitud"}),n.jsx("input",{name:"latitud",type:"number",step:"0.000001",value:a.latitud,onChange:A,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 19.4326"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitud"}),n.jsx("input",{name:"longitud",type:"number",step:"0.000001",value:a.longitud,onChange:A,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: -99.1332"})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{type:"button",onClick:async()=>{try{const z=(a.direccion||"").trim();if(!z){u(T=>({...T,direccion:"Ingresa una dirección para geocodificar"}));return}const F=`/api/geo/search?format=json&limit=1&q=${encodeURIComponent(z)}`,R=await(await fetch(F,{headers:{Accept:"application/json"}})).json(),H=Array.isArray(R?.results)?R.results:[];if(H.length>0){const{lat:T,lon:L}=H[0],B={...a,latitud:parseFloat(T).toFixed(6),longitud:parseFloat(L).toFixed(6)};l(B),u($=>({...$,ubicacion:void 0}))}}catch{}},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Coordenadas desde dirección"}),a.latitud&&a.longitud&&n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${a.latitud},${a.longitud}`,target:"_blank",rel:"noreferrer",className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:"Abrir en Google Maps"})]})]}),a.latitud&&a.longitud&&n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Vista previa del mapa"}),n.jsx("div",{className:"w-full h-56 rounded-lg overflow-hidden border",children:(()=>{const z=a.latitud,F=a.longitud,W=`${Number(F)-.005}%2C${Number(z)-.005}%2C${Number(F)+.005}%2C${Number(z)+.005}`,R=`${z}%2C${F}`;return n.jsx("iframe",{title:"mapa-cliente-nuevo",className:"w-full h-full",loading:"lazy",src:`https://www.openstreetmap.org/export/embed.html?bbox=${W}&layer=mapnik&marker=${R}`})})()})]})]})]}),a.tipo==="servicio"&&n.jsxs("div",{className:"mb-4 rounded-lg border border-blue-100 bg-blue-50 p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Datos del servicio"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cuota mensual *"}),n.jsx("input",{name:"cuota_mensual",value:a.cuota_mensual,onChange:A,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${o.cuota_mensual?"border-red-500":"border-gray-200"}`,placeholder:"350"}),o.cuota_mensual&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.cuota_mensual})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de instalación *"}),n.jsx("input",{type:"date",name:"fecha_instalacion",value:a.fecha_instalacion,onChange:A,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${o.fecha_instalacion?"border-red-500":"border-gray-200"}`}),o.fecha_instalacion&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.fecha_instalacion})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha del primer corte (opcional)"}),n.jsx("input",{type:"date",name:"fecha_primer_corte",value:a.fecha_primer_corte,onChange:A,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 border-gray-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Día de corte *"}),n.jsx("input",{name:"dia_corte",value:a.dia_corte,onChange:A,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${o.dia_corte?"border-red-500":"border-gray-200"}`,placeholder:"1-31"}),o.dia_corte&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.dia_corte})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",name:"activo",checked:!!a.activo,onChange:A})," Activo"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:t,type:"button",className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancelar"}),n.jsxs("button",{onClick:P,disabled:f,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[f?n.jsx(Os,{className:"w-4 h-4 animate-spin"}):n.jsx(Hl,{className:"w-4 h-4"}),n.jsx("span",{children:"Crear"})]})]})]})]})})},sX=({modalConfig:e,onConfirm:t,onClose:r,loading:a})=>{if(!e.show)return null;const{usuario:l,deletionInfo:o}=e;if(!o)return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4 shadow-2xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:n.jsx(Zt,{className:"h-6 w-6 text-red-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Confirmar Eliminación"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["¿Estás seguro de eliminar a ",n.jsxs("strong",{className:"text-red-600",children:['"',l?.username,'"']}),"? Esta acción no se puede deshacer."]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 text-sm bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",disabled:a,children:"Cancelar"}),n.jsxs("button",{onClick:t,disabled:a,className:"flex-1 px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:[a?n.jsx(Os,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(ta,{className:"w-4 h-4 mr-2"}),a?"Eliminando...":"Eliminar"]})]})]})})});const{canDelete:u,warnings:f,criticalData:m,recommendations:h}=o;return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full mb-4 ${u?"bg-yellow-100":"bg-red-100"}`,children:u?n.jsx(Tt,{className:"h-6 w-6 text-yellow-600"}):n.jsx(Zt,{className:"h-6 w-6 text-red-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:u?"⚠️ Eliminación con Pérdida de Datos":"🚫 Eliminación Bloqueada"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Usuario: ",n.jsxs("strong",{className:"text-red-600",children:['"',l?.username,'"']})," (",l?.role,")"]})]}),Object.keys(m).length>0&&n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx(BP,{className:"w-4 h-4 mr-2"}),"Datos que se eliminarán permanentemente:"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l?.role==="revendedor"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"📦 Inventarios:"}),n.jsx("span",{className:"font-semibold",children:m.inventarios||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"🎫 Fichas pendientes:"}),n.jsx("span",{className:"font-semibold text-red-600",children:m.fichas_pendientes||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"💰 Ventas registradas:"}),n.jsx("span",{className:"font-semibold",children:m.ventas||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"💵 Monto total ventas:"}),n.jsxs("span",{className:"font-semibold",children:["$",m.monto_total_ventas||0]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"📋 Entregas:"}),n.jsx("span",{className:"font-semibold",children:m.entregas||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"🏦 Cortes de caja:"}),n.jsx("span",{className:"font-semibold",children:m.cortes_caja||0})]})]}),l?.role==="trabajador"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"⏳ Tareas pendientes:"}),n.jsx("span",{className:"font-semibold text-red-600",children:m.tareas_pendientes||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"✅ Tareas completadas:"}),n.jsx("span",{className:"font-semibold",children:m.tareas_completadas||0})]})]})]})]}),f.length>0&&n.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[n.jsxs("h4",{className:"font-semibold text-yellow-800 mb-3 flex items-center",children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Advertencias importantes:"]}),n.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:f.map(p=>{const x=`warn-${Math.abs((p||"").split("").reduce((v,j)=>(v<<5)-v+j.charCodeAt(0),0))}`;return n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"mr-2",children:"•"}),p]},x)})})]}),h.length>0&&n.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsxs("h4",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[n.jsx(Ni,{className:"w-4 h-4 mr-2"}),"Recomendaciones:"]}),n.jsx("ul",{className:"text-sm text-blue-700 space-y-1",children:h.map(p=>{const x=`rec-${Math.abs((p||"").split("").reduce((v,j)=>(v<<5)-v+j.charCodeAt(0),0))}`;return n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"mr-2",children:"💡"}),p]},x)})})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 text-sm bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",disabled:a,children:"Cancelar"}),u?n.jsxs("button",{onClick:t,disabled:a,className:"flex-1 px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:[a?n.jsx(Os,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(ta,{className:"w-4 h-4 mr-2"}),a?"Eliminando...":"Eliminar Definitivamente"]}):n.jsx("div",{className:"flex-1 px-4 py-2 text-sm bg-gray-100 text-gray-500 rounded-lg text-center",children:"Eliminación Bloqueada"})]}),u&&n.jsx("p",{className:"text-xs text-gray-500 text-center mt-3",children:"⚠️ Esta acción es irreversible. Todo el historial se perderá para siempre."})]})})},iX=({isOpen:e,onClose:t,usuarioEditando:r,onSave:a,loading:l,showNotification:o})=>{const[u,f]=y.useState({username:"",password:"",role:"",active:!0,nombre_completo:"",telefono:"",email:"",nombre_negocio:"",direccion:"",latitud:"",longitud:"",especialidad:""}),[m,h]=y.useState({}),[p,x]=y.useState(!1),[v,j]=y.useState([]),[N,w]=y.useState(!1),[S,E]=y.useState(!1),[_,A]=y.useState([]),[P,D]=y.useState(!1),[M,O]=y.useState(""),[z,F]=y.useState(!1),W=y.useCallback(q=>{const Z={};return q.username?.trim()||(Z.username="El nombre de usuario es requerido."),q.role||(Z.role="El rol es requerido."),q.nombre_completo?.trim()||(Z.nombre_completo="El nombre completo es requerido."),!r&&!q.password?.trim()&&(Z.password="La contraseña es requerida para nuevos usuarios."),q.role==="cliente"&&!q.cliente_id&&(Z.cliente_id="Selecciona un cliente para asociar."),q.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(q.email)&&(Z.email="El formato del email no es válido."),Z},[r]);y.useEffect(()=>{if(e){const q=r?{username:r.username||"",password:"",role:r.role||"",active:r.active!==void 0?r.active:!0,nombre_completo:r.nombre_completo||"",telefono:r.telefono||"",email:r.email||"",nombre_negocio:r.nombre_negocio||"",direccion:r.direccion||"",latitud:r.latitud??"",longitud:r.longitud??"",especialidad:r.especialidad||"",cliente_id:r.cliente_id??""}:{username:"",password:"",role:"",active:!0,nombre_completo:"",telefono:"",email:"",nombre_negocio:"",direccion:"",latitud:"",longitud:"",especialidad:"",cliente_id:""};f(q),h(W(q))}},[e,r,W]),y.useEffect(()=>{const q=async()=>{try{D(!0);const le=(await Tn.listar({activo:!0}))?.clientes||[];A(le)}catch{o?.("No se pudieron cargar los clientes activos","error"),A([])}finally{D(!1)}};e&&u.role==="cliente"&&q()},[e,u.role]);const R=q=>{const{name:Z,value:le,type:U,checked:X}=q.target,ne={...u,[Z]:U==="checkbox"?X:le};Z==="username"&&(le&&le.trim()&&(!u.email||u.email===""||u.email===`${u.username}@empresa.com`||u.email.endsWith("@empresa.com"))?ne.email=`${le.trim()}@empresa.com`:(!le||le.trim()==="")&&u.email&&u.email.endsWith("@empresa.com")&&(ne.email="")),f(ne),h(W(ne))},H=()=>{if(!u.role||!u.nombre_completo){o("Selecciona un rol e ingresa el nombre completo primero.","error");return}try{u.role==="revendedor"&&(!u.nombre_negocio||u.nombre_negocio.trim()==="")&&o("💡 Tip: Si agregas el nombre del negocio, la contraseña será más específica y fácil de recordar.","info");const q=VY.generatePassword(u.role,u.nombre_completo,u.nombre_negocio),Z={...u,password:q.password};f(Z),h(W(Z)),o("✅ Contraseña generada exitosamente","success")}catch(q){o(q.message,"error")}},T=()=>{const q=W(u);if(Object.keys(q).length>0){h(q),o("Por favor, corrige los errores marcados.","error");return}a(u)},L=async()=>{try{const q=(u.direccion||"").trim();if(!q){o("Ingresa una dirección para buscar","error");return}w(!0),j([]);const Z=`/api/geo/search?format=json&limit=5&q=${encodeURIComponent(q)}`,U=await(await fetch(Z,{headers:{Accept:"application/json"}})).json(),X=Array.isArray(U?.results)?U.results:[];j(X),X.length===0&&o("No se encontraron resultados para esa dirección","warning")}catch{o("Error al buscar dirección","error")}finally{w(!1)}},B=async()=>{try{if(!navigator.geolocation){o("Geolocalización no disponible en este navegador","error");return}navigator.geolocation.getCurrentPosition(async q=>{const Z=q.coords.latitude,le=q.coords.longitude,U={...u,latitud:Number(Z).toFixed(6),longitud:Number(le).toFixed(6)};try{const ne=await(await fetch(`/api/geo/reverse?lat=${Z}&lon=${le}`,{headers:{Accept:"application/json"}})).json(),ie=ne?.result?.display_name||ne?.display_name;ie&&(U.direccion=ie)}catch{}f(U),h(W(U)),o("Ubicación establecida","success")},q=>{o("No se pudo obtener la ubicación","error")},{enableHighAccuracy:!0,timeout:1e4})}catch{o("No se pudo obtener la ubicación","error")}};if(!e)return null;const $=l||Object.keys(m).length>0;return n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto overflow-x-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Editar Usuario":"Crear Nuevo Usuario"}),n.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:n.jsx(Qt,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("span",{className:"font-medium",children:"Campos obligatorios (*):"})," Nombre de Usuario, Rol, Nombre Completo",!r&&", Contraseña"]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Los demás campos son opcionales. El email se genera automáticamente si no se especifica."})]}),n.jsxs("form",{autoComplete:"off",onSubmit:q=>q.preventDefault(),children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-5 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de Usuario *"}),n.jsx("input",{name:"username",type:"text",value:u.username||"",onChange:R,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.username?"border-red-500":"border-gray-200"}`,placeholder:"maria_juana"}),m.username&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.username})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol *"}),n.jsxs("select",{name:"role",value:u.role||"",onChange:R,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.role?"border-red-500":"border-gray-200"}`,children:[n.jsx("option",{value:"",children:"Seleccionar rol"}),n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"trabajador",children:"Trabajador"}),n.jsx("option",{value:"revendedor",children:"Revendedor"}),n.jsx("option",{value:"cliente",children:"Cliente"})]}),m.role&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.role})]}),u.role==="cliente"&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente asociado *"}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex gap-2 items-stretch",children:[n.jsx("input",{type:"text",placeholder:"Filtrar clientes por nombre...",value:M,onChange:q=>O(q.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsxs("button",{type:"button",onClick:()=>F(!0),className:"px-3 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 text-sm flex items-center gap-2",children:[n.jsx(sn,{className:"w-4 h-4"})," Nuevo cliente"]})]}),n.jsxs("select",{name:"cliente_id",value:u.cliente_id??"",onChange:R,disabled:P,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.cliente_id?"border-red-500":"border-gray-200"}`,children:[n.jsx("option",{value:"",children:P?"Cargando clientes...":"Selecciona un cliente"}),_.filter(q=>M?.trim()?(q.nombre_completo||"").toLowerCase().includes(M.toLowerCase()):!0).map(q=>n.jsxs("option",{value:q.id,children:[q.nombre_completo," ",q.tipo?`(${q.tipo})`:""]},q.id))]}),m.cliente_id&&n.jsx("p",{className:"text-xs text-red-600",children:m.cliente_id})]}),n.jsx(kT,{isOpen:z,onClose:()=>F(!1),onCreated:q=>{if(q?.id){A(le=>[q,...le]);const Z={...u,cliente_id:q.id};f(Z),h(W(Z)),o?.(`Cliente creado: ${q?.nombre_completo||""}`,"success")}}})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Contraseña ",!r&&"*"]}),n.jsxs("div",{className:"flex items-stretch gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("input",{name:"password",type:p?"text":"password",value:u.password||"",onChange:R,className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.password?"border-red-500":"border-gray-200"}`,placeholder:r?"Dejar vacío para no cambiar":"Contraseña",autoComplete:"new-password"}),n.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:n.jsx(Sa,{className:"w-4 h-4"})})]}),n.jsxs("button",{type:"button",onClick:H,className:"px-2 sm:px-3 py-2 text-xs sm:text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center gap-1",title:"Generar contraseña",children:[n.jsx(Pd,{className:"w-4 h-4"}),n.jsx("span",{children:"Generar"})]})]}),m.password&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.password})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo *"}),n.jsx("input",{name:"nombre_completo",type:"text",value:u.nombre_completo||"",onChange:R,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.nombre_completo?"border-red-500":"border-gray-200"}`,placeholder:"Juan Pérez"}),m.nombre_completo&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.nombre_completo})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Teléfono ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),n.jsx("input",{name:"telefono",type:"tel",value:u.telefono||"",onChange:R,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"555-1234567 (opcional)"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional - se genera automáticamente)"})]}),n.jsxs("div",{className:"flex items-stretch gap-2",children:[n.jsx("input",{name:"email",type:"email",value:u.email||"",onChange:R,className:`min-w-0 flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.email?"border-red-500":"border-gray-200"}`,placeholder:"usuario@empresa.com (se genera automático)"}),u.email&&n.jsx("button",{type:"button",onClick:()=>{const q={...u};u.username&&u.username.trim()?q.email=`${u.username.trim()}@empresa.com`:q.email="",f(q),h(W(q))},className:"px-2 sm:px-3 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors text-xs sm:text-sm",title:"Regenerar email automático basado en el username",children:"Auto"})]}),m.email&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.email}),!u.email&&u.username&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Se generará automáticamente: ",u.username,"@empresa.com"]}),!u.email&&!u.username&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se generará automáticamente cuando ingreses el nombre de usuario"})]}),u.role==="revendedor"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre del Negocio ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(recomendado para contraseñas)"})]}),n.jsx("input",{name:"nombre_negocio",type:"text",value:u.nombre_negocio||"",onChange:R,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.nombre_negocio?"border-red-500":"border-gray-200"}`,placeholder:"Tienda de Juan (opcional)"}),m.nombre_negocio&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.nombre_negocio}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se usa para generar contraseñas más específicas"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Dirección ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(más fácil)"})]}),n.jsxs("div",{className:"flex flex-wrap items-stretch gap-2",children:[n.jsx("input",{name:"direccion",type:"text",value:u.direccion||"",onChange:R,className:"min-w-0 flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Calle y colonia, ciudad"}),n.jsx("button",{type:"button",onClick:L,className:"px-2 sm:px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-xs sm:text-sm",disabled:N,children:N?"Buscando…":"Buscar"}),n.jsx("button",{type:"button",onClick:B,className:"px-2 sm:px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-xs sm:text-sm",children:"Mi ubicación"})]}),v.length>0&&n.jsx("div",{className:"mt-2 bg-white border border-gray-200 rounded-lg shadow-sm max-h-48 overflow-auto",children:v.map((q,Z)=>n.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 hover:bg-gray-50 text-sm",children:[n.jsx("button",{type:"button",onClick:()=>{const le={...u,direccion:q.display_name,latitud:parseFloat(q.lat).toFixed(6),longitud:parseFloat(q.lon).toFixed(6)};f(le),h(W(le)),j([]),o("Dirección seleccionada","success")},className:"text-left flex-1 truncate",title:"Usar esta dirección y coordenadas",children:q.display_name}),n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(q.display_name||"")}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 shrink-0",title:"Ver en Google Maps",children:n.jsx(_g,{className:"w-4 h-4"})})]},`${q.place_id||Z}`))}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",onClick:()=>E(!S),className:"text-xs text-gray-600 hover:text-gray-800",children:S?"Ocultar opciones avanzadas":"Mostrar opciones avanzadas"})}),S&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitud"}),n.jsx("input",{name:"latitud",type:"number",step:"0.000001",value:u.latitud,onChange:R,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 19.4326"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitud"}),n.jsx("input",{name:"longitud",type:"number",step:"0.000001",value:u.longitud,onChange:R,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: -99.1332"})]}),n.jsx("div",{className:"flex items-end gap-2",children:n.jsx("button",{type:"button",onClick:async()=>{try{const q=(u.direccion||"").trim();if(!q){o("Ingresa una dirección para geocodificar","error");return}const Z=`/api/geo/search?format=json&limit=1&q=${encodeURIComponent(q)}`,U=await(await fetch(Z,{headers:{Accept:"application/json"}})).json(),X=Array.isArray(U?.results)?U.results:[];if(X.length>0){const{lat:ne,lon:ie}=X[0],G={...u,latitud:parseFloat(ne).toFixed(6),longitud:parseFloat(ie).toFixed(6)};f(G),h(W(G)),o("Coordenadas establecidas desde la dirección","success")}else o("No se encontraron coordenadas para esa dirección","error")}catch{o("Error al geocodificar la dirección","error")}},className:"px-2 sm:px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-xs sm:text-sm",children:"Coords"})})]}),u.latitud&&u.longitud&&n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicación"}),n.jsx("div",{className:"w-full h-48 overflow-hidden rounded-lg border",children:n.jsx("iframe",{title:"Mapa",className:"w-full h-full",src:`https://www.openstreetmap.org/export/embed.html?bbox=${Number(u.longitud)-.01}%2C${Number(u.latitud)-.01}%2C${Number(u.longitud)+.01}%2C${Number(u.latitud)+.01}&layer=mapnik&marker=${u.latitud}%2C${u.longitud}`})}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se guardarán las coordenadas junto con el revendedor."})]})]})]}),u.role==="trabajador"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Especialidad ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),n.jsx("input",{name:"especialidad",type:"text",value:u.especialidad||"",onChange:R,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Técnico en Redes (opcional - default: General)"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Si se deja vacío, se asignará "General"'})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{name:"active",type:"checkbox",checked:u.active||!1,onChange:R,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Usuario activo"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),n.jsxs("button",{type:"button",onClick:T,disabled:$,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",children:[n.jsx(Hl,{className:"w-4 h-4"}),n.jsx("span",{children:r?"Actualizar":"Crear"})]})]})]})]})})},lX=()=>{const{notifyUsersChanged:e,notifyTrabajadoresChanged:t,notifyRevendedoresChanged:r}=Mf(),[a,l]=y.useState([]),[o,u]=y.useState(!0),[f,m]=y.useState(""),[h,p]=y.useState(""),[x,v]=y.useState(""),[j,N]=y.useState(""),[w,S]=y.useState(!1),[E,_]=y.useState(!1),[A,P]=y.useState(null),[D,M]=y.useState({show:!1,message:"",type:""}),[O,z]=y.useState({show:!1,usuario:"",password:"",nombre:""}),[F,W]=y.useState({show:!1,usuario:null,deletionInfo:null}),[R,H]=y.useState({show:!1,message:""}),T=async K=>{try{u(!0);const ge=await Nr.obtenerVistaEliminacion(K.id);ge.success?W({show:!0,usuario:K,deletionInfo:ge.data}):(W({show:!0,usuario:K,deletionInfo:null}),console.error("Error al obtener vista previa:",ge.error))}catch(ge){console.error("Error al abrir modal de eliminación:",ge),W({show:!0,usuario:K,deletionInfo:null})}finally{u(!1)}},[L,B]=y.useState(!1),$=y.useCallback(async()=>{try{u(!0);let K=await Nr.obtenerUsuarios();if(L){const{apiClient:ge}=await tX(async()=>{const{apiClient:ye}=await Promise.resolve().then(()=>sP);return{apiClient:ye}},[]);K={success:!0,data:(await ge.get("/usuarios?includeInactive=1")).data.usuarios}}K.success?(l(K.data),m(""),f&&q("✅ Usuarios cargados exitosamente","success")):(m(K.error),q(K.error,"error"),l([]))}catch{m("Error inesperado al cargar usuarios"),q("Error inesperado al cargar usuarios","error"),l([])}finally{u(!1)}},[L]);y.useEffect(()=>{const K=setTimeout(()=>{$()},150);return()=>clearTimeout(K)},[$]);const q=(K,ge="success")=>{M({show:!0,message:K,type:ge})},Z=()=>{P(null),S(!0)},le=()=>{_(!0)},U=K=>{P(K),S(!0)},X=async K=>{const ge={...K};A&&!ge.password&&delete ge.password,(!ge.email||ge.email.trim()==="")&&(ge.username&&ge.username.trim()?ge.email=`${ge.username.trim()}@empresa.com`:ge.email="usuario@empresa.com"),Object.keys(ge).forEach(Me=>{typeof ge[Me]=="string"&&ge[Me].trim()===""&&(Me==="email"?ge[Me]=`${ge.username||"usuario"}@empresa.com`:Me!=="especialidad"&&(ge[Me]=null))}),ge.role==="revendedor"&&(ge.latitud!==void 0&&(ge.latitud=ge.latitud===null||ge.latitud===""?null:Number(ge.latitud)),ge.longitud!==void 0&&(ge.longitud=ge.longitud===null||ge.longitud===""?null:Number(ge.longitud))),u(!0);try{let Me;const ye=!!A;ye?Me=await Nr.actualizarUsuario(A.id,ge):Me=await Nr.crearUsuario(ge),Me.success?(ye||z({show:!0,usuario:K.username,password:K.password,nombre:K.nombre_completo}),q(ye?"Usuario actualizado":"Usuario creado","success"),S(!1),K.role==="trabajador"&&t(),K.role==="revendedor"&&r(),e(),setTimeout(()=>{$()},300)):q(Me.error,"error")}catch(Me){q(Me.message||"Error al guardar usuario","error")}finally{u(!1)}},ne=async K=>{u(!0);try{const ge=await Nr.toggleEstadoUsuario(K.id);ge.success?(q(ge.data.message,"success"),ge.data.warning&&setTimeout(()=>{q(ge.data.warning,"warning")},1e3),K.role==="trabajador"&&t(),K.role==="revendedor"&&r(),e(),setTimeout(()=>{$()},200)):H({show:!0,message:ge.error||"Error al cambiar estado del usuario"})}catch{H({show:!0,message:"Error inesperado al cambiar estado del usuario"})}finally{u(!1)}},ie=async()=>{const K=F.usuario;if(K){u(!0);try{const ge=await Nr.eliminarUsuario(K.id);ge.success?(q("Usuario eliminado exitosamente","success"),K.role==="trabajador"&&t(),K.role==="revendedor"&&r(),e(),W({show:!1,usuario:null,deletionInfo:null}),setTimeout(()=>{$()},200)):(W({show:!1,usuario:null,deletionInfo:null}),H({show:!0,message:ge.error||"Error desconocido al eliminar usuario"}))}catch{W({show:!1,usuario:null,deletionInfo:null}),H({show:!0,message:"Error inesperado al comunicarse con el servidor. Por favor intenta de nuevo."})}finally{u(!1)}}},G=a.filter(K=>(!h||K.username.toLowerCase().includes(h.toLowerCase())||(K.nombre_completo||"").toLowerCase().includes(h.toLowerCase()))&&(!x||K.role===x)&&(!j||(j==="activo"?K.active:!K.active))),ve=K=>({admin:{icon:Rd,color:"bg-red-100 text-red-800"},trabajador:{icon:OD,color:"bg-blue-100 text-blue-800"},revendedor:{icon:br,color:"bg-green-100 text-green-800"},cliente:{icon:br,color:"bg-purple-100 text-purple-800"}})[K]||{icon:br,color:"bg-gray-100 text-gray-800"};return n.jsxs("div",{className:"p-4 sm:p-6 w-full bg-gray-50 min-h-screen",children:[n.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-14 h-14 bg-white border border-gray-200 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-sm",children:n.jsx(Ea,{className:"w-7 h-7 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Gestión de Usuarios"}),n.jsx("p",{className:"text-gray-600",children:"Administra, crea y edita los usuarios del sistema."})]})]}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",checked:L,onChange:K=>B(K.target.checked)})," Ver inactivos"]}),n.jsxs("button",{onClick:Z,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[n.jsx(zn,{className:"w-4 h-4"}),n.jsx("span",{children:"Nuevo Usuario"})]}),n.jsxs("button",{onClick:le,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors shadow-sm",children:[n.jsx(sn,{className:"w-4 h-4"}),n.jsx("span",{children:"Nuevo Cliente"})]}),n.jsxs("button",{onClick:$,disabled:o,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 shadow-sm",children:[n.jsx(Os,{className:`w-4 h-4 ${o?"animate-spin":""}`}),n.jsx("span",{children:"Actualizar"})]})]})]}),n.jsx(rX,{notification:D,onClose:()=>M({show:!1,message:"",type:""})}),n.jsx(kT,{isOpen:E,onClose:()=>_(!1),onCreated:K=>{q(`Cliente creado: ${K?.nombre_completo||""}`,"success")}}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(xi,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por nombre o usuario...",value:h,onChange:K=>p(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("select",{value:x,onChange:K=>v(K.target.value),className:"sm:w-48 w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Todos los roles"}),n.jsx("option",{value:"admin",children:"Administradores"}),n.jsx("option",{value:"trabajador",children:"Trabajadores"}),n.jsx("option",{value:"revendedor",children:"Revendedores"}),n.jsx("option",{value:"cliente",children:"Clientes"})]}),n.jsxs("select",{value:j,onChange:K=>N(K.target.value),className:"sm:w-48 w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Todos los estados"}),n.jsx("option",{value:"activo",children:"Solo activos"}),n.jsx("option",{value:"inactivo",children:"Solo inactivos"})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Usuario"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rol"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Contacto"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:o?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"text-center p-8 text-gray-500",children:"Cargando..."})}):G.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"text-center p-8 text-gray-500",children:"No se encontraron usuarios."})}):G.map(K=>{const{icon:ge,color:Me}=ve(K.role);return n.jsxs("tr",{className:`hover:bg-gray-50 ${K.active?"":"bg-gray-50 opacity-75"}`,children:[n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:`text-sm font-medium ${K.active?"text-gray-900":"text-gray-500"}`,children:[K.nombre_completo||K.username,!K.active&&n.jsx("span",{className:"ml-2 text-xs text-red-500 font-normal",children:"(Inactivo)"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["@",K.username]})]}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${Me} ${K.active?"":"opacity-60"}`,children:[n.jsx(ge,{className:"w-3 h-3"}),K.role]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:`inline-flex items-center gap-1 text-sm font-medium ${K.active?"text-green-600 bg-green-50":"text-red-600 bg-red-50"} px-2 py-1 rounded-full`,children:[K.active?n.jsx(St,{className:"w-4 h-4"}):n.jsx(K_,{className:"w-4 h-4"}),K.active?"Activo":"Inactivo"]})}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:K.telefono||"-"}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>U(K),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg",title:"Editar",children:n.jsx(Lc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ne(K),className:`p-2 rounded-lg ${K.active?"text-orange-600 hover:bg-orange-100":"text-green-600 hover:bg-green-100"}`,title:K.active?"Desactivar":"Activar",disabled:o,children:K.active?n.jsx(_s,{className:"w-4 h-4"}):n.jsx(Sa,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>T(K),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",title:"Eliminar",disabled:o,children:n.jsx(ta,{className:"w-4 h-4"})})]})})]},K.id)})})]})}),n.jsx(iX,{isOpen:w,onClose:()=>S(!1),usuarioEditando:A,onSave:X,loading:o,showNotification:q}),n.jsx(nX,{modalConfig:O,onClose:()=>z({show:!1}),onCopy:K=>navigator.clipboard.writeText(K).then(()=>q("Copiado al portapapeles"))}),n.jsx(sX,{modalConfig:F,onConfirm:ie,onClose:()=>W({show:!1,usuario:null,deletionInfo:null}),loading:o}),n.jsx(aX,{errorModal:R,onClose:()=>H({show:!1,message:""})})]})},PT=({columns:e=[],data:t=[],loading:r=!1,error:a=null,emptyMessage:l="Sin registros",rowKey:o=(h,p)=>h.id??p,dense:u=!1,onRowClick:f,className:m=""})=>{const h=u?"px-3 py-2":"px-4 py-3";return n.jsx("div",{className:`bg-white rounded-xl border overflow-hidden ${m}`,children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm border-separate border-spacing-0",children:[n.jsx("thead",{className:"bg-gray-50 text-gray-700",children:n.jsx("tr",{className:"border-b border-gray-200",children:e.map(p=>n.jsx("th",{className:`${h} text-left font-medium uppercase text-xs tracking-wide ${p.className||""}`,children:p.header},p.accessor||p.header))})}),n.jsxs("tbody",{children:[r&&n.jsx("tr",{children:n.jsx("td",{colSpan:e.length,className:`${h} text-center text-gray-500`,children:"Cargando..."})}),!r&&a&&n.jsx("tr",{children:n.jsx("td",{colSpan:e.length,className:`${h} text-center text-red-600`,children:a})}),!r&&!a&&t.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:e.length,className:`${h} text-center text-gray-500`,children:l})}),!r&&!a&&t.map((p,x)=>n.jsx("tr",{onClick:()=>f&&f(p),className:`border-b border-gray-100 hover:bg-gray-50 transition-colors ${f?"cursor-pointer":""}`,children:e.map(v=>{const j=p[v.accessor],N=v.cell?v.cell(j,p):j??"";return n.jsx("td",{className:`${h} align-middle ${v.tdClassName||""}`,children:N},v.accessor||v.header)})},o(p,x)))]})]})})})},DT=({message:e="Cargando..."})=>n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),n.jsx("p",{className:"text-gray-600 font-medium",children:e})]})}),oX=({user:e,onDismiss:t,onRefresh:r})=>{const a=l=>({admin:"Administrador",revendedor:"Revendedor",trabajador:"Técnico"})[l]||l;return n.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 animate-in slide-in-from-top duration-500",children:n.jsx("div",{className:"bg-white shadow-2xl border-l-4 border-blue-500",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Tt,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Cambio de Sesión Detectado"}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Local Dev"})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["La sesión cambió a ",n.jsx("span",{className:"font-semibold text-gray-900",children:a(e?.tipo_usuario)}),e?.nombre_completo&&n.jsxs("span",{className:"text-gray-500",children:[" • ",e.nombre_completo]})]}),n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"}),"En desarrollo local, las cookies se comparten entre pestañas"]})}),n.jsxs("p",{className:"text-xs text-gray-500",children:["� Redirigiendo automáticamente a la interfaz de ",a(e?.tipo_usuario),"..."]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:r,className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 transform hover:scale-105 shadow-sm",children:[n.jsx(Os,{className:"w-4 h-4"}),n.jsx("span",{children:"Actualizar Página"})]}),n.jsx("button",{onClick:t,className:"inline-flex items-center justify-center w-8 h-8 bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 rounded-lg transition-all duration-200 transform hover:scale-105",title:"Cerrar notificación",children:n.jsx(Qt,{className:"w-4 h-4"})})]})]})})})})},cX=({isVisible:e,onRenew:t,onDismiss:r,onLogout:a})=>e?n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[9999]",style:{backgroundColor:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 p-6 border border-gray-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Tt,{className:"w-6 h-6 text-amber-500 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sesión por expirar"})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Qt,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(ba,{className:"w-5 h-5 text-gray-500 mr-2"}),n.jsxs("p",{className:"text-gray-700",children:["Tu sesión expirará en ",n.jsx("strong",{children:"5 minutos"})," por seguridad."]})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"¿Deseas continuar trabajando? Si no respondes, serás desconectado automáticamente."}),n.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Tt,{className:"w-4 h-4 text-amber-600 mr-2 flex-shrink-0"}),n.jsxs("p",{className:"text-sm text-amber-800",children:[n.jsx("strong",{children:"Importante:"})," Guarda tu trabajo antes de que expire la sesión."]})]})})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:a,className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2.5 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cerrar sesión"}),n.jsx("button",{onClick:t,className:"flex-1 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Continuar sesión"})]}),n.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:n.jsxs("p",{className:"text-xs text-blue-800 text-center",children:[n.jsx("strong",{children:"🛡️ Seguridad:"})," Las sesiones se cierran automáticamente después de 2 horas para proteger tu cuenta."]})})]})}):null,oc=e=>e&&(e.responsable||e.nombre||e.nombre_negocio)||"—",bl=e=>{if(!e)return"—";const t=e.responsable||e.nombre||e.nombre_negocio||"—",r=e.nombre_negocio&&e.nombre_negocio!==t?` — ${e.nombre_negocio}`:"";return`${t}${r}`},uX=e=>e?new Date(e).toLocaleString("es-MX",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"—",dX=()=>{const{revendedores:e}=Hn(),[t,r]=y.useState([]),[a,l]=y.useState([]),[o,u]=y.useState(!1),[f,m]=y.useState(null),[h,p]=y.useState({nombre:"",descripcion:"",revendedor_id:""}),[x,v]=y.useState(!1),[j,N]=y.useState(!1),[w,S]=y.useState(!1),[E,_]=y.useState([]),[A,P]=y.useState(!1),[D,M]=y.useState(!1),[O,z]=y.useState({nombre:"",cantidad:0,estado:"nuevo",descripcion:""}),F=y.useMemo(()=>{const B=(e||[]).map(Z=>({id:`rev-${Z.id}`,type:"revendedor",refId:Z.id,display:(Z.responsable||Z.nombre||Z.nombre_negocio||"").trim()||`Revendedor #${Z.id}`})),$=(t||[]).map(Z=>({id:`cli-${Z.id}`,type:"cliente",refId:Z.id,display:Z.nombre_completo?.trim()||`Cliente #${Z.id}`}));return[...B,...$].sort((Z,le)=>Z.display.toLowerCase().localeCompare(le.display.toLowerCase()))},[e,t]);y.useEffect(()=>{let B=!0;return(async()=>{try{const $=await Tn.listar({tipo:"servicio",activo:!0});if(!B)return;const q=$?.clientes||$||[];r(q)}catch{r([])}})(),()=>{B=!1}},[]);const W=async()=>{try{u(!0),m(null);const B=await Ie.listarEquipos({includeInactive:x});l(B)}catch(B){m(B?.message||"Error cargando equipos"),l([])}finally{u(!1)}};y.useEffect(()=>{W()},[x]);const R=async()=>{try{P(!0);const B=await Ie.listarEquiposInventario();_(B)}catch(B){m(B?.message||"Error cargando inventario"),_([])}finally{P(!1)}};y.useEffect(()=>{w&&R()},[w]);const H=async B=>{if(B.preventDefault(),!(!h.nombre?.trim()||!h.revendedor_id))try{N(!0);const $=String(h.revendedor_id),q=$.startsWith("cli-"),Z=Number($.replace(/^(rev-|cli-)/,"")),le={nombre:h.nombre.trim(),descripcion:h.descripcion?.trim()||null,...q?{cliente_id:Z}:{revendedor_id:Z}};await Ie.crearEquipo(le),p({nombre:"",descripcion:"",revendedor_id:""}),await W()}catch($){m($?.message||"No se pudo crear el equipo")}finally{N(!1)}},T=async B=>{if(!(!B||!window.confirm("¿Eliminar este equipo? Esta acción no se puede deshacer.")))try{await Ie.eliminarEquipo(B),await W()}catch(q){m(q?.message||"No se pudo eliminar")}},L=[{header:"Equipo",accessor:"nombre",cell:B=>n.jsx("span",{className:"font-medium text-gray-800",children:B})},{header:"Cliente",accessor:"cliente_nombre",cell:(B,$)=>{const q=e?.find(Z=>Z.id===$.revendedor_id);return n.jsx("span",{children:q?bl(q):B||"—"})}},{header:"Descripción",accessor:"descripcion",cell:B=>B||n.jsx("span",{className:"text-gray-400",children:"—"})},{header:"Registrado",accessor:"created_at",cell:B=>n.jsx("span",{className:"text-gray-700 font-medium",title:new Date(B).toISOString(),children:uX(B)})},{header:"Estado",accessor:"returned_at",cell:B=>B?n.jsxs("span",{className:"inline-flex items-center gap-1 text-green-700 bg-green-50 px-2 py-1 rounded-full text-xs",children:[n.jsx(St,{className:"w-3 h-3"})," Devuelto"]}):n.jsx("span",{className:"inline-flex items-center gap-1 text-amber-700 bg-amber-50 px-2 py-1 rounded-full text-xs",children:"En uso"})},{header:"",accessor:"acciones",cell:(B,$)=>n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[!$.returned_at&&n.jsx("button",{onClick:async()=>{await Ie.devolverEquipo($.id),await W()},className:"p-2 text-green-700 hover:bg-green-50 rounded-lg",title:"Marcar devuelto",children:n.jsx(St,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>T($.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Eliminar",children:n.jsx(ta,{className:"w-4 h-4"})})]}),tdClassName:"text-right w-24"}];return n.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Inventario de Equipos"}),n.jsxs("div",{className:"flex items-center flex-wrap gap-2 sm:gap-3 w-full sm:w-auto",children:[n.jsx("button",{type:"button",onClick:()=>S(B=>!B),className:`w-full sm:w-auto justify-center inline-flex items-center px-3 py-2 rounded-lg border text-sm ${w?"bg-blue-50 border-blue-200 text-blue-700":"bg-white hover:bg-gray-50"}`,title:"Inventario simple de equipos (por cantidad)",children:w?"Ocultar inventario simple":"Inventario simple"}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",checked:x,onChange:B=>v(B.target.checked)})," Ver inactivos"]})]})]}),n.jsxs("form",{onSubmit:H,className:"bg-white border rounded-xl p-4 md:p-5 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Nombre del equipo"}),n.jsx("input",{type:"text",value:h.nombre,onChange:B=>p($=>({...$,nombre:B.target.value})),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Antena, módem, router...",required:!0,minLength:2})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Cliente"}),n.jsxs("select",{value:h.revendedor_id,onChange:B=>p($=>({...$,revendedor_id:B.target.value})),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Selecciona un cliente…"}),n.jsx("optgroup",{label:"Clientes de servicio",children:F.filter(B=>B.type==="cliente").map(B=>n.jsxs("option",{value:B.id,children:[B.display," #",B.refId]},B.id))}),n.jsx("optgroup",{label:"Revendedores",children:F.filter(B=>B.type==="revendedor").map(B=>n.jsxs("option",{value:B.id,children:[B.display," #",B.refId]},B.id))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Descripción"}),n.jsx("input",{type:"text",value:h.descripcion,onChange:B=>p($=>({...$,descripcion:B.target.value})),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Opcional: serie, detalles, ubicación"})]})]}),n.jsx("div",{className:"flex",children:n.jsxs("button",{type:"submit",disabled:j,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:opacity-60",children:[n.jsx(zn,{className:"w-4 h-4"}),"Agregar"]})})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx(PT,{columns:L,data:a,loading:o,error:f,emptyMessage:"Sin equipos registrados"})}),w&&n.jsxs("div",{className:"bg-white border rounded-xl p-4 md:p-5 space-y-4",children:[n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Inventario simple (por cantidad)"})}),n.jsxs("form",{onSubmit:async B=>{if(B.preventDefault(),!!O.nombre?.trim())try{M(!0),await Ie.crearEquipoInventario({nombre:O.nombre.trim(),cantidad:Number(O.cantidad||0),estado:O.estado,descripcion:O.descripcion?.trim()||null}),z({nombre:"",cantidad:0,estado:"nuevo",descripcion:""}),await R()}catch($){m($?.message||"No se pudo registrar en inventario")}finally{M(!1)}},className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Nombre"}),n.jsx("input",{type:"text",value:O.nombre,onChange:B=>z($=>({...$,nombre:B.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"Módem, router, cable…",required:!0,minLength:2})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Cantidad"}),n.jsx("input",{type:"number",min:0,value:O.cantidad,onChange:B=>z($=>({...$,cantidad:B.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Estado"}),n.jsxs("select",{value:O.estado,onChange:B=>z($=>({...$,estado:B.target.value})),className:"w-full border rounded-lg px-3 py-2",children:[n.jsx("option",{value:"nuevo",children:"Nuevo"}),n.jsx("option",{value:"usado",children:"Usado"}),n.jsx("option",{value:"dañado",children:"Dañado"}),n.jsx("option",{value:"reparación",children:"Reparación"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Descripción"}),n.jsx("input",{type:"text",value:O.descripcion,onChange:B=>z($=>({...$,descripcion:B.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"Opcional"})]}),n.jsx("div",{className:"md:col-span-4 flex items-center justify-end",children:n.jsxs("button",{type:"submit",disabled:D,className:"inline-flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg disabled:opacity-60",children:[n.jsx(zn,{className:"w-4 h-4"})," Registrar"]})})]}),n.jsx("div",{className:"border rounded-xl overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-50 text-slate-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:"Nombre"}),n.jsx("th",{className:"text-left p-3",children:"Cantidad"}),n.jsx("th",{className:"text-left p-3",children:"Estado"}),n.jsx("th",{className:"text-left p-3",children:"Descripción"}),n.jsx("th",{className:"text-right p-3 w-20",children:"Acciones"})]})}),n.jsx("tbody",{children:A?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"p-6 text-center text-gray-500",children:"Cargando…"})}):E.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"p-6 text-center text-gray-400",children:"Sin registros en inventario"})}):E.map(B=>n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3 font-medium text-gray-800",children:B.nombre}),n.jsx("td",{className:"p-3",children:n.jsx("input",{type:"number",min:0,defaultValue:B.cantidad,onBlur:async $=>{const q=Number($.target.value);if(Number.isFinite(q)&&q!==B.cantidad)try{await Ie.actualizarEquipoInventario(B.id,{cantidad:q}),await R()}catch(Z){m(Z?.message||"No se pudo actualizar cantidad")}},className:"w-24 border rounded-lg px-2 py-1"})}),n.jsx("td",{className:"p-3",children:n.jsxs("select",{defaultValue:B.estado,onChange:async $=>{try{await Ie.actualizarEquipoInventario(B.id,{estado:$.target.value}),await R()}catch(q){m(q?.message||"No se pudo actualizar estado")}},className:"border rounded-lg px-2 py-1",children:[n.jsx("option",{value:"nuevo",children:"Nuevo"}),n.jsx("option",{value:"usado",children:"Usado"}),n.jsx("option",{value:"dañado",children:"Dañado"}),n.jsx("option",{value:"reparación",children:"Reparación"})]})}),n.jsx("td",{className:"p-3",children:n.jsx("input",{type:"text",defaultValue:B.descripcion||"",onBlur:async $=>{const q=$.target.value;if((q||"")!==(B.descripcion||""))try{await Ie.actualizarEquipoInventario(B.id,{descripcion:q||null}),await R()}catch(Z){m(Z?.message||"No se pudo actualizar descripción")}},className:"w-full border rounded-lg px-2 py-1",placeholder:"Opcional"})}),n.jsx("td",{className:"p-3 text-right",children:n.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Eliminar",onClick:async()=>{if(window.confirm("¿Eliminar este registro de inventario?"))try{await Ie.eliminarEquipoInventario(B.id),await R()}catch($){m($?.message||"No se pudo eliminar")}},children:n.jsx(ta,{className:"w-4 h-4"})})})]},B.id))})]})})]})]})},fX=({isOpen:e,onClose:t})=>{const[r,a]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[l,o]=y.useState({current:!1,new:!1,confirm:!1}),[u,f]=y.useState(!1),[m,h]=y.useState({show:!1,message:"",type:""}),p=(S,E="success")=>{h({show:!0,message:S,type:E}),setTimeout(()=>{h({show:!1,message:"",type:""})},4e3)},x=()=>{a({currentPassword:"",newPassword:"",confirmPassword:""}),o({current:!1,new:!1,confirm:!1})},v=()=>{x(),t()},j=()=>{const S=Nr.validarCambioPassword(r.currentPassword,r.newPassword,r.confirmPassword);return S.length>0?(p(S[0],"error"),!1):!0},N=async S=>{if(S.preventDefault(),!!j()){f(!0);try{const E=await Nr.cambiarPassword(r.currentPassword,r.newPassword);E.success?(p("Contraseña actualizada exitosamente","success"),setTimeout(()=>{v()},2e3)):p(E.error,"error")}catch{p("Error al cambiar contraseña","error")}finally{f(!1)}}},w=S=>{o(E=>({...E,[S]:!E[S]}))};return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Pd,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Cambiar Contraseña"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Actualiza tu contraseña de acceso"})]})]}),n.jsx("button",{onClick:v,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg transition-colors",children:n.jsx(Qt,{className:"w-5 h-5"})})]}),m.show&&n.jsx("div",{className:`mb-4 p-3 rounded-lg ${m.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[m.type==="success"?n.jsx(St,{className:"w-4 h-4"}):n.jsx(Zt,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:m.message})]})}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña Actual *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:l.current?"text":"password",value:r.currentPassword,onChange:S=>a(E=>({...E,currentPassword:S.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tu contraseña actual",required:!0}),n.jsx("button",{type:"button",onClick:()=>w("current"),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:l.current?n.jsx(_s,{className:"w-4 h-4"}):n.jsx(Sa,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nueva Contraseña *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:l.new?"text":"password",value:r.newPassword,onChange:S=>a(E=>({...E,newPassword:S.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mínimo 6 caracteres",required:!0,minLength:6}),n.jsx("button",{type:"button",onClick:()=>w("new"),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:l.new?n.jsx(_s,{className:"w-4 h-4"}):n.jsx(Sa,{className:"w-4 h-4"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"La contraseña debe tener al menos 6 caracteres"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nueva Contraseña *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:l.confirm?"text":"password",value:r.confirmPassword,onChange:S=>a(E=>({...E,confirmPassword:S.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Repite la nueva contraseña",required:!0}),n.jsx("button",{type:"button",onClick:()=>w("confirm"),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:l.confirm?n.jsx(_s,{className:"w-4 h-4"}):n.jsx(Sa,{className:"w-4 h-4"})})]})]}),r.newPassword&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Fortaleza de contraseña:"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:`flex items-center space-x-2 text-xs ${r.newPassword.length>=6?"text-green-600":"text-red-500"}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${r.newPassword.length>=6?"bg-green-500":"bg-red-400"}`}),n.jsx("span",{children:"Al menos 6 caracteres"})]}),n.jsxs("div",{className:`flex items-center space-x-2 text-xs ${/[A-Z]/.test(r.newPassword)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${/[A-Z]/.test(r.newPassword)?"bg-green-500":"bg-gray-300"}`}),n.jsx("span",{children:"Al menos una mayúscula"})]}),n.jsxs("div",{className:`flex items-center space-x-2 text-xs ${/[a-z]/.test(r.newPassword)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${/[a-z]/.test(r.newPassword)?"bg-green-500":"bg-gray-300"}`}),n.jsx("span",{children:"Al menos una minúscula"})]}),n.jsxs("div",{className:`flex items-center space-x-2 text-xs ${/\d/.test(r.newPassword)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${/\d/.test(r.newPassword)?"bg-green-500":"bg-gray-300"}`}),n.jsx("span",{children:"Al menos un número"})]}),n.jsxs("div",{className:`flex items-center space-x-2 text-xs ${/[!@#$%^&*(),.?":{}|<>]/.test(r.newPassword)?"text-green-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${/[!@#$%^&*(),.?":{}|<>]/.test(r.newPassword)?"bg-green-500":"bg-gray-300"}`}),n.jsx("span",{children:"Al menos un símbolo (recomendado)"})]}),Nr.validarFortalezaPassword(r.newPassword).map((S,E)=>n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-red-500",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),n.jsx("span",{children:S})]},E))]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),n.jsxs("button",{type:"submit",disabled:u,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[n.jsx(Hl,{className:"w-4 h-4"}),n.jsx("span",{children:u?"Actualizando...":"Actualizar Contraseña"})]})]})]})]})}):null},mX=({isOpen:e,onClose:t})=>{const{user:r}=zr(),[a,l]=y.useState("datos"),[o,u]=y.useState(!1),[f,m]=y.useState({show:!1,message:"",type:""}),[h,p]=y.useState({username:"",nombre_completo:"",telefono:""}),[x,v]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,N]=y.useState({current:!1,new:!1,confirm:!1});y.useEffect(()=>{e&&r&&p({username:r.username||"",nombre_completo:r.nombre_completo||"",telefono:r.telefono||""})},[e,r]);const w=(P,D="success")=>{m({show:!0,message:P,type:D}),setTimeout(()=>{m({show:!1,message:"",type:""})},4e3)},S=()=>{v({currentPassword:"",newPassword:"",confirmPassword:""}),N({current:!1,new:!1,confirm:!1})},E=()=>{S(),l("datos"),t()},_=async()=>{const P=Nr.validarDatosPerfil(h);if(P.length>0){w(P[0],"error");return}u(!0);try{const D=await Nr.actualizarMiPerfil({username:h.username.trim(),nombre_completo:h.nombre_completo?.trim(),telefono:h.telefono?.trim()});D.success?(w("Perfil actualizado exitosamente. La página se recargará para reflejar los cambios.","success"),setTimeout(()=>{window.location.reload()},2e3)):w(D.error,"error")}catch{w("Error al actualizar perfil","error")}finally{u(!1)}},A=async()=>{const P=Nr.validarCambioPassword(x.currentPassword,x.newPassword,x.confirmPassword);if(P.length>0){w(P[0],"error");return}u(!0);try{const D=await Nr.cambiarPassword(x.currentPassword,x.newPassword);D.success?(w("Contraseña actualizada exitosamente","success"),S(),setTimeout(()=>{l("datos")},1500)):w(D.error,"error")}catch{w("Error al cambiar contraseña","error")}finally{u(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(br,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Mi Perfil"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Usuario: ",n.jsx("span",{className:"font-medium text-blue-600",children:r?.username})," · ",n.jsx("span",{className:"capitalize",children:r?.role})]})]})]}),n.jsx("button",{onClick:E,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg transition-colors",children:n.jsx(Qt,{className:"w-5 h-5"})})]}),f.show&&n.jsx("div",{className:`mb-4 p-3 rounded-lg ${f.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[f.type==="success"?n.jsx(St,{className:"w-4 h-4"}):n.jsx(Zt,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:f.message})]})}),n.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 rounded-lg p-1",children:[n.jsxs("button",{onClick:()=>l("datos"),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-4 rounded-md text-sm font-medium transition-colors ${a==="datos"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(Lc,{className:"w-4 h-4"}),n.jsx("span",{children:"Mis Datos"})]}),n.jsxs("button",{onClick:()=>l("password"),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-4 rounded-md text-sm font-medium transition-colors ${a==="password"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(Pd,{className:"w-4 h-4"}),n.jsx("span",{children:"Contraseña"})]})]}),a==="datos"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Zt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium",children:"Importante:"}),n.jsxs("ul",{className:"mt-1 list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Tu nombre de usuario debe ser único"}),n.jsx("li",{children:"Solo letras, números, guiones (_), guiones (-) y puntos (.)"}),n.jsx("li",{children:"Sin espacios permitidos"}),n.jsx("li",{children:"Si cambias tu usuario, deberás usarlo para iniciar sesión"})]})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de Usuario *"}),n.jsx("input",{type:"text",value:h.username,onChange:P=>p(D=>({...D,username:P.target.value.toLowerCase().replace(/\s/g,"")})),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-left",placeholder:"carlos_hernandez"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ejemplos: carlos_hernandez, admin2025, jefe.sistema, carlos_admin"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo"}),n.jsx("input",{type:"text",value:h.nombre_completo,onChange:P=>p(D=>({...D,nombre_completo:P.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-left",placeholder:"Carlos Hernández"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),n.jsx("input",{type:"tel",value:h.telefono,onChange:P=>p(D=>({...D,telefono:P.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-left",placeholder:"555-1234567"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{onClick:E,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:_,disabled:o,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[n.jsx(Hl,{className:"w-4 h-4"}),n.jsx("span",{children:o?"Guardando...":"Guardar Cambios"})]})]})]}),a==="password"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña Actual *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:j.current?"text":"password",value:x.currentPassword,onChange:P=>v(D=>({...D,currentPassword:P.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-left",placeholder:"Tu contraseña actual"}),n.jsx("button",{type:"button",onClick:()=>N(P=>({...P,current:!P.current})),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:j.current?n.jsx(_s,{className:"w-4 h-4"}):n.jsx(Sa,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nueva Contraseña *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:j.new?"text":"password",value:x.newPassword,onChange:P=>v(D=>({...D,newPassword:P.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-left",placeholder:"Mínimo 6 caracteres"}),n.jsx("button",{type:"button",onClick:()=>N(P=>({...P,new:!P.new})),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:j.new?n.jsx(_s,{className:"w-4 h-4"}):n.jsx(Sa,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nueva Contraseña *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:j.confirm?"text":"password",value:x.confirmPassword,onChange:P=>v(D=>({...D,confirmPassword:P.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-left",placeholder:"Repite la nueva contraseña"}),n.jsx("button",{type:"button",onClick:()=>N(P=>({...P,confirm:!P.confirm})),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:j.confirm?n.jsx(_s,{className:"w-4 h-4"}):n.jsx(Sa,{className:"w-4 h-4"})})]})]}),x.newPassword&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Fortaleza de contraseña:"}),n.jsx("div",{className:"space-y-1",children:Nr.validarFortalezaPassword(x.newPassword).length===0?n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-green-600",children:[n.jsx(St,{className:"w-3 h-3"}),n.jsx("span",{children:"Contraseña válida"})]}):Nr.validarFortalezaPassword(x.newPassword).map((P,D)=>n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-red-500",children:[n.jsx(Zt,{className:"w-3 h-3"}),n.jsx("span",{children:P})]},D))})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>{S(),l("datos")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:A,disabled:o,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[n.jsx(Pd,{className:"w-4 h-4"}),n.jsx("span",{children:o?"Actualizando...":"Cambiar Contraseña"})]})]})]})]})}):null},vl=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",maximumFractionDigits:2}).format(Number(e||0)),hX=()=>{const[e,t]=y.useState([]),[r,a]=y.useState("month"),[l,o]=y.useState(!1),[u,f]=y.useState(null),[m,h]=y.useState({tipo:"viaticos",persona:"",monto:"",motivo:""}),[p,x]=y.useState({total:0,porTipo:[],prestadoPendiente:0}),[v,j]=y.useState([]),[N,w]=y.useState({open:!1,item:null,loading:!1}),S="gastos.personas.recientes",E=()=>{try{const L=localStorage.getItem(S);if(!L)return[];const B=JSON.parse(L);return Array.isArray(B)?B.filter(Boolean):[]}catch{return[]}},_=L=>{try{localStorage.setItem(S,JSON.stringify(L))}catch{}},A=L=>{const B=(L||"").trim();B&&j($=>{const q=new Map,Z=U=>q.set(U.toLowerCase(),U);$.forEach(Z),Z(B);const le=Array.from(q.values()).slice(-10);return _(le),le})},P=async()=>{try{o(!0),f(null);const[L,B]=await Promise.all([gl.listar({periodo:r}),gl.resumen({periodo:r})]);t(L),x(B);const $=(L||[]).map(q=>q.persona).filter(Boolean);if($.length){const q=E(),Z=new Map,le=X=>Z.set(String(X).toLowerCase(),String(X));q.forEach(le),$.forEach(le);const U=Array.from(Z.values()).slice(-10);j(U),_(U)}else j(E())}catch(L){f(L?.message||"Error cargando gastos")}finally{o(!1)}};y.useEffect(()=>{P()},[r]),y.useEffect(()=>{j(E())},[]);const D=async L=>{if(L.preventDefault(),!(m.tipo!=="personales"&&!m.persona?.trim()||!m.monto))try{const B=m.tipo==="personales"&&!m.persona.trim()?"admin":m.persona.trim();await gl.crear({tipo:m.tipo,persona:B,monto:Number(m.monto),motivo:m.motivo?.trim()||null}),h({tipo:m.tipo,persona:"",monto:"",motivo:""}),A(B),await P()}catch(B){f(B?.message||"No se pudo crear el gasto")}},M=async L=>{try{await gl.pagar(L),await P()}catch(B){f(B?.message||"No se pudo marcar como pagado")}},O=L=>{w({open:!0,item:L,loading:!1})},z=async()=>{if(N.item)try{w(L=>({...L,loading:!0})),await gl.eliminar(N.item.id),w({open:!1,item:null,loading:!1}),await P()}catch(L){w(B=>({...B,loading:!1})),f(L?.message||"No se pudo eliminar")}},F=y.useMemo(()=>p?.prestadoPendiente||0,[p]),W=y.useMemo(()=>p?.total||0,[p]),R=y.useMemo(()=>p?.porTipo?.find(L=>L.tipo==="viaticos")?.total||0,[p]),H=y.useMemo(()=>p?.porTipo?.find(L=>L.tipo==="personales")?.total||0,[p]),T=[{header:"Tipo",accessor:"tipo",cell:(L,B)=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${L==="prestamos"&&!B.pagado?"bg-red-50 text-red-700":"bg-slate-100 text-slate-700"}`,children:L==="prestamos"?B.pagado?"Préstamos (Pagado)":"Préstamos":L==="viaticos"?"Viáticos":"Personales"})},{header:"Persona",accessor:"persona",cell:(L,B)=>n.jsx("span",{className:`${B.tipo==="prestamos"&&!B.pagado?"text-red-700 font-medium":"text-gray-800"}`,children:L})},{header:"Monto",accessor:"monto",cell:L=>n.jsx("span",{className:"font-semibold",children:vl(L)})},{header:"Motivo",accessor:"motivo",cell:L=>L||n.jsx("span",{className:"text-gray-400",children:"—"})},{header:"Fecha",accessor:"created_at",cell:L=>new Date(L).toLocaleString()},{header:"",accessor:"acciones",cell:(L,B)=>n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[B.tipo==="prestamos"&&!B.pagado&&n.jsx("button",{onClick:()=>M(B.id),className:"p-2 text-emerald-700 hover:bg-emerald-50 rounded-lg",title:"Marcar como pagado",children:n.jsx(St,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>O(B),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Eliminar",children:n.jsx(ta,{className:"w-4 h-4"})})]}),tdClassName:"text-right w-24"}];return n.jsxs("div",{className:"max-w-6xl mx-auto p-3 sm:p-4 md:p-6 space-y-5 md:space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-900",children:"Gastos"})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 text-xs sm:text-sm",children:[n.jsxs("div",{className:"px-3 py-2 rounded-lg bg-slate-50 border text-slate-700 flex items-center justify-between sm:block",children:[n.jsx("span",{className:"text-slate-500 mr-2 sm:mr-0",children:"Total:"}),n.jsx("span",{className:"font-semibold",children:vl(W)})]}),n.jsxs("div",{className:"px-3 py-2 rounded-lg bg-blue-50 border border-blue-200 text-blue-700 flex items-center justify-between sm:block",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500"}),n.jsx("span",{className:"text-blue-700/80",children:"Viáticos:"})]}),n.jsx("span",{className:"font-semibold",children:vl(R)})]}),n.jsxs("div",{className:"px-3 py-2 rounded-lg bg-indigo-50 border border-indigo-200 text-indigo-700 flex items-center justify-between sm:block",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-indigo-500"}),n.jsx("span",{className:"text-indigo-700/80",children:"Personales:"})]}),n.jsx("span",{className:"font-semibold",children:vl(H)})]}),n.jsxs("div",{className:"px-3 py-2 rounded-lg bg-red-50 border border-red-200 text-red-700 flex items-center justify-between sm:block",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-500"}),n.jsx("span",{className:"text-red-700/80",children:"Préstamos:"})]}),n.jsx("span",{className:"font-semibold",children:vl(F)})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Periodo"}),n.jsxs("select",{value:r,onChange:L=>a(L.target.value),className:"border rounded-lg px-3 py-2 text-sm",children:[n.jsx("option",{value:"week",children:"Esta semana"}),n.jsx("option",{value:"month",children:"Este mes"}),n.jsx("option",{value:"all",children:"Todo"})]})]}),n.jsx("div",{className:"flex items-center gap-2 sm:justify-end",children:n.jsxs("button",{onClick:async()=>{const L=await gl.exportXlsx({periodo:r}),B=window.URL.createObjectURL(L),$=document.createElement("a");$.href=B;const q=r==="week"?"semana":r==="month"?"mes":"todo";$.download=`gastos_${q}.xlsx`,document.body.appendChild($),$.click(),$.remove(),window.URL.revokeObjectURL(B)},className:"inline-flex items-center justify-center gap-2 px-3 py-2 rounded-lg border bg-white hover:bg-gray-50 text-sm",title:"Exportar Excel",children:[n.jsx(Of,{className:"w-4 h-4"}),"Exportar"]})})]})]}),n.jsxs("form",{onSubmit:D,className:"bg-white border rounded-xl p-3 sm:p-4 md:p-5 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Tipo"}),n.jsxs("select",{value:m.tipo,onChange:L=>h(B=>({...B,tipo:L.target.value})),className:"w-full border rounded-lg px-3 py-2",children:[n.jsx("option",{value:"viaticos",children:"Viáticos"}),n.jsx("option",{value:"personales",children:"Personales"}),n.jsx("option",{value:"prestamos",children:"Préstamos"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Persona",m.tipo==="personales"?" (opcional)":""]}),n.jsx("input",{type:"text",value:m.persona,onChange:L=>h(B=>({...B,persona:L.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:m.tipo==="personales"?"admin (por defecto)":"¿A quién?",...m.tipo!=="personales"?{required:!0,minLength:2}:{},list:"gastos-personas-recientes",autoComplete:"off"}),n.jsx("datalist",{id:"gastos-personas-recientes",children:v.map(L=>n.jsx("option",{value:L},L))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Monto"}),n.jsx("input",{type:"number",step:"0.01",value:m.monto,onChange:L=>h(B=>({...B,monto:L.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"0.00",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Motivo"}),n.jsx("input",{type:"text",value:m.motivo,onChange:L=>h(B=>({...B,motivo:L.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"Opcional"})]})]}),n.jsx("div",{className:"flex items-center justify-end",children:n.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg w-full sm:w-auto",children:[n.jsx(As,{className:"w-4 h-4"}),"Registrar"]})})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx(PT,{columns:T,data:e,loading:l,error:u,emptyMessage:"Sin gastos registrados"})}),N.open&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>!N.loading&&w({open:!1,item:null,loading:!1})}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl border w-[90%] max-w-md p-5 animate-fade-in",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Confirmar Eliminación"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"¿Seguro que quieres eliminar este gasto?"}),N.item&&n.jsxs("div",{className:"mb-4 rounded-lg border bg-gray-50 p-3 text-sm text-gray-700",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Tipo:"})," ",N.item.tipo==="prestamos"?N.item.pagado?"Préstamos (Pagado)":"Préstamos":N.item.tipo==="viaticos"?"Viáticos":"Personales"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Persona:"})," ",N.item.persona||"—"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Monto:"})," ",vl(N.item.monto)]}),N.item.motivo&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Motivo:"})," ",N.item.motivo]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3",children:[n.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-800",onClick:()=>w({open:!1,item:null,loading:!1}),disabled:N.loading,children:"Cancelar"}),n.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg text-white ${N.loading?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,onClick:z,disabled:N.loading,children:N.loading?"Eliminando…":"Eliminar"})]})]})]})]})},JE={tipo:"servicio",nombre_completo:"",telefono:"",email:"",direccion:"",latitud:"",longitud:"",notas:"",plan:"",velocidad_mbps:"",cuota_mensual:"",fecha_instalacion:"",fecha_primer_corte:"",dia_corte:"",estado:"activo",activo:!0},pX=()=>{const[e,t]=y.useState([]),[r,a]=y.useState(!0),[l,o]=y.useState(""),[u,f]=y.useState("todos"),[m,h]=y.useState(!0),[p,x]=y.useState(""),[v,j]=y.useState(!1),[N,w]=y.useState(JE),[S,E]=y.useState(null),[_,A]=y.useState(!1),P=async()=>{try{a(!0);const T=await Tn.listar({tipo:u!=="todos"?u:void 0,activo:m?!0:void 0});T.success?(t(T.clientes),o("")):o(T.error||"Error al cargar clientes")}catch{o("Error al cargar clientes")}finally{a(!1)}};y.useEffect(()=>{P()},[u,m]);const D=T=>{if(T.tipo!=="servicio")return null;const L=new Date,B=L.getFullYear(),$=L.getMonth();if(Math.min(Number(T.dia_corte),28),T.fecha_primer_corte){const ie=new Date(T.fecha_primer_corte);let G=new Date(ie);for(;G<L;)G=new Date(G.getFullYear(),G.getMonth()+1,G.getDate());const ve=G-L,K=Math.ceil(ve/(1e3*60*60*24));return{dueDate:G,days:K,vencido:ve<0}}if(!T.dia_corte)return null;const q=new Date(B,$,Number(T.dia_corte)),Z=new Date(B,$+1,Number(T.dia_corte));new Date(B,$-1,Number(T.dia_corte));let le=q;if(L>q&&(le=Z),T.fecha_instalacion){const ie=new Date(T.fecha_instalacion);ie>le&&(le=new Date(ie.getFullYear(),ie.getMonth()+1,Number(T.dia_corte)))}const U=le-L,X=Math.ceil(U/(1e3*60*60*24)),ne=U<0;return{dueDate:le,days:X,vencido:ne}},M=y.useMemo(()=>{const T=(p||"").toLowerCase();return e.map(L=>{const B=D(L);return{...L,_corte:B}}).filter(L=>!T||`${L.nombre_completo} ${L.telefono||""} ${L.email||""} ${L.direccion||""}`.toLowerCase().includes(T))},[e,p]),O=()=>{E(null),w(JE),j(!0)},z=T=>{E(T),w({tipo:T.tipo,nombre_completo:T.nombre_completo||"",telefono:T.telefono||"",email:T.email||"",direccion:T.direccion||"",latitud:T.latitud??"",longitud:T.longitud??"",notas:T.notas||"",plan:T.plan||"",velocidad_mbps:T.velocidad_mbps??"",cuota_mensual:T.cuota_mensual??"",fecha_instalacion:T.fecha_instalacion?T.fecha_instalacion.slice(0,10):"",fecha_primer_corte:T.fecha_primer_corte?T.fecha_primer_corte.slice(0,10):"",dia_corte:T.dia_corte??"",estado:T.estado||"activo",activo:T.activo===1||T.activo===!0}),j(!0)},F=async()=>{if(!N.nombre_completo.trim()){alert("Nombre es requerido");return}if(!["servicio","ocasional"].includes(N.tipo)){alert("Tipo inválido");return}A(!0);try{const T={...N};if(T.latitud===""&&(T.latitud=null),T.longitud===""&&(T.longitud=null),T.velocidad_mbps===""&&(T.velocidad_mbps=null),T.cuota_mensual===""&&(T.cuota_mensual=null),T.dia_corte===""&&(T.dia_corte=null),T.fecha_instalacion===""&&(T.fecha_instalacion=null),T.fecha_primer_corte===""&&(T.fecha_primer_corte=null),S){const L=await Tn.actualizar(S.id,T);L.success?(j(!1),await P()):alert(L.error||"Error al actualizar")}else{const L=await Tn.crear(T);L.success?(j(!1),await P()):alert(L.error||"Error al crear")}}finally{A(!1)}},W=async T=>{if(!confirm(`¿Eliminar cliente "${T.nombre_completo}"?`))return;const L=await Tn.eliminar(T.id);L.success?await P():alert(L.error||"Error al eliminar")},R=async T=>{const L=await Tn.toggleActivo(T.id);L.success?await P():alert(L.error||"Error al cambiar estado")},H=async()=>{try{const T=(N.direccion||"").trim();if(!T){alert("Escribe una dirección");return}const L=`/api/geo/search?limit=1&q=${encodeURIComponent(T)}`,$=await(await fetch(L,{headers:{Accept:"application/json"}})).json();if($?.success&&Array.isArray($.results)&&$.results.length){const q=$.results[0];w(Z=>({...Z,latitud:Number(q.lat).toFixed(6),longitud:Number(q.lon).toFixed(6)}))}else alert("No se encontraron coordenadas")}catch{alert("Error al geocodificar")}};return n.jsxs("div",{className:"max-w-6xl mx-auto p-3 sm:p-4 md:p-6 space-y-4 md:space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ea,{className:"w-5 h-5 text-slate-700"}),n.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold",children:"Clientes"})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:n.jsx("button",{onClick:O,className:"bg-blue-600 text-white px-4 py-2 rounded-lg w-full sm:w-auto",children:"Nuevo cliente"})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3",children:[n.jsxs("select",{value:u,onChange:T=>f(T.target.value),className:"px-3 py-2 border rounded-lg w-full sm:w-auto",children:[n.jsx("option",{value:"todos",children:"Todos"}),n.jsx("option",{value:"servicio",children:"Servicio mensual"}),n.jsx("option",{value:"ocasional",children:"Ocasional"})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:m,onChange:T=>h(T.target.checked)})," Solo activos"]}),n.jsxs("div",{className:"relative w-full sm:w-64",children:[n.jsx(xi,{className:"w-4 h-4 text-gray-400 absolute left-3 top-2.5"}),n.jsx("input",{value:p,onChange:T=>x(T.target.value),placeholder:"Buscar",className:"pl-9 pr-3 py-2 border rounded-lg w-full"})]}),n.jsxs("button",{onClick:P,className:"px-3 py-2 border rounded-lg inline-flex items-center gap-2 w-full sm:w-auto",children:[n.jsx(Os,{className:"w-4 h-4"})," Actualizar"]})]}),r?n.jsx("div",{className:"text-gray-500",children:"Cargando..."}):l?n.jsx("div",{className:"text-red-600",children:l}):n.jsx("div",{className:"overflow-x-auto bg-white border rounded-xl",children:n.jsxs("table",{className:"min-w-full text-sm table-auto",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{className:"text-left",children:[n.jsx("th",{className:"px-4 py-3",children:"Nombre"}),n.jsx("th",{className:"px-4 py-3",children:"Tipo"}),n.jsx("th",{className:"px-4 py-3",children:"Detalle"}),n.jsx("th",{className:"px-4 py-3",children:"Ubicación"}),n.jsx("th",{className:"px-4 py-3",children:"Estado"}),n.jsx("th",{className:"px-4 py-3 text-right",children:"Acciones"})]})}),n.jsxs("tbody",{children:[M.map(T=>n.jsxs("tr",{className:"border-t",children:[n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"font-medium",children:T.nombre_completo}),n.jsxs("div",{className:"text-gray-500 text-xs",children:[T.telefono||"-"," · ",T.email||"-"]})]}),n.jsx("td",{className:"px-4 py-3",children:T.tipo==="servicio"?"Servicio mensual":"Ocasional"}),n.jsx("td",{className:"px-4 py-3",children:T.tipo==="servicio"?n.jsxs("div",{className:"text-xs text-gray-600 space-y-0.5",children:[n.jsxs("div",{children:["Cuota: ",T.cuota_mensual?`$${T.cuota_mensual}`:"-"]}),n.jsxs("div",{children:["Instalación: ",T.fecha_instalacion?new Date(T.fecha_instalacion).toLocaleDateString():"-"]}),n.jsxs("div",{children:["1er corte: ",T.fecha_primer_corte?new Date(T.fecha_primer_corte).toLocaleDateString():"-"]}),n.jsxs("div",{children:["Día de corte: ",T.dia_corte||"-"]}),T._corte&&n.jsxs("div",{className:T._corte.vencido?"text-red-600":"text-green-700",children:[T._corte.vencido?"Pago vencido":"Próximo pago",": ",T._corte.dueDate.toLocaleDateString()," ",typeof T._corte.days=="number"&&!isNaN(T._corte.days)&&n.jsxs("span",{className:"text-gray-500",children:["(",T._corte.vencido?`${Math.abs(T._corte.days)} días de atraso`:`en ${T._corte.days} días`,")"]})]})]}):n.jsx("div",{className:"text-xs text-gray-600",children:T.notas||"-"})}),n.jsx("td",{className:"px-4 py-3",children:T.latitud&&T.longitud?n.jsxs("a",{href:`https://www.openstreetmap.org/?mlat=${T.latitud}&mlon=${T.longitud}#map=17/${T.latitud}/${T.longitud}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:underline",children:[n.jsx(fc,{className:"w-4 h-4"})," Ver mapa"]}):n.jsx("span",{className:"text-gray-400 text-xs",children:"Sin coordenadas"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs ${T.activo?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[T.activo?n.jsx(St,{className:"w-3 h-3"}):n.jsx(K_,{className:"w-3 h-3"})," ",T.activo?"Activo":"Inactivo"]})}),n.jsx("td",{className:"px-4 py-3 text-right",children:n.jsxs("div",{className:"flex flex-col sm:inline-flex sm:flex-row items-stretch sm:items-center gap-2 sm:gap-2 min-w-[160px]",children:[n.jsx("button",{onClick:()=>z(T),className:"px-2 py-1 border rounded hover:bg-gray-50 w-full sm:w-auto",title:"Editar",children:n.jsx(Lc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>R(T),className:"px-2 py-1 border rounded hover:bg-gray-50 w-full sm:w-auto",title:"Activar/Desactivar",children:T.activo?"Desactivar":"Activar"}),n.jsx("button",{onClick:()=>W(T),className:"px-2 py-1 border rounded hover:bg-red-50 text-red-600 w-full sm:w-auto",title:"Eliminar",children:n.jsx(ta,{className:"w-4 h-4"})})]})})]},T.id)),M.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"Sin resultados"})})]})]})}),v&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl p-5 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:S?"Editar cliente":"Nuevo cliente"}),n.jsx("button",{onClick:()=>j(!1),className:"text-gray-500",children:"✕"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo"}),n.jsxs("select",{value:N.tipo,onChange:T=>w(L=>({...L,tipo:T.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[n.jsx("option",{value:"servicio",children:"Servicio mensual"}),n.jsx("option",{value:"ocasional",children:"Ocasional"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nombre completo"}),n.jsx("input",{value:N.nombre_completo,onChange:T=>w(L=>({...L,nombre_completo:T.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Teléfono"}),n.jsx("input",{value:N.telefono,onChange:T=>w(L=>({...L,telefono:T.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("input",{type:"email",value:N.email,onChange:T=>w(L=>({...L,email:T.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Dirección"}),n.jsx("input",{value:N.direccion,onChange:T=>w(L=>({...L,direccion:T.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Latitud"}),n.jsx("input",{type:"number",step:"0.000001",value:N.latitud,onChange:T=>w(L=>({...L,latitud:T.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Longitud"}),n.jsx("input",{type:"number",step:"0.000001",value:N.longitud,onChange:T=>w(L=>({...L,longitud:T.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:H,className:"px-3 py-2 border rounded-lg",children:"Obtener coordenadas"})}),N.latitud&&N.longitud&&n.jsx("div",{className:"md:col-span-2",children:n.jsx("div",{className:"w-full h-48 overflow-hidden rounded-lg border",children:n.jsx("iframe",{title:"Mapa",className:"w-full h-full",src:`https://www.openstreetmap.org/export/embed.html?bbox=${Number(N.longitud)-.01}%2C${Number(N.latitud)-.01}%2C${Number(N.longitud)+.01}%2C${Number(N.latitud)+.01}&layer=mapnik&marker=${N.latitud}%2C${N.longitud}`})})}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notas"}),n.jsx("textarea",{value:N.notas,onChange:T=>w(L=>({...L,notas:T.target.value})),className:"w-full px-3 py-2 border rounded-lg",rows:3})]}),N.tipo==="servicio"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cuota mensual"}),n.jsx("input",{type:"number",step:"0.01",value:N.cuota_mensual,onChange:T=>w(L=>({...L,cuota_mensual:T.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fecha instalación"}),n.jsx("input",{type:"date",value:N.fecha_instalacion,onChange:T=>w(L=>({...L,fecha_instalacion:T.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fecha del primer corte"}),n.jsx("input",{type:"date",value:N.fecha_primer_corte,onChange:T=>w(L=>({...L,fecha_primer_corte:T.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Día de corte"}),n.jsx("input",{type:"number",min:1,max:31,value:N.dia_corte,onChange:T=>w(L=>({...L,dia_corte:T.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:N.activo,onChange:T=>w(L=>({...L,activo:T.target.checked}))})," Activo"]})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 mt-5",children:[n.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 w-full sm:w-auto",children:"Cancelar"}),n.jsxs("button",{onClick:F,disabled:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 inline-flex items-center gap-2 w-full sm:w-auto",children:[_&&n.jsx(Os,{className:"w-4 h-4 animate-spin"})," Guardar"]})]})]})})]})},xX=()=>{const{tiposFicha:e=[]}=Hn(),[t,r]=y.useState([]),[a,l]=y.useState({cliente_id:"",tipo_ficha_id:"",cantidad:"",precio_unitario:"",observaciones:""}),[o,u]=y.useState(!1),[f,m]=y.useState(""),[h,p]=y.useState(""),[x,v]=y.useState([]);y.useEffect(()=>{(async()=>{try{const S=await Tn.listar({tipo:"ocasional",activo:1});r(S?.clientes||S||[])}catch{r([])}try{const S=await KE.listar({limite:20});S?.success&&v(S.ventas||[])}catch{}})()},[]);const j=y.useMemo(()=>{const w=Number(a.cantidad||0),S=Number(a.precio_unitario||0);return w>0&&S>0?(w*S).toFixed(2):"0.00"},[a.cantidad,a.precio_unitario]),N=async w=>{if(w.preventDefault(),m(""),p(""),!a.cliente_id||!a.tipo_ficha_id||!a.cantidad||!a.precio_unitario){p("Completa los campos requeridos");return}try{u(!0);const S=await KE.crear({cliente_id:Number(a.cliente_id),tipo_ficha_id:Number(a.tipo_ficha_id),cantidad:Number(a.cantidad),precio_unitario:Number(a.precio_unitario),observaciones:a.observaciones?.trim()||void 0});u(!1),S?.success?(m("Venta registrada"),l({cliente_id:"",tipo_ficha_id:"",cantidad:"",precio_unitario:"",observaciones:""}),v(E=>[S.venta,...E].slice(0,20))):p(S?.error||"No se pudo registrar")}catch(S){u(!1),p(S?.message||"Error de red")}};return n.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-6",children:[n.jsxs("div",{className:"bg-white border rounded-xl p-4 md:p-5",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Registrar venta a cliente ocasional"}),n.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[n.jsxs("select",{className:"border rounded-lg px-3 py-2",value:a.cliente_id,onChange:w=>l(S=>({...S,cliente_id:w.target.value})),children:[n.jsx("option",{value:"",children:"Cliente ocasional"}),t.map(w=>n.jsxs("option",{value:w.id,children:[w.nombre_completo,"#",w.id]},w.id))]}),n.jsxs("select",{className:"border rounded-lg px-3 py-2",value:a.tipo_ficha_id,onChange:w=>l(S=>({...S,tipo_ficha_id:w.target.value})),children:[n.jsx("option",{value:"",children:"Tipo de ficha"}),e.map(w=>n.jsx("option",{value:w.id,children:w.nombre},w.id))]}),n.jsx("input",{type:"number",min:"1",className:"border rounded-lg px-3 py-2",placeholder:"Cantidad",value:a.cantidad,onChange:w=>l(S=>({...S,cantidad:w.target.value}))}),n.jsx("input",{type:"number",step:"0.01",min:"0",className:"border rounded-lg px-3 py-2",placeholder:"Precio unitario",value:a.precio_unitario,onChange:w=>l(S=>({...S,precio_unitario:w.target.value}))}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Subtotal: ",n.jsxs("span",{className:"font-semibold",children:["$",j]})]}),n.jsx("button",{disabled:o,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"Registrar"})]}),n.jsx("input",{className:"md:col-span-5 border rounded-lg px-3 py-2",placeholder:"Observaciones (opcional)",value:a.observaciones,onChange:w=>l(S=>({...S,observaciones:w.target.value}))})]}),f&&n.jsx("div",{className:"text-emerald-700 mt-3",children:f}),h&&n.jsx("div",{className:"text-red-600 mt-3",children:h})]}),n.jsxs("div",{className:"bg-white border rounded-xl",children:[n.jsx("div",{className:"px-4 py-3 border-b font-medium",children:"Últimas ventas"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 text-left text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2",children:"Fecha"}),n.jsx("th",{className:"px-4 py-2",children:"Cliente"}),n.jsx("th",{className:"px-4 py-2",children:"Tipo"}),n.jsx("th",{className:"px-4 py-2",children:"Cant"}),n.jsx("th",{className:"px-4 py-2",children:"P. Unit"}),n.jsx("th",{className:"px-4 py-2",children:"Subtotal"})]})}),n.jsxs("tbody",{children:[x.map(w=>n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"px-4 py-2",children:w.fecha_venta}),n.jsx("td",{className:"px-4 py-2",children:w.cliente_nombre}),n.jsx("td",{className:"px-4 py-2",children:w.tipo_ficha_nombre}),n.jsx("td",{className:"px-4 py-2",children:w.cantidad}),n.jsxs("td",{className:"px-4 py-2",children:["$",Number(w.precio_unitario).toFixed(2)]}),n.jsxs("td",{className:"px-4 py-2",children:["$",Number(w.subtotal).toFixed(2)]})]},w.id)),x.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"Sin ventas registradas"})})]})]})})]})]})},e_=({open:e,onClose:t,children:r,title:a})=>e?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:t}),n.jsxs("div",{className:"relative bg-white w-full max-w-3xl rounded-xl shadow-xl border p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold",children:a}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),r]})]}):null,gX=()=>{const[e,t]=y.useState(!1),[r,a]=y.useState([]),[l,o]=y.useState(""),[u,f]=y.useState(""),[m,h]=y.useState({open:!1,cliente:null,pagos:[]}),[p,x]=y.useState({desde:"",hasta:"",monto:""}),[v,j]=y.useState({open:!1,periodoId:null,monto:""}),N=M=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(Number(M||0)),w=M=>{if(!M)return"-";try{const O=M.includes("T")?new Date(M):new Date(M+"T00:00:00");return isNaN(O.getTime())?M:O.toLocaleDateString("es-MX")}catch{return M}},S=async()=>{t(!0),f(""),await Xr.ensureNext();const M=await Xr.getResumen();M.success?a(M.resumen):f(M.error),t(!1)};y.useEffect(()=>{S()},[]);const E=y.useMemo(()=>{const M=l.trim().toLowerCase();return M?r.filter(O=>(O.nombre_completo||"").toLowerCase().includes(M)):r},[l,r]),_=async M=>{const O=await Xr.pagarPeriodo(M);if(O.success){if(await S(),m.open){const z=await Xr.getPagosCliente(m.cliente.id);z.success&&h(F=>({...F,pagos:z.pagos}))}}else alert(O.error)},A=async()=>{const M=v.periodoId,O=Number(v.monto);if(!M||!O||O<=0)return;const z=await Xr.abonarPeriodo(M,O);if(!z.success){alert(z.error);return}if(j({open:!1,periodoId:null,monto:""}),await S(),m.open&&m.cliente){const F=await Xr.getPagosCliente(m.cliente.id);F.success&&h(W=>({...W,pagos:F.pagos}))}},P=async M=>{const O=await Xr.getPagosCliente(M.cliente_id||M.id);O.success&&h({open:!0,cliente:{id:M.cliente_id||M.id,nombre:M.nombre_completo},pagos:O.pagos})},D=async M=>{if(!p.desde||!p.hasta)return alert("Desde y hasta son requeridos");const O={desde:p.desde,hasta:p.hasta};p.monto&&(O.monto=Number(p.monto));const z=await Xr.generarPeriodos(M.cliente_id,O);z.success?(await P(M),await S()):alert(z.error)};return n.jsxs("div",{className:"max-w-6xl mx-auto p-3 sm:p-4 md:p-6 space-y-5 md:space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold",children:"Pagos de Clientes de Servicio"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[n.jsx("input",{value:l,onChange:M=>o(M.target.value),placeholder:"Buscar cliente",className:"border px-3 py-2 rounded-lg w-full sm:w-72"}),n.jsx("button",{onClick:S,className:"px-3 py-2 rounded-lg bg-slate-100 w-full sm:w-auto",children:"Actualizar"})]})]}),n.jsxs("div",{className:"bg-white border rounded-xl overflow-hidden",children:[n.jsx("div",{className:"px-3 sm:px-4 py-3 border-b font-medium",children:"Resumen"}),n.jsx("div",{className:"overflow-x-auto max-w-full",children:n.jsxs("table",{className:"min-w-full text-sm table-auto sm:table-fixed border-separate border-spacing-0",children:[n.jsx("thead",{className:"bg-gray-50 text-left text-gray-600",children:n.jsxs("tr",{className:"divide-x divide-gray-200",children:[n.jsx("th",{className:"px-4 py-2 w-48 sm:w-64",children:"Cliente"}),n.jsx("th",{className:"px-4 py-2 w-28 sm:w-32",children:"Próximo mes"}),n.jsx("th",{className:"px-4 py-2 w-32 sm:w-36",children:"Vence"}),n.jsx("th",{className:"px-4 py-2 w-28 sm:w-32",children:"Estado"}),n.jsx("th",{className:"px-4 py-2 w-24 sm:w-28 text-right",children:"Monto"}),n.jsx("th",{className:"px-4 py-2 w-36 sm:w-40",children:"Acciones"})]})}),n.jsx("tbody",{children:E.map(M=>{const O=M.periodo_month?String(M.periodo_month).padStart(2,"0"):null,z=M.periodo_year&&O?`${M.periodo_year}-${O}`:"Al día",F=M.estado_calculado,W=F==="vencido";return n.jsxs("tr",{className:"border-t border-gray-200 divide-x divide-gray-100 odd:bg-white even:bg-gray-50/20",children:[n.jsx("td",{className:"px-4 py-2 truncate max-w-[12rem] sm:max-w-none",title:M.nombre_completo,children:M.nombre_completo}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:z}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:M.fecha_vencimiento?w(M.fecha_vencimiento):"-"}),n.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[F==="al_dia"&&n.jsx("span",{className:"text-emerald-700",children:"Al día"}),F==="pendiente"&&n.jsx("span",{className:"text-amber-700",children:"Pendiente"}),W&&n.jsx("span",{className:"text-red-600 font-semibold",children:"Vencido"})]}),n.jsx("td",{className:"px-4 py-2 text-right",children:M.cuota_mensual?N(M.cuota_mensual):"-"}),n.jsxs("td",{className:"px-4 py-2 space-x-2 whitespace-nowrap",children:[M.periodo_id&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>_(M.periodo_id),className:"bg-emerald-600 text-white px-3 py-1 rounded-md",children:"Registrar pago"}),n.jsx("button",{onClick:()=>j({open:!0,periodoId:M.periodo_id,monto:""}),className:"bg-amber-100 px-3 py-1 rounded-md",children:"Abonar"})]}),n.jsx("button",{onClick:()=>P(M),className:"bg-slate-100 px-3 py-1 rounded-md",children:"Historial"})]})]},M.cliente_id)})})]})}),e&&n.jsx("div",{className:"p-3 text-sm text-gray-600",children:"Cargando..."}),u&&n.jsx("div",{className:"p-3 text-sm text-red-600",children:u})]}),n.jsx(e_,{open:m.open,onClose:()=>h({open:!1,cliente:null,pagos:[]}),title:m.cliente?`Historial de ${m.cliente.nombre}`:"Historial",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[n.jsx("input",{className:"border px-3 py-2 rounded-lg w-full sm:w-auto",placeholder:"Desde (YYYY-MM)",value:p.desde,onChange:M=>x(O=>({...O,desde:M.target.value}))}),n.jsx("input",{className:"border px-3 py-2 rounded-lg w-full sm:w-auto",placeholder:"Hasta (YYYY-MM)",value:p.hasta,onChange:M=>x(O=>({...O,hasta:M.target.value}))}),n.jsx("input",{className:"border px-3 py-2 rounded-lg w-full sm:w-auto",placeholder:"Monto (opcional)",value:p.monto,onChange:M=>x(O=>({...O,monto:M.target.value}))}),m.cliente&&n.jsx("button",{onClick:()=>D({cliente_id:m.cliente.id}),className:"bg-blue-600 text-white px-3 py-2 rounded-lg w-full sm:w-auto",children:"Generar Periodos"})]}),n.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:n.jsxs("table",{className:"min-w-full text-sm table-auto sm:table-fixed border-separate border-spacing-0",children:[n.jsx("thead",{className:"bg-gray-50 text-left text-gray-600",children:n.jsxs("tr",{className:"divide-x divide-gray-200",children:[n.jsx("th",{className:"px-4 py-2 w-32 sm:w-40",children:"Periodo"}),n.jsx("th",{className:"px-4 py-2 w-32 sm:w-36",children:"Vence"}),n.jsx("th",{className:"px-4 py-2 w-28 sm:w-32",children:"Estado"}),n.jsx("th",{className:"px-4 py-2 w-24 sm:w-28 text-right",children:"Monto"}),n.jsx("th",{className:"px-4 py-2 w-32 sm:w-40",children:"Acciones"})]})}),n.jsx("tbody",{children:m.pagos.map(M=>{const O=`${M.periodo_year}-${String(M.periodo_month).padStart(2,"0")}`,z=M.estado==="vencido"||M.estado!=="pagado"&&M.fecha_vencimiento<new Date().toISOString().slice(0,10);return n.jsxs("tr",{className:"border-t border-gray-200 divide-x divide-gray-100 odd:bg-white even:bg-gray-50/20",children:[n.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:O}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:w(M.fecha_vencimiento)}),n.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[M.estado==="pagado"&&n.jsx("span",{className:"text-emerald-700",children:"Pagado"}),M.estado==="pendiente"&&n.jsx("span",{className:"text-amber-700",children:"Pendiente"}),z&&n.jsx("span",{className:"text-red-600 font-semibold",children:"Vencido"}),M.estado==="suspendido"&&n.jsx("span",{className:"text-gray-600",children:"Suspendido"})]}),n.jsx("td",{className:"px-4 py-2 text-right",children:M.monto?`${N(M.monto)}${M.monto_pagado&&M.monto_pagado<M.monto?` · abonado ${N(M.monto_pagado)}`:""}`:"-"}),n.jsxs("td",{className:"px-4 py-2 space-x-2 whitespace-nowrap",children:[(M.estado==="pendiente"||z)&&n.jsx("button",{onClick:()=>_(M.id),className:"bg-emerald-600 text-white px-3 py-1 rounded-md",children:"Pagar"}),(M.estado==="pendiente"||z)&&n.jsx("button",{onClick:()=>j({open:!0,periodoId:M.id,monto:""}),className:"bg-amber-100 px-3 py-1 rounded-md",children:"Abonar"}),M.estado==="pendiente"&&n.jsx("button",{onClick:()=>Xr.suspenderPeriodo(M.id).then(S),className:"bg-gray-200 px-3 py-1 rounded-md",children:"Suspender"}),M.estado==="suspendido"&&n.jsx("button",{onClick:()=>Xr.reactivarPeriodo(M.id).then(S),className:"bg-blue-100 px-3 py-1 rounded-md",children:"Reactivar"})]})]},M.id)})})]})})]})}),n.jsx(e_,{open:v.open,onClose:()=>j({open:!1,periodoId:null,monto:""}),title:"Registrar abono",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"number",step:"0.01",min:"0",className:"border px-3 py-2 rounded-lg w-full sm:w-48",placeholder:"Monto",value:v.monto,onChange:M=>j(O=>({...O,monto:M.target.value}))}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[n.jsx("button",{className:"bg-emerald-600 text-white px-3 py-2 rounded-lg w-full sm:w-auto",onClick:A,children:"Guardar"}),n.jsx("button",{className:"bg-slate-100 px-3 py-2 rounded-lg w-full sm:w-auto",onClick:()=>j({open:!1,periodoId:null,monto:""}),children:"Cancelar"})]})]})})]})},vX=({isOpen:e,onClose:t})=>{const[r,a]=y.useState(""),[l,o]=y.useState(""),[u,f]=y.useState(null),[m,h]=y.useState(!1),[p,x]=y.useState(!1),[v,j]=y.useState("");y.useEffect(()=>{if(!e)return;(async()=>{x(!0),j("");try{const E=await Og.getBranding();a(E?.name||""),o(E?.tagline||""),f(E?.logoDataUrl||null)}catch{j("No se pudo cargar la configuración de marca")}finally{x(!1)}})()},[e]);const N=S=>{const E=S.target.files?.[0];if(!E)return;if(!E.type.startsWith("image/")){j("El archivo debe ser una imagen");return}const _=350*1024;if(E.size>_){j("La imagen es muy grande (máx ~300KB). Comprime o usa un logo más pequeño.");return}const A=new FileReader;A.onload=()=>f(A.result),A.readAsDataURL(E)},w=async()=>{h(!0),j("");try{await Og.setBranding({name:r,tagline:l,logoDataUrl:u}),t?.(),window.dispatchEvent(new CustomEvent("brandingChanged",{detail:{name:r,tagline:l,logoDataUrl:u}}))}catch(S){j(S?.response?.data?.detail||"No se pudo guardar")}finally{h(!1)}};return e?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Personalizar marca"}),n.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100",children:n.jsx(Qt,{className:"w-5 h-5"})})]}),p?n.jsx("div",{className:"py-12 text-center text-gray-500",children:"Cargando…"}):n.jsxs("div",{className:"space-y-4",children:[v&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm p-3 rounded-lg",children:v}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-100 border flex items-center justify-center overflow-hidden",children:u?n.jsx("img",{src:u,alt:"logo",className:"w-full h-full object-cover"}):n.jsx(ZP,{className:"w-6 h-6 text-gray-500"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Logo (opcional)"}),n.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border hover:bg-gray-50 cursor-pointer",children:[n.jsx(RP,{className:"w-4 h-4"}),n.jsx("span",{children:"Subir imagen"}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:N})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nombre del negocio"}),n.jsx("input",{value:r,onChange:S=>a(S.target.value),className:"mt-1 w-full border rounded-lg px-3 py-2",placeholder:"Ej. Plaza Wifi"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Lema (opcional)"}),n.jsx("input",{value:l,onChange:S=>o(S.target.value),className:"mt-1 w-full border rounded-lg px-3 py-2",placeholder:"Ej. Sistema de Gestión v2.0"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border",children:"Cancelar"}),n.jsxs("button",{onClick:w,disabled:m||!r?.trim(),className:"px-4 py-2 rounded-lg bg-slate-800 text-white disabled:opacity-60 inline-flex items-center gap-2",children:[n.jsx(Hl,{className:"w-4 h-4"}),n.jsx("span",{children:m?"Guardando…":"Guardar"})]})]})]})]})]}):null},yX=()=>{const{user:e,logout:t}=zr(),r=Fn(),[a,l]=y.useState("dashboard"),[o,u]=y.useState(!1),[f,m]=y.useState(null),[h,p]=y.useState(!1),[x,v]=y.useState(!1),[j,N]=y.useState(!1);y.useEffect(()=>{const M=O=>{const{tabId:z}=O.detail;z&&S.some(F=>F.id===z)&&l(z)};return window.addEventListener("changeAdminTab",M),()=>{window.removeEventListener("changeAdminTab",M)}},[]);const w=async()=>{await t(),r("/login",{replace:!0})},S=[{id:"dashboard",name:"Dashboard",shortName:"Inicio",icon:q1,description:"Resumen general"},{id:"clientes",name:"Clientes",shortName:"Clientes",icon:Ea,description:"Clientes de servicio y ocasionales"},{id:"pagos-servicio",name:"Pagos de Servicio",shortName:"Pagos",icon:As,description:"Próximos pagos y vencidos de clientes de servicio"},{id:"ventas-ocasionales",name:"Ventas Ocasionales",shortName:"Ventas",icon:ND,description:"Registrar ventas a clientes ocasionales"},{id:"entregas",name:"Entregas",shortName:"Entregas",icon:ur,description:"Gestión de entregas"},{id:"stock",name:"Gestión de Stock",shortName:"Stock",icon:$D,description:"Inventario global"},{id:"equipos",name:"Equipos",shortName:"Equipos",icon:ur,description:"Inventario de equipos asignados"},{id:"corte",name:"Corte de Caja",shortName:"Corte",icon:Cl,description:"Análisis financiero"},{id:"tareas",name:"Tareas",shortName:"Tareas",icon:Ag,description:"Mantenimiento técnico"},{id:"reportes",name:"Reportes",shortName:"Reportes",icon:tn,description:"Reportes y análisis"},{id:"historial-global",name:"Historial Global",shortName:"Global",icon:tn,description:"Entregas, ventas y pagos"},{id:"historial",name:"Historial de Entregas",shortName:"Historial",icon:tn,description:"Detalle de todas las entregas"},{id:"notas",name:"Notas de Trabajadores",shortName:"Notas",icon:tn,description:"Notas registradas por el equipo"},{id:"usuarios",name:"Gestión de Usuarios",shortName:"Usuarios",icon:Ea,description:"Administrar usuarios"}],E=[{id:"inicio",label:"Inicio",icon:q1,items:["dashboard"]},{id:"operaciones",label:"Operaciones",icon:ur,items:["entregas","stock","equipos","ventas-ocasionales"]},{id:"clientes",label:"Clientes",icon:Ea,items:["clientes","pagos-servicio"]},{id:"tecnico",label:"Técnico",icon:Ag,items:["tareas","notas"]},{id:"finanzas",label:"Finanzas",icon:Cl,items:["corte","reportes"]},{id:"historial",label:"Historial",icon:tn,items:["historial-global","historial"]},{id:"admin",label:"Administración",icon:Rd,items:["usuarios"]}],_=M=>S.find(O=>O.id===M),A=M=>E.find(z=>z.id===M)?.items.includes(a),P=M=>{l(M),u(!1)},D=()=>{const M=S.find(O=>O.id===a);return M?M.name:"Dashboard"};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-40",children:n.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2 py-3 sm:py-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-slate-100 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(Rd,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900 truncate",children:[n.jsx("span",{className:"hidden sm:inline",children:"Panel de Administrador"}),n.jsx("span",{className:"sm:hidden",children:"Admin Panel"})]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:[n.jsx("span",{className:"hidden sm:inline",children:"Bienvenido, "}),e?.username||e?.nombre_completo||"Usuario"]}),n.jsxs("div",{className:"sm:hidden mt-1 text-xs text-gray-500 truncate",children:[n.jsx("span",{className:"text-gray-900 font-medium",children:D()}),n.jsx("span",{className:"mx-1",children:"•"}),n.jsx("span",{children:"Sección actual"})]})]})]}),n.jsxs("div",{className:"flex items-center flex-wrap gap-1 sm:gap-2",children:[n.jsxs("button",{onClick:()=>N(!0),className:"inline-flex items-center space-x-1 text-slate-500 hover:text-slate-700 px-2 py-2 rounded-lg hover:bg-slate-100",title:"Personalizar marca (logo y nombre)",children:[n.jsx(bD,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden md:inline text-sm",children:"Marca"})]}),n.jsxs("button",{onClick:()=>l("gastos"),className:"hidden sm:inline-flex items-center space-x-1 text-emerald-700 hover:text-emerald-800 font-medium transition-colors px-2 py-2 rounded-lg hover:bg-emerald-50",title:"Gastos",children:[n.jsx(As,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden md:inline",children:"Gastos"})]}),n.jsxs("button",{onClick:()=>l("pagos-servicio"),className:"hidden sm:inline-flex items-center space-x-1 text-indigo-700 hover:text-indigo-800 font-medium transition-colors px-2 py-2 rounded-lg hover:bg-indigo-50",title:"Pagos de Servicio",children:[n.jsx(UP,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden md:inline",children:"Pagos"})]}),n.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center space-x-1 sm:space-x-2 text-blue-600 hover:text-blue-700 font-medium transition-colors px-2 sm:px-4 py-2 rounded-xl hover:bg-blue-50",title:"Mi perfil",children:[n.jsx(br,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Mi Perfil"})]}),n.jsxs("button",{onClick:w,className:"inline-flex items-center space-x-1 sm:space-x-2 text-red-600 hover:text-red-700 font-medium transition-colors px-2 sm:px-4 py-2 rounded-xl hover:bg-red-50",children:[n.jsx(Dd,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Cerrar Sesión"})]})]})]}),n.jsx("div",{className:"hidden md:flex flex-wrap gap-2 pb-4 relative",children:E.map(M=>{const O=M.icon,z=f===M.id,F=A(M.id),W=M.items.length,R=W<=3?"grid-cols-1":W<=6?"grid-cols-2":"grid-cols-3",H=W<=3?"w-[280px]":W<=6?"w-[520px]":"w-[680px]";return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>m(z?null:M.id),className:`flex items-center space-x-2 px-4 py-2 rounded-xl font-medium transition-all duration-200 border ${F?"bg-slate-100 text-slate-900 border-slate-200":"text-gray-700 hover:text-gray-900 hover:bg-gray-50 border-gray-200"}`,children:[n.jsx(O,{className:`w-4 h-4 ${F?"text-slate-700":"text-gray-500"}`}),n.jsx("span",{children:M.label}),n.jsx("svg",{className:`w-4 h-4 transition-transform ${z?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.178l3.71-3.947a.75.75 0 111.08 1.04l-4.24 4.51a.75.75 0 01-1.08 0l-4.24-4.51a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),z&&n.jsx("div",{className:`absolute left-0 mt-2 ${H} max-w-[92vw] bg-white border border-gray-200 shadow-lg rounded-xl p-2.5 z-50`,children:n.jsx("div",{className:`grid ${R} gap-2 sm:gap-3`,children:M.items.map(T=>{const L=_(T);if(!L)return null;const B=L.icon,$=a===L.id;return n.jsxs("button",{onClick:()=>{P(L.id),m(null)},className:`flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ${$?"bg-slate-100":"hover:bg-gray-50"}`,children:[n.jsx(B,{className:`w-5 h-5 ${$?"text-slate-700":"text-gray-500"}`}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),n.jsx("div",{className:"text-[11px] text-gray-500",children:L.description})]})]},L.id)})})})]},M.id)})}),n.jsx("div",{className:"hidden md:flex lg:hidden space-x-1 pb-4 overflow-x-auto",children:S.filter(M=>M.id!=="gastos").map(M=>{const O=M.icon,z=a===M.id;return n.jsxs("button",{onClick:()=>P(M.id),className:`flex flex-col items-center space-y-1 px-4 py-3 rounded-xl font-medium transition-all duration-200 min-w-0 flex-shrink-0 ${z?"bg-slate-100 text-slate-900 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[n.jsx(O,{className:`w-5 h-5 ${z?"text-slate-700":"text-gray-500"}`}),n.jsx("span",{className:"text-xs font-medium truncate w-full text-center",children:M.shortName})]},M.id)})})]})}),n.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:n.jsxs("div",{className:"grid grid-cols-4 h-14",children:[E.slice(0,3).map(M=>{const O=M.icon,z=M.items.includes(a);return n.jsxs("button",{onClick:()=>m(f===M.id?null:M.id),className:`flex flex-col items-center justify-center space-y-1 ${z?"text-slate-700":"text-gray-500"}`,children:[n.jsx(O,{className:"w-5 h-5"}),n.jsx("span",{className:"text-[11px] font-medium",children:M.label})]},M.id)}),n.jsxs("button",{onClick:()=>u(!0),className:"flex flex-col items-center justify-center space-y-1 text-gray-700",children:[n.jsx(iD,{className:"w-5 h-5"}),n.jsx("span",{className:"text-[11px] font-medium",children:"Menú"})]})]})}),n.jsxs("div",{className:"flex-1 pb-16 md:pb-0",children:[a==="dashboard"&&n.jsx(XD,{}),a==="entregas"&&n.jsx(rR,{}),a==="stock"&&n.jsx(uR,{}),a==="equipos"&&n.jsx(dX,{}),a==="gastos"&&n.jsx(hX,{}),a==="clientes"&&n.jsx(pX,{}),a==="pagos-servicio"&&n.jsx(gX,{}),a==="ventas-ocasionales"&&n.jsx(xX,{}),a==="corte"&&n.jsx(pR,{}),a==="tareas"&&n.jsx(gR,{}),a==="reportes"&&n.jsx(IY,{}),a==="historial-global"&&n.jsx(ZY,{}),a==="historial"&&n.jsx(FY,{}),a==="notas"&&n.jsx(QY,{}),a==="usuarios"&&n.jsx(lX,{})]}),o&&n.jsxs("div",{className:"md:hidden fixed inset-0 z-50 flex",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>u(!1)}),n.jsxs("div",{className:"relative mt-auto w-full bg-white rounded-t-2xl p-4 max-h-[75vh] overflow-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-base font-semibold",children:"Menú"}),n.jsx("button",{onClick:()=>u(!1),className:"p-2 rounded-lg hover:bg-gray-100",children:n.jsx(Qt,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"space-y-4",children:E.map(M=>n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-semibold text-gray-500 px-1 mb-2",children:M.label}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.items.map(O=>{const z=_(O);if(!z)return null;const F=z.icon,W=a===z.id;return n.jsxs("button",{onClick:()=>{P(z.id),u(!1)},className:`flex items-center gap-3 px-3 py-2 rounded-xl border ${W?"bg-slate-50 border-slate-200":"border-gray-200"}`,children:[n.jsx(F,{className:"w-5 h-5 text-gray-600"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.name}),n.jsx("div",{className:"text-[11px] text-gray-500",children:z.description})]})]},z.id)})})]},M.id))})]})]}),n.jsx(fX,{isOpen:h,onClose:()=>p(!1)}),n.jsx(mX,{isOpen:x,onClose:()=>v(!1)}),n.jsx(vX,{isOpen:j,onClose:()=>N(!1)})]})},bX=({revendedores:e,currentUser:t,corteCaja:r,historialCortes:a,tareasMantenimiento:l,loading:o,onLogout:u})=>{const[f,m]=y.useState(!1),[h]=y.useState(()=>Date.now()),[p,x]=y.useState("resumen"),[v,j]=y.useState({}),N=R=>j(H=>({...H,[R]:!H[R]}));y.useEffect(()=>{const R=setTimeout(()=>m(!0),1200);return()=>clearTimeout(R)},[]);const w=Date.now()-h<4e3,S=(e||[]).find(R=>R.id===t?.revendedor_id);r?.resumenPorRevendedor?.find(R=>R.revendedor===S?.nombre);const E=S?.inventarios||[],_=a||[],A=_.length>0?_[0]:null,P=A?.porcentaje_revendedor||80,D=A?.porcentaje_admin||20,M=_.reduce((R,H)=>({totalVendidoAcumulado:R.totalVendidoAcumulado+(H.total_vendido||0),totalComisionAcumulada:R.totalComisionAcumulada+(H.total_comision_revendedor||0),totalTiposVendidos:R.totalTiposVendidos+(H.tipos_vendidos?.length||0)}),{totalVendidoAcumulado:0,totalComisionAcumulada:0,totalTiposVendidos:0}),z=(l||[]).filter(R=>R.revendedor_id===S?.id||R.revendedor_id===t?.revendedor_id||R.ubicacion===S?.nombre||R.ubicacion===S?.nombre_negocio||R.trabajador_id&&R.ubicacion&&(R.ubicacion.includes(S?.nombre)||R.ubicacion.includes(S?.nombre_negocio))),F=z.filter(R=>R.estado==="Pendiente"||R.estado==="pendiente"),W=z.filter(R=>R.estado==="Completado"||R.estado==="completada"||R.estado==="Completada");return t?!S&&(o||!f||w)?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Cargando datos del revendedor..."}),n.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Preparando tu panel"})]})}):S?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center py-4 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-slate-100 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(sn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-slate-600"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h1",{className:"text-lg sm:text-2xl font-semibold text-gray-900 truncate",children:S?.nombre_negocio||S?.nombre||"Negocio"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 truncate",children:t?.nombre_completo||t?.username})]})]}),n.jsxs("button",{onClick:u,className:"inline-flex items-center space-x-2 text-red-600 hover:text-red-700 font-medium transition-colors px-3 py-2 rounded-xl hover:bg-red-50 text-sm sm:text-base",children:[n.jsx(Dd,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Cerrar Sesión"}),n.jsx("span",{className:"sm:hidden",children:"Salir"})]})]}),n.jsx("div",{className:"hidden sm:flex flex-wrap gap-2 pb-4",children:[{key:"resumen",label:"Resumen"},{key:"inventario",label:"Inventario"},{key:"tareas",label:"Tareas"},{key:"cortes",label:"Cortes de Caja"}].map(R=>n.jsx("button",{onClick:()=>x(R.key),className:`px-3 py-2 rounded-xl text-sm font-medium border transition-colors ${p===R.key?"border-blue-600 text-blue-700 bg-blue-50":"border-gray-200 text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:R.label},R.key))})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8 space-y-6 sm:space-y-8 pb-16 sm:pb-8",children:[p==="resumen"&&n.jsxs("div",{id:"section-info",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-50 rounded-xl flex items-center justify-center",children:n.jsx(br,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Mi Información"}),n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Datos de contacto"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 bg-gray-50 rounded-xl",children:[n.jsx(br,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-600 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Nombre"}),n.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:t?.nombre_completo||S?.responsable||S?.nombre||t?.username})]})]}),S?.nombre_negocio&&n.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 bg-gray-50 rounded-xl",children:[n.jsx(sn,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-600 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Negocio"}),n.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:S.nombre_negocio})]})]}),S?.telefono&&n.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 bg-gray-50 rounded-xl",children:[n.jsx(q0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-600 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Teléfono"}),n.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:S.telefono})]})]})]})]}),p==="inventario"&&n.jsxs("div",{id:"section-inventario",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-50 rounded-xl flex items-center justify-center",children:n.jsx(ur,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Mi Inventario Actual"}),n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Fichas disponibles para venta"})]})]}),E&&E.length>0?n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"bg-emerald-50 p-3 sm:p-4 rounded-xl text-center",children:[n.jsx("h4",{className:"font-semibold text-emerald-800 text-sm sm:text-base",children:"Tipos de Fichas"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-emerald-600",children:E.length})]}),n.jsxs("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-xl text-center",children:[n.jsx("h4",{className:"font-semibold text-blue-800 text-sm sm:text-base",children:"Total Disponible"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:E.reduce((R,H)=>R+(H.stock_actual||0),0)})]}),n.jsxs("div",{className:"bg-purple-50 p-3 sm:p-4 rounded-xl text-center sm:col-span-1 col-span-1",children:[n.jsx("h4",{className:"font-semibold text-purple-800 text-sm sm:text-base",children:"Total Entregado"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:E.reduce((R,H)=>R+(H.fichas_entregadas||0),0)})]})]}),n.jsx("div",{className:"space-y-3 sm:hidden",children:E.map((R,H)=>n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-semibold text-slate-600",children:R.tipo_ficha_nombre?.split(" ")[0]||"F"})}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-900 text-sm",children:R.tipo_ficha_nombre}),n.jsx("p",{className:"text-xs text-gray-500",children:R.duracion_horas?`${R.duracion_horas}h`:"N/A"})]})]}),n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(R.stock_actual||0)>0?"bg-emerald-100 text-emerald-800":(R.fichas_entregadas||0)>0?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:(R.stock_actual||0)>0?"Disponible":(R.fichas_entregadas||0)>0?"Agotado":"Sin Stock"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Disponibles:"}),n.jsx("p",{className:"font-semibold text-gray-900",children:R.stock_actual||0})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Entregadas:"}),n.jsx("p",{className:"font-semibold text-gray-900",children:R.fichas_entregadas||0})]})]})]},H))}),n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 rounded-xl",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider rounded-l-xl",children:"Tipo de Ficha"}),n.jsx("th",{className:"px-4 sm:px-6 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Duración"}),n.jsx("th",{className:"px-4 sm:px-6 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Disponibles"}),n.jsx("th",{className:"px-4 sm:px-6 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Total Entregado"}),n.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider rounded-r-xl",children:"Estado"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:E.map((R,H)=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-4 sm:px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-xs font-semibold text-slate-600",children:R.tipo_ficha_nombre?.split(" ")[0]||"F"})}),n.jsx("span",{className:"font-medium text-gray-900",children:R.tipo_ficha_nombre})]})}),n.jsx("td",{className:"px-4 sm:px-6 py-4 text-center text-gray-600",children:R.duracion_horas?`${R.duracion_horas}h`:"N/A"}),n.jsx("td",{className:"px-4 sm:px-6 py-4 text-center",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(R.stock_actual||0)>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.stock_actual||0})}),n.jsx("td",{className:"px-4 sm:px-6 py-4 text-center font-semibold text-gray-900",children:R.fichas_entregadas||0}),n.jsx("td",{className:"px-4 sm:px-6 py-4 text-right",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(R.stock_actual||0)>0?"bg-emerald-100 text-emerald-800":(R.fichas_entregadas||0)>0?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:(R.stock_actual||0)>0?"Disponible":(R.fichas_entregadas||0)>0?"Agotado":"Sin Stock"})})]},H))})]})})]}):n.jsxs("div",{className:"text-center py-8 sm:py-12",children:[n.jsx(ur,{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"Sin inventario asignado"}),n.jsx("p",{className:"text-gray-500 max-w-md mx-auto text-sm sm:text-base px-4",children:"Aún no tienes fichas asignadas a tu inventario. Contacta al administrador para recibir tus primeras entregas."})]})]}),p==="tareas"&&n.jsxs("div",{id:"section-tareas",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-50 rounded-xl flex items-center justify-center",children:n.jsx(Tt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Mis Tareas de Mantenimiento"}),n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Trabajos técnicos programados para mi ubicación"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"bg-slate-50 p-3 sm:p-4 rounded-xl text-center",children:[n.jsx("h4",{className:"font-semibold text-slate-800 text-sm sm:text-base",children:"Total de Tareas"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-slate-600",children:z.length})]}),n.jsxs("div",{className:"bg-amber-50 p-3 sm:p-4 rounded-xl text-center",children:[n.jsx("h4",{className:"font-semibold text-amber-800 text-sm sm:text-base",children:"Pendientes"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-amber-600",children:F.length})]}),n.jsxs("div",{className:"bg-emerald-50 p-3 sm:p-4 rounded-xl text-center",children:[n.jsx("h4",{className:"font-semibold text-emerald-800 text-sm sm:text-base",children:"Completadas"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-emerald-600",children:W.length})]})]}),n.jsx("div",{className:"space-y-3 sm:space-y-4",children:z.length>0?z.sort((R,H)=>{const T=R.estado==="Pendiente"||R.estado==="pendiente",L=H.estado==="Pendiente"||H.estado==="pendiente";if(T!==L)return T?-1:1;const B={Urgente:4,Alta:3,Media:2,Baja:1};return(B[H.prioridad]||0)-(B[R.prioridad]||0)}).map(R=>n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-6 hover:shadow-sm transition-shadow",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between mb-3 sm:mb-4 gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:R.titulo}),n.jsx("p",{className:"text-gray-600 mb-3 text-sm sm:text-base",children:R.descripcion}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4 text-xs sm:text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(pi,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Asignada: ",new Date(R.fecha_asignacion).toLocaleDateString("es-MX")]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(ba,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Vencimiento: ",new Date(R.fecha_vencimiento).toLocaleDateString("es-MX")]})]})]}),n.jsxs("div",{className:"flex flex-row sm:flex-col items-start sm:items-end space-x-2 sm:space-x-0 sm:space-y-2",children:[n.jsx("span",{className:`inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${R.prioridad==="Urgente"?"bg-red-100 text-red-800":R.prioridad==="Alta"?"bg-orange-100 text-orange-800":R.prioridad==="Media"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:R.prioridad}),n.jsxs("span",{className:`inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${R.estado==="Completado"||R.estado==="completada"||R.estado==="Completada"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"}`,children:[(R.estado==="Completado"||R.estado==="completada"||R.estado==="Completada")&&n.jsx(St,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(R.estado==="Pendiente"||R.estado==="pendiente")&&n.jsx(ba,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),R.estado]})]})]}),R.notas&&(R.estado==="Completado"||R.estado==="completada"||R.estado==="Completada")&&n.jsx("div",{className:"mt-4 p-3 sm:p-4 bg-emerald-50 rounded-xl border border-emerald-200",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(St,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-emerald-800 text-sm sm:text-base",children:"Trabajo completado"}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:[R.fecha_completado&&n.jsxs("span",{className:"block",children:["Finalizado el ",new Date(R.fecha_completado).toLocaleDateString("es-MX")]}),R.notas&&n.jsxs("div",{className:"mt-1",children:[n.jsx("strong",{children:"Notas del técnico:"})," ",R.notas]})]})]})]})})]},R.id)):n.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-500",children:[n.jsx(Tt,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-sm sm:text-base",children:"No tienes tareas de mantenimiento asignadas"})]})})]}),p==="cortes"&&(_.length>0?n.jsxs("div",{id:"section-cortes",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-purple-50 rounded-xl flex items-center justify-center",children:n.jsx(As,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Mis Cortes de Caja"}),n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Historial de mis cortes y comisiones"})]})]}),A&&n.jsxs("div",{className:"mb-6 sm:mb-8 p-4 sm:p-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl border border-purple-100",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Resumen Total - Todos mis Cortes"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-xl text-center shadow-sm",children:[n.jsx("h4",{className:"font-semibold text-emerald-800 mb-2 text-sm sm:text-base",children:"Mi Ganancia Total"}),n.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-emerald-600",children:["$",M.totalComisionAcumulada?.toLocaleString("es-MX",{minimumFractionDigits:2})||"0.00"]}),n.jsxs("p",{className:"text-xs text-emerald-700",children:[P,"% de las ventas"]})]}),n.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-xl text-center shadow-sm",children:[n.jsx("h4",{className:"font-semibold text-blue-800 mb-2 text-sm sm:text-base",children:"Total Vendido"}),n.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:["$",M.totalVendidoAcumulado?.toLocaleString("es-MX",{minimumFractionDigits:2})||"0.00"]}),n.jsx("p",{className:"text-xs text-blue-700",children:"Ventas totales"})]}),n.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-xl text-center shadow-sm",children:[n.jsx("h4",{className:"font-semibold text-purple-800 mb-2 text-sm sm:text-base",children:"Cortes Realizados"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:_.length}),n.jsx("p",{className:"text-xs text-purple-700",children:"Histórico completo"})]})]})]}),_.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Historial Completo"}),n.jsx("div",{className:"space-y-3 sm:space-y-4",children:_.map((R,H)=>{const T=Array.isArray(R.tipos_vendidos)?R.tipos_vendidos.filter(L=>(L?.vendidas||0)>0||(L?.total_vendido||0)>0):[];return n.jsxs("div",{className:"p-3 sm:p-5 border border-gray-200 rounded-2xl shadow-sm hover:shadow transition-shadow bg-white",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-3 gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["Corte del ",new Date(R.fecha).toLocaleDateString("es-MX")]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[T.length," tipos de fichas vendidas"]})]}),n.jsxs("div",{className:"text-left sm:text-right",children:[n.jsxs("p",{className:"font-semibold text-emerald-600 text-sm sm:text-base",children:["$",R.total_comision_revendedor?.toLocaleString("es-MX",{minimumFractionDigits:2})||"0.00"]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["Mi ganancia (",R.porcentaje_revendedor||P,"%)"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-4 text-xs sm:text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Total vendido:"}),n.jsxs("p",{className:"font-medium",children:["$",R.total_vendido?.toLocaleString("es-MX",{minimumFractionDigits:2})||"0.00"]})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-600",children:["Mi ganancia (",R.porcentaje_revendedor||P,"%):"]}),n.jsxs("p",{className:"font-medium text-emerald-600",children:["$",R.total_comision_revendedor?.toLocaleString("es-MX",{minimumFractionDigits:2})||"0.00"]})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-600",children:["Para admin (",R.porcentaje_admin||D,"%):"]}),n.jsxs("p",{className:"font-medium text-purple-600",children:["$",R.total_ganancia_admin?.toLocaleString("es-MX",{minimumFractionDigits:2})||"0.00"]})]})]}),T.length>0&&n.jsxs("div",{className:"mt-3 sm:mt-4",children:[n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:"Detalle rápido por tipo:"}),n.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:T.map((L,B)=>n.jsxs("li",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg px-3 py-2",children:[n.jsx("span",{className:"font-medium text-gray-900 truncate pr-2",children:L.tipo_ficha}),n.jsxs("span",{className:"text-gray-700",children:[L.vendidas||0," vendidas"]})]},B))})]}),T.length>0&&n.jsx("div",{className:"mt-3 sm:mt-4",children:n.jsx("button",{onClick:()=>N(R.id),className:"text-blue-600 hover:text-blue-700 text-xs sm:text-sm font-medium",children:v[R.id]?"Ocultar detalle":"Ver detalle"})}),v[R.id]&&T.length>0&&n.jsxs("div",{className:"mt-3 sm:mt-4",children:[n.jsx("div",{className:"space-y-2 sm:hidden",children:T.map((L,B)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium text-gray-900 text-sm",children:L.tipo_ficha}),n.jsxs("span",{className:"text-xs text-gray-600",children:[L.vendidas||0," vendidas"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Vendido:"}),n.jsxs("p",{className:"font-semibold text-blue-600",children:["$",(L.total_vendido||0).toLocaleString("es-MX",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-600",children:["Mi ganancia (",L.porcentaje_revendedor??(R.porcentaje_revendedor||P),"%):"]}),n.jsxs("p",{className:"font-semibold text-emerald-600",children:["$",(L.comision_revendedor||0).toLocaleString("es-MX",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-600",children:["Para admin (",L.porcentaje_admin??(R.porcentaje_admin||D),"%):"]}),n.jsxs("p",{className:"font-semibold text-purple-600",children:["$",(L.ganancia_admin||0).toLocaleString("es-MX",{minimumFractionDigits:2})]})]})]})]},B))}),n.jsx("div",{className:"hidden sm:block overflow-x-auto mt-2",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider rounded-l-lg",children:"Tipo de ficha"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Vendidas"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Vendido"}),n.jsxs("th",{className:"px-4 py-2 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:["Mi ganancia (",R.porcentaje_revendedor||P,"%)"]}),n.jsxs("th",{className:"px-4 py-2 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider rounded-r-lg",children:["Para admin (",R.porcentaje_admin||D,"%)"]})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:T.map((L,B)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:L.tipo_ficha}),n.jsx("td",{className:"px-4 py-2 text-center text-sm",children:L.vendidas||0}),n.jsxs("td",{className:"px-4 py-2 text-center text-sm text-blue-600",children:["$",(L.total_vendido||0).toLocaleString("es-MX",{minimumFractionDigits:2})]}),n.jsxs("td",{className:"px-4 py-2 text-center text-sm text-emerald-600",children:["$",(L.comision_revendedor||0).toLocaleString("es-MX",{minimumFractionDigits:2})]}),n.jsxs("td",{className:"px-4 py-2 text-right text-sm text-purple-600",children:["$",(L.ganancia_admin||0).toLocaleString("es-MX",{minimumFractionDigits:2})]})]},B))})]})})]})]},R.id??H)})})]})]}):n.jsxs("div",{id:"section-cortes",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 sm:p-8 text-center",children:[n.jsx(pi,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No hay cortes de caja disponibles"}),n.jsx("p",{className:"text-gray-500 text-sm sm:text-base px-4",children:"El administrador aún no ha realizado ningún corte de caja para tu negocio."})]}))]}),n.jsx("div",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40",children:n.jsx("div",{className:"grid grid-cols-4 h-14",children:[{key:"resumen",label:"Inicio",icon:br},{key:"inventario",label:"Inventario",icon:ur},{key:"tareas",label:"Tareas",icon:Tt},{key:"cortes",label:"Cortes",icon:As}].map(R=>{const H=R.icon;return n.jsxs("button",{onClick:()=>x(R.key),className:`flex flex-col items-center justify-center space-y-1 ${p===R.key?"text-blue-700":"text-gray-700"}`,children:[n.jsx(H,{className:"w-5 h-5"}),n.jsx("span",{className:"text-[11px] font-medium",children:R.label})]},R.key)})})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Tt,{className:"w-8 h-8 text-red-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error de Configuración"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"No se pudieron cargar tus datos como revendedor. Esto puede ser debido a:"}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4 text-left",children:[n.jsx("h3",{className:"font-medium text-yellow-800 mb-2",children:"⚠️ Posibles causas:"}),n.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:"• Error 403 en el servidor (verificar middleware de autenticación)"}),n.jsx("li",{children:"• Tu cuenta no está vinculada correctamente a un revendedor"}),n.jsx("li",{children:"• Problema de permisos en el backend"}),n.jsx("li",{children:"• El servidor está experimentando problemas temporales"})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 text-left",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Información de debugging:"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Usuario:"})," ",t?.username||"No definido"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"ID de usuario:"})," ",t?.id||"No definido"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Rol:"})," ",t?.role||t?.tipo_usuario||"No definido"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"ID de revendedor:"})," ",t?.revendedor_id||"No definido"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Revendedores disponibles:"})," ",e?.length||0]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Estado autenticación:"})," ",t?"Autenticado":"No autenticado"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("button",{onClick:()=>window.location.reload(),className:"w-full inline-flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:n.jsx("span",{children:"🔄 Recargar Página"})}),n.jsxs("button",{onClick:u,className:"w-full inline-flex items-center justify-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[n.jsx(Dd,{className:"w-4 h-4"}),n.jsx("span",{children:"Cerrar Sesión"})]})]})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Cargando información del usuario..."})]})})},jX=()=>{const{user:e,logout:t}=zr(),r=Fn(),a=Hn(),l=async()=>{await t(),r("/login",{replace:!0})},o={revendedores:a.revendedores||[],currentUser:e,corteCaja:a.corteCaja||{resumenPorRevendedor:[]},historialCortes:a.historialCortes||[],tareasMantenimiento:a.tareasMantenimiento||[],loading:a.loading,onLogout:l};return n.jsx(bX,{...o})},wX=({isOpen:e,onClose:t,onConfirm:r,titulo:a="Completar Tarea"})=>{const[l,o]=y.useState("");if(y.useEffect(()=>{e&&o("")},[e]),!e)return null;const u=()=>{r(l),t()},f=m=>{m.key==="Enter"&&(m.ctrlKey||m.metaKey)&&u(),m.key==="Escape"&&t()};return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 transform transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center",children:n.jsx(St,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),n.jsx("p",{className:"text-sm text-gray-500",children:"Agregar notas del trabajo realizado"})]})]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:n.jsx(Qt,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[n.jsx(tn,{className:"w-4 h-4 inline mr-2"}),"Notas del trabajo realizado (opcional):"]}),n.jsx("textarea",{value:l,onChange:m=>o(m.target.value),onKeyDown:f,placeholder:"Describe brevemente el trabajo realizado, observaciones importantes, materiales utilizados, etc.",className:"w-full h-32 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none text-sm",autoFocus:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Presiona Ctrl+Enter para completar rápidamente"})]}),n.jsxs("div",{className:"flex space-x-3 p-6 bg-gray-50 rounded-b-2xl",children:[n.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 text-gray-700 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Cancelar"}),n.jsx("button",{onClick:u,className:"flex-1 px-4 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors font-medium",children:"Completar Tarea"})]})]})})},NX=({open:e,onClose:t,title:r="Ubicación",lat:a,lng:l,direccion:o})=>{if(!e)return null;const u=Number.isFinite(Number(a))&&Number.isFinite(Number(l)),f=u?`${Number(l)-.005}%2C${Number(a)-.005}%2C${Number(l)+.005}%2C${Number(a)+.005}`:null,m=u?`${a}%2C${l}`:null,h=u?`https://www.google.com/maps/dir/?api=1&destination=${a},${l}`:o?`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(o)}`:null,p=o?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(o)}`:null;return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:r}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:n.jsx(Qt,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("div",{className:"p-4 space-y-3",children:[o&&n.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[n.jsx("span",{className:"text-gray-500",children:"Dirección:"})," ",o]}),u?n.jsx("div",{className:"w-full h-72 rounded-lg overflow-hidden border",children:n.jsx("iframe",{title:"mapa-ubicacion",className:"w-full h-full",loading:"lazy",src:`https://www.openstreetmap.org/export/embed.html?bbox=${f}&layer=mapnik&marker=${m}`})}):n.jsx("div",{className:"text-sm text-gray-600",children:"No hay coordenadas guardadas para este cliente. Puedes usar el enlace a Google Maps."}),n.jsxs("div",{className:"flex items-center gap-3 pt-1",children:[h&&n.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-600 text-white hover:bg-blue-700 text-sm",children:"Navegar"}),p&&n.jsx("a",{href:p,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"Google Maps (dirección)"}),u&&n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${a},${l}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"Google Maps (lat,lng)"})]})]})]})})},SX=({revendedores:e,currentUser:t,onLogout:r})=>{const[a,l]=y.useState("pendientes"),[o,u]=y.useState([]),[f,m]=y.useState([]),[h,p]=y.useState([]),[x,v]=y.useState(!1),[j,N]=y.useState(!1),[w,S]=y.useState({revendedor_id:"",tipo_ficha_id:"",cantidad:"",nota:""}),[E,_]=y.useState(!1),[A,P]=y.useState(null),[D,M]=y.useState(null),[O,z]=y.useState({titulo:"",contenido:"",revendedor_id:""}),[F,W]=y.useState([]),[R,H]=y.useState(!1),[T,L]=y.useState(null),[B,$]=y.useState(!0),[q,Z]=y.useState(!1),[le,U]=y.useState(!0),[X,ne]=y.useState(""),[ie,G]=y.useState("entrega");y.useEffect(()=>{const ee=setTimeout(()=>Z(!0),1e3),be=setTimeout(()=>U(!1),3e3);return()=>{clearTimeout(ee),clearTimeout(be)}},[]);const[ve,K]=y.useState(null),[ge,Me]=y.useState(!1),[ye,Se]=y.useState(null),[$e,he]=y.useState({open:!1,title:"",lat:null,lng:null,direccion:""});y.useEffect(()=>{at(),bt(),pe(),Fe();const ee=XY(be=>{be==="tarea-creada"||be==="tarea-actualizada"?at():be==="nota-creada"||be==="nota-actualizada"||be==="nota-eliminada"?Fe():(be==="inventario-actualizado"||be==="entrega-creada")&&bt()});return()=>ee?.()},[]);const at=async()=>{try{$(!0),K(null),console.log("🔍 Cargando tareas del trabajador...");const ee=await or.obtenerMisTareas();ee.success?(console.log("✅ Tareas cargadas:",ee.tareas),u(ee.tareas||[])):(console.error("❌ Error al cargar tareas:",ee.error),K(ee.error))}catch(ee){console.error("❌ Error al cargar tareas:",ee),K("Error al cargar las tareas")}finally{$(!1)}},Fe=async()=>{try{H(!0),L(null);const ee=await Ie.listarNotas({page:1,pageSize:10});W(ee.items||[])}catch(ee){console.error("Error cargando notas:",ee),L("No se pudieron cargar las notas")}finally{H(!1)}},Ct=async ee=>{if(ee.preventDefault(),!(!O.titulo?.trim()||!O.contenido?.trim()))try{H(!0);const be=await Ie.crearNota({titulo:O.titulo.trim(),contenido:O.contenido.trim(),revendedor_id:O.revendedor_id?Number(O.revendedor_id):void 0});W(ze=>[be,...ze].slice(0,10)),z({titulo:"",contenido:"",revendedor_id:""})}catch(be){console.error("Error creando nota:",be),L(be?.message||"No se pudo crear la nota")}finally{H(!1)}},bt=async()=>{try{v(!0);const be=(await Ie.obtenerStockGlobal({forceRefresh:!0})||[]).filter(ze=>(ze.cantidad_disponible||0)>0);m(be)}catch(ee){console.error("Error cargando stock disponible:",ee)}finally{v(!1)}},pe=async()=>{try{if(e&&e.length){p(e);return}N(!0);const ee=await Ie.obtenerRevendedores({forceRefresh:!0});p(ee||[])}catch(ee){console.error("Error cargando revendedores:",ee)}finally{N(!1)}},Ee=f.find(ee=>ee.tipo_ficha_id===Number(w.tipo_ficha_id)),Be=Ee?Ee.cantidad_disponible:0,ke=h.find(ee=>ee.id===Number(w.revendedor_id)),Qe=w.revendedor_id&&w.tipo_ficha_id&&w.cantidad&&Number(w.cantidad)>0&&Number(w.cantidad)<=Be,xe=(ee,be)=>{S(ze=>({...ze,[ee]:be})),P(null),M(null)},Ne=async ee=>{if(ee.preventDefault(),!(!Qe||E))try{_(!0),M(null);const be={revendedor_id:Number(w.revendedor_id),tipo_ficha_id:Number(w.tipo_ficha_id),cantidad:Number(w.cantidad),tipo_movimiento:"entrega",nota:w.nota?.trim()||""},ze=await Ie.crearEntrega(be);P(`Fichas entregadas correctamente. ID entrega: ${ze?.id||"—"}`),await bt(),S(At=>({...At,cantidad:""}))}catch(be){console.error("Error realizando entrega:",be),M(be?.message||"Error al entregar fichas")}finally{_(!1)}},_e=o.filter(ee=>ee.estado==="Pendiente"),ce=o.filter(ee=>ee.estado==="En Progreso"),te=o.filter(ee=>ee.estado==="Completado");if(!t||B||!q||le)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Cargando datos del trabajador..."}),n.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Preparando tu panel"})]})});if(ve)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Tt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error al cargar tareas"}),n.jsx("p",{className:"text-gray-600 mb-4",children:ve}),n.jsx("button",{onClick:at,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Reintentar"})]})});const oe=async(ee,be)=>{try{const ze=await or.actualizarEstadoMiTarea(ee,"Completado",be);if(ze.success){const At=o.map(Je=>Je.id===ee?{...Je,estado:"Completado",notas:be,fecha_completado:new Date().toISOString().split("T")[0]}:Je);u(At)}else console.error("Error al completar tarea:",ze.error),K(ze.error)}catch(ze){console.error("Error al completar tarea:",ze),K("Error al completar la tarea")}},je=ee=>{Se(ee),Me(!0)},Ue=ee=>{ye&&(oe(ye,ee||""),Se(null))},jt=()=>{Me(!1),Se(null)},Pt=async ee=>{try{const be=await or.actualizarEstadoMiTarea(ee,"En Progreso","");if(be.success){const ze=o.map(At=>At.id===ee?{...At,estado:"En Progreso"}:At);u(ze)}else console.error("Error al iniciar tarea:",be.error),K(be.error)}catch(be){console.error("Error al iniciar tarea:",be),K("Error al iniciar la tarea")}},Va=ee=>({Baja:"bg-green-100 text-green-800 border-green-200",Media:"bg-yellow-100 text-yellow-800 border-yellow-200",Alta:"bg-orange-100 text-orange-800 border-orange-200",Urgente:"bg-red-100 text-red-800 border-red-200"})[ee]||"bg-gray-100 text-gray-800 border-gray-200",Ur=ee=>ee==="Urgente"||ee==="Alta"?Ss:Cd,Ga=a==="pendientes"?_e:a==="progreso"?ce:a==="completadas"?te:o,ar=o.length>0?te.length/o.length*100:0,Ta=te.filter(ee=>ee.prioridad==="Urgente"||ee.prioridad==="Alta").length;return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center py-4 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-slate-100 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(br,{className:"w-5 h-5 sm:w-6 sm:h-6 text-slate-600"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h1",{className:"text-lg sm:text-2xl font-semibold text-gray-900",children:"Panel del Técnico"}),n.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:[n.jsx("span",{className:"font-medium",children:t.nombre_completo||t.nombre||t.username||"Usuario"}),t.especialidad&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-1 sm:mx-2",children:"-"}),n.jsx("span",{className:"text-blue-600 font-medium",children:t.especialidad})]})]})]})]}),n.jsxs("button",{onClick:r,className:"inline-flex items-center space-x-2 text-red-600 hover:text-red-700 font-medium transition-colors px-3 py-2 rounded-xl hover:bg-red-50 text-sm sm:text-base",children:[n.jsx(Dd,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Cerrar Sesión"}),n.jsx("span",{className:"sm:hidden",children:"Salir"})]})]}),n.jsx("div",{className:"hidden sm:flex flex-wrap gap-2 pb-4",children:[{key:"tareas",label:`Mis Tareas (${o.length})`},{key:"entrega",label:"Entregar Fichas"},{key:"direcciones",label:"Direcciones"},{key:"notas",label:"Notas"},{key:"resumen",label:"Resumen"},{key:"rendimiento",label:"Rendimiento"}].map(ee=>n.jsx("button",{onClick:()=>G(ee.key),className:`px-3 py-2 rounded-xl text-sm font-medium border transition-colors ${ie===ee.key?"border-blue-600 text-blue-700 bg-blue-50":"border-gray-200 text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:ee.label},ee.key))})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8 space-y-6 sm:space-y-8 pb-16 sm:pb-8",children:[ie==="entrega"&&n.jsxs("div",{id:"section-entrega",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4",children:"Entregar Fichas a Clientes"}),n.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),n.jsxs("select",{value:w.revendedor_id,onChange:ee=>xe("revendedor_id",ee.target.value),className:"px-3 py-2 border rounded-lg text-sm bg-white focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Seleccione..."}),j&&n.jsx("option",{children:"Cargando..."}),h.slice().sort((ee,be)=>oc(ee).localeCompare(oc(be))).map(ee=>n.jsx("option",{value:ee.id,children:`${bl(ee)}#${ee.id}`},ee.id))]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Tipo de Ficha (Stock)"}),n.jsxs("select",{value:w.tipo_ficha_id,onChange:ee=>xe("tipo_ficha_id",ee.target.value),className:"px-3 py-2 border rounded-lg text-sm bg-white focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Seleccione..."}),x&&n.jsx("option",{children:"Cargando..."}),f.map(ee=>n.jsxs("option",{value:ee.tipo_ficha_id,children:[ee.tipo_ficha_nombre," (disp: ",ee.cantidad_disponible,")"]},ee.tipo_ficha_id))]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cantidad"}),n.jsx("input",{type:"number",min:1,max:Be||1,value:w.cantidad,onChange:ee=>xe("cantidad",ee.target.value),placeholder:Ee?`Máx ${Be}`:"—",className:"px-3 py-2 border rounded-lg text-sm bg-white focus:ring-2 focus:ring-blue-500",required:!0}),Ee&&w.cantidad&&Number(w.cantidad)>Be&&n.jsx("span",{className:"text-xs text-red-600 mt-1",children:"Excede el stock disponible"})]}),n.jsxs("div",{className:"flex flex-col md:col-span-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Nota (opcional)"}),n.jsx("input",{type:"text",maxLength:120,value:w.nota,onChange:ee=>xe("nota",ee.target.value),placeholder:"Referencia...",className:"px-3 py-2 border rounded-lg text-sm bg-white focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-2",children:[n.jsx("div",{className:"text-xs text-gray-500",children:Ee?`Stock disponible: ${Ee.cantidad_disponible}`:"Seleccione un tipo de ficha"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{S({revendedor_id:"",tipo_ficha_id:"",cantidad:"",nota:""}),M(null),P(null)},className:"px-4 py-2 text-sm rounded-lg border bg-white hover:bg-gray-50",disabled:E,children:"Limpiar"}),n.jsx("button",{type:"submit",disabled:!Qe||E,className:`px-5 py-2.5 text-sm font-medium rounded-lg text-white transition-colors ${Qe&&!E?"bg-emerald-600 hover:bg-emerald-700":"bg-gray-400 cursor-not-allowed"}`,children:E?"Entregando...":"Entregar Fichas"})]})]}),A&&n.jsx("div",{className:"text-sm text-emerald-600 font-medium",children:A}),D&&n.jsx("div",{className:"text-sm text-red-600 font-medium",children:D})]}),ke&&(ke.direccion||ke.latitud&&ke.longitud)&&n.jsx("div",{className:"mt-5 p-3 sm:p-4 bg-gray-50 rounded-xl border border-gray-200",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-9 h-9 bg-white rounded-lg border border-gray-200 flex items-center justify-center flex-shrink-0",children:n.jsx(fc,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Dirección del cliente seleccionado"}),ke.direccion&&n.jsx("div",{className:"font-medium text-gray-900 truncate",children:ke.direccion}),n.jsxs("div",{className:"mt-2 flex items-center gap-3 flex-wrap",children:[n.jsx("button",{type:"button",onClick:()=>he({open:!0,title:`Ubicación de ${bl(ke)}`,lat:ke.latitud,lng:ke.longitud,direccion:ke.direccion}),className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-slate-700 text-white hover:bg-slate-800 text-xs",children:"Ver mapa"}),(()=>{const ee=ke.latitud,be=ke.longitud,ze=ke.direccion,At=ee&&be?`https://www.google.com/maps/dir/?api=1&destination=${ee},${be}`:ze?`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(ze)}`:null;return At?n.jsx("a",{href:At,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-600 text-white hover:bg-blue-700 text-xs",children:"Navegar"}):null})(),ke.direccion&&n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(ke.direccion)}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs",children:"Google Maps (dirección)"})]})]})]})})]}),ie==="notas"&&n.jsxs("div",{id:"section-notas",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4",children:"Notas del Técnico"}),n.jsx("form",{onSubmit:Ct,className:"space-y-3",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Título (ej. Cliente solicita revisión)",value:O.titulo,onChange:ee=>z(be=>({...be,titulo:ee.target.value})),className:"md:col-span-2 px-3 py-2 border rounded-lg text-sm",required:!0}),n.jsxs("select",{value:O.revendedor_id,onChange:ee=>z(be=>({...be,revendedor_id:ee.target.value})),className:"md:col-span-1 px-3 py-2 border rounded-lg text-sm bg-white",children:[n.jsx("option",{value:"",children:"Sin cliente"}),h.slice().sort((ee,be)=>oc(ee).localeCompare(oc(be))).map(ee=>n.jsx("option",{value:ee.id,children:bl(ee)},ee.id))]}),n.jsx("input",{type:"text",placeholder:"Descripción breve",value:O.contenido,onChange:ee=>z(be=>({...be,contenido:ee.target.value})),className:"md:col-span-2 px-3 py-2 border rounded-lg text-sm",required:!0}),n.jsx("button",{type:"submit",disabled:R||!O.titulo||!O.contenido,className:"md:col-span-1 px-4 py-2 rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-sm",children:"Agregar"})]})}),T&&n.jsx("div",{className:"text-sm text-red-600 mt-2",children:T}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Recientes"}),n.jsx("ul",{className:"divide-y divide-gray-100",children:R?n.jsx("li",{className:"py-3 text-gray-500 text-sm",children:"Cargando..."}):F.length===0?n.jsx("li",{className:"py-3 text-gray-500 text-sm",children:"Sin notas"}):F.map(ee=>n.jsx("li",{className:"py-3 text-sm flex justify-between items-start",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:ee.titulo}),n.jsx("div",{className:"text-gray-600",children:ee.contenido}),n.jsxs("div",{className:"text-xs text-gray-500",children:[new Date(ee.created_at).toLocaleString("es-MX")," ",ee.revendedor_nombre?`• ${ee.revendedor_nombre}`:""]})]})},ee.id))})]})]}),ie==="direcciones"&&n.jsxs("div",{id:"section-direcciones",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4",children:"Direcciones de Clientes"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsx("input",{type:"text",placeholder:"Buscar cliente por nombre, negocio o dirección",onChange:ee=>ne(ee.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm"}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Consejo: guarda lat/lng en el cliente para navegación precisa."})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(()=>{const ee=(X||"").toLowerCase(),be=(h||[]).filter(ze=>ee?`${ze.responsable||""} ${ze.nombre||""} ${ze.nombre_negocio||""} ${ze.direccion||""}`.toLowerCase().includes(ee):!0).slice(0,12);return be.length?be.map(ze=>n.jsxs("div",{className:"p-3 border rounded-xl flex items-start gap-3",children:[n.jsx("div",{className:"w-9 h-9 bg-gray-50 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(fc,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900 truncate",children:bl(ze)}),n.jsx("div",{className:"text-sm text-gray-600 truncate",children:ze.direccion||"Sin dirección registrada"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[n.jsx("button",{type:"button",onClick:()=>he({open:!0,title:`Ubicación de ${bl(ze)}`,lat:ze.latitud,lng:ze.longitud,direccion:ze.direccion}),className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-slate-700 text-white hover:bg-slate-800 text-xs",children:"Ver mapa"}),(()=>{const At=ze.latitud,Je=ze.longitud,gt=ze.direccion,_r=At&&Je?`https://www.google.com/maps/dir/?api=1&destination=${At},${Je}`:gt?`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(gt)}`:null;return _r?n.jsx("a",{href:_r,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-600 text-white hover:bg-blue-700 text-xs",children:"Navegar"}):null})(),ze.direccion&&n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(ze.direccion)}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs",children:"Google Maps (dirección)"})]})]})]},ze.id)):n.jsx("div",{className:"text-sm text-gray-500",children:"Sin resultados."})})()})})]})]}),ie==="resumen"&&n.jsxs("div",{id:"section-resumen",className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Ad,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-500"}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wide truncate",children:"Total"})]}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:o.length})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-slate-50 rounded-xl flex items-center justify-center",children:n.jsx(Ad,{className:"w-5 h-5 sm:w-6 sm:h-6 text-slate-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(ba,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-500"}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wide truncate",children:"Pendientes"})]}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-amber-600",children:_e.length})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-amber-50 rounded-xl flex items-center justify-center",children:n.jsx(ba,{className:"w-5 h-5 sm:w-6 sm:h-6 text-amber-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Ss,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-500"}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wide truncate",children:"Progreso"})]}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:ce.length})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-50 rounded-xl flex items-center justify-center",children:n.jsx(Ss,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(St,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-500"}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wide truncate",children:"Completadas"})]}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-emerald-600",children:te.length})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-emerald-50 rounded-xl flex items-center justify-center",children:n.jsx(St,{className:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-600"})})]})}),n.jsx("div",{className:"hidden lg:block lg:col-span-1 bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Al,{className:"w-5 h-5 text-slate-500"}),n.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Eficiencia"})]}),n.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[ar.toFixed(0),"%"]})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center",children:n.jsx(Al,{className:"w-6 h-6 text-blue-600"})})]})})]}),ie==="tareas"&&n.jsx("div",{id:"section-mis-tareas",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Mis Tareas"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>l("pendientes"),className:`px-3 py-2 rounded-xl font-medium transition-colors text-sm ${a==="pendientes"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx("span",{className:"hidden sm:inline",children:"Pendientes "}),n.jsx("span",{className:"sm:hidden",children:"Pend. "}),"(",_e.length,")"]}),n.jsxs("button",{onClick:()=>l("progreso"),className:`px-3 py-2 rounded-xl font-medium transition-colors text-sm ${a==="progreso"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx("span",{className:"hidden sm:inline",children:"En Progreso "}),n.jsx("span",{className:"sm:hidden",children:"Prog. "}),"(",ce.length,")"]}),n.jsxs("button",{onClick:()=>l("completadas"),className:`px-3 py-2 rounded-xl font-medium transition-colors text-sm ${a==="completadas"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx("span",{className:"hidden sm:inline",children:"Completadas "}),n.jsx("span",{className:"sm:hidden",children:"Comp. "}),"(",te.length,")"]}),n.jsxs("button",{onClick:()=>l("todas"),className:`px-3 py-2 rounded-xl font-medium transition-colors text-sm ${a==="todas"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Todas (",o.length,")"]})]})]})}),ie==="tareas"&&n.jsx("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-1 sm:pr-2",children:Ga.length>0?Ga.sort((ee,be)=>{if(ee.estado==="Pendiente"&&be.estado==="Pendiente"){const Je={Urgente:4,Alta:3,Media:2,Baja:1},gt=(Je[be.prioridad]||0)-(Je[ee.prioridad]||0);if(gt!==0)return gt}const ze=ee.fecha_vencimiento?new Date(ee.fecha_vencimiento):new Date,At=be.fecha_vencimiento?new Date(be.fecha_vencimiento):new Date;return ze-At}).map(ee=>{const be={...ee,revendedorId:ee.revendedor_id,trabajadorId:ee.trabajador_id,fechaAsignacion:ee.fecha_asignacion?new Date(ee.fecha_asignacion).toISOString().split("T")[0]:null,fechaVencimiento:ee.fecha_vencimiento?new Date(ee.fecha_vencimiento).toISOString().split("T")[0]:null,fechaCompletado:ee.fecha_completado?new Date(ee.fecha_completado).toISOString().split("T")[0]:null},ze={id:ee.revendedor_id,nombre:ee.nombre_revendedor,responsable:ee.responsable_revendedor,telefono:ee.telefono_revendedor},At=Ur(be.prioridad);return n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between space-y-4 lg:space-y-0",children:[n.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4 flex-1 min-w-0",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(Tt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 break-words",children:be.titulo}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(sn,{className:"w-4 h-4 mr-1 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:oc(ze)||"Cliente no especificado"})]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(pi,{className:"w-4 h-4 mr-1 flex-shrink-0"}),n.jsxs("span",{className:"truncate",children:[n.jsx("span",{className:"sm:hidden",children:"Asig: "}),n.jsx("span",{className:"hidden sm:inline",children:"Asignada: "}),be.fechaAsignacion?new Date(be.fechaAsignacion).toLocaleDateString("es-MX"):"Sin fecha"]})]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(ba,{className:"w-4 h-4 mr-1 flex-shrink-0"}),n.jsxs("span",{className:"truncate",children:[n.jsx("span",{className:"sm:hidden",children:"Venc: "}),n.jsx("span",{className:"hidden sm:inline",children:"Vencimiento: "}),be.fechaVencimiento?new Date(be.fechaVencimiento).toLocaleDateString("es-MX"):"Sin límite"]})]})]})]})]}),n.jsxs("div",{className:"flex flex-row lg:flex-col items-start lg:items-end space-x-3 lg:space-x-0 lg:space-y-3 flex-shrink-0",children:[n.jsxs("span",{className:`inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium border ${Va(be.prioridad)}`,children:[n.jsx(At,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:be.prioridad}),n.jsx("span",{className:"sm:hidden",children:be.prioridad.charAt(0)})]}),n.jsxs("span",{className:`inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${be.estado==="Completado"?"bg-emerald-100 text-emerald-800":be.estado==="En Progreso"?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800"}`,children:[be.estado==="Completado"&&n.jsx(St,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),be.estado==="En Progreso"&&n.jsx(Ss,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),be.estado==="Pendiente"&&n.jsx(ba,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:be.estado}),n.jsxs("span",{className:"sm:hidden",children:[be.estado==="Completado"&&"Comp",be.estado==="En Progreso"&&"Prog",be.estado==="Pendiente"&&"Pend"]})]})]})]})}),n.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Descripción del Trabajo"}),n.jsx("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base break-words",children:be.descripcion})]}),n.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-gray-50 rounded-xl",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-sm sm:text-base",children:"Información del Cliente"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block",children:"Cliente:"}),n.jsx("p",{className:"font-medium text-gray-900 break-words",children:ze?.responsable||ze?.nombre||"No especificado"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block",children:"Negocio:"}),n.jsx("p",{className:"font-medium text-gray-900 break-words",children:ze?.nombre&&ze?.responsable&&ze?.nombre!==ze?.responsable?ze?.nombre:ze?.nombre_negocio||"No especificado"})]}),n.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[n.jsx("span",{className:"text-gray-500 block",children:"Teléfono:"}),n.jsx("p",{className:"font-medium text-gray-900",children:ze?.telefono||"No especificado"})]})]}),(()=>{const Je=ee.cliente_direccion||ee.revendedor_direccion,gt=ee.cliente_latitud??ee.revendedor_latitud,_r=ee.cliente_longitud??ee.revendedor_longitud,$s=gt&&_r?`https://www.google.com/maps/dir/?api=1&destination=${gt},${_r}`:Je?`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(Je)}`:null;return!Je&&!(gt&&_r)?null:n.jsx("div",{className:"mt-2 text-sm text-gray-700",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[Je&&n.jsxs("div",{className:"truncate",children:[n.jsx("span",{className:"text-gray-500",children:"Dirección:"})," ",Je]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[n.jsx("button",{type:"button",onClick:()=>he({open:!0,title:"Ubicación del cliente",lat:gt,lng:_r,direccion:Je}),className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-slate-700 text-white hover:bg-slate-800 text-xs sm:text-sm",children:"Ver mapa"}),$s&&n.jsx("a",{href:$s,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-600 text-white hover:bg-blue-700 text-xs sm:text-sm",children:"Navegar"}),Je&&n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(Je)}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800",children:"Google Maps (dirección)"})]})]})})})(),(()=>{const Je=ee.cliente_latitud??ee.revendedor_latitud,gt=ee.cliente_longitud??ee.revendedor_longitud;if(!Je||!gt)return null;const _r=`${Number(gt)-.005}%2C${Number(Je)-.005}%2C${Number(gt)+.005}%2C${Number(Je)+.005}`,$s=`${Je}%2C${gt}`;return n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Ubicación aproximada"}),n.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden border",children:n.jsx("iframe",{title:`mapa-${be.id}`,className:"w-full h-full",loading:"lazy",src:`https://www.openstreetmap.org/export/embed.html?bbox=${_r}&layer=mapnik&marker=${$s}`})}),n.jsx("div",{className:"mt-2 text-right",children:n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${Je},${gt}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"Abrir en Google Maps"})})]})})()]}),be.estado==="Pendiente"&&n.jsx("div",{className:"border-t border-gray-100 pt-4 sm:pt-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"¿Listo para comenzar este trabajo?"}),n.jsxs("button",{onClick:()=>Pt(be.id),className:"inline-flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-medium transition-colors text-sm sm:text-base w-full sm:w-auto",children:[n.jsx(ba,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{children:"Iniciar Trabajo"})]})]})}),be.estado==="En Progreso"&&n.jsxs("div",{className:"border-t border-gray-100 pt-4 sm:pt-6",children:[n.jsx("div",{className:"bg-blue-50 rounded-xl p-4 sm:p-6 border border-blue-200 mb-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(ba,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-blue-800 mb-1 text-sm sm:text-base",children:"Trabajo en Progreso"}),n.jsx("div",{className:"text-sm text-blue-600",children:"Este trabajo está actualmente en desarrollo."})]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"¿Has completado este trabajo?"}),n.jsxs("button",{onClick:()=>je(be.id),className:"inline-flex items-center justify-center space-x-2 bg-emerald-600 hover:bg-emerald-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-medium transition-colors text-sm sm:text-base w-full sm:w-auto",children:[n.jsx(St,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Marcar como Completado"}),n.jsx("span",{className:"sm:hidden",children:"Completar"})]})]})]}),be.estado==="Completado"&&n.jsx("div",{className:"border-t border-gray-100 pt-4 sm:pt-6",children:n.jsx("div",{className:"bg-emerald-50 rounded-xl p-4 sm:p-6 border border-emerald-200",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(St,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-emerald-800 mb-1 text-sm sm:text-base",children:"Trabajo Completado"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[be.fechaCompletado&&n.jsxs("p",{children:["Finalizado el ",new Date(be.fechaCompletado).toLocaleDateString("es-MX")]}),be.notas&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700 mt-2",children:"Notas del trabajo:"}),n.jsx("p",{className:"text-gray-700 bg-white p-3 rounded-lg mt-1 border border-emerald-200 break-words",children:be.notas})]})]})]})]})})})]})]},be.id)}):n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 sm:p-12 text-center",children:[n.jsxs("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4 sm:mb-6",children:[a==="pendientes"&&n.jsx(ba,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"}),a==="progreso"&&n.jsx(Ss,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"}),a==="completadas"&&n.jsx(St,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"}),a==="todas"&&n.jsx(Ad,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})]}),n.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:[a==="pendientes"&&"No tienes tareas pendientes",a==="progreso"&&"No tienes tareas en progreso",a==="completadas"&&"No has completado tareas aún",a==="todas"&&"No tienes tareas asignadas"]}),n.jsxs("p",{className:"text-gray-500 text-sm sm:text-base",children:[a==="pendientes"&&"¡Excelente trabajo! Todas tus tareas están al día.",a==="progreso"&&"Las tareas en desarrollo aparecerán aquí.",a==="completadas"&&"Las tareas completadas aparecerán aquí.",a==="todas"&&"El administrador aún no te ha asignado tareas de mantenimiento."]})]})}),ie==="rendimiento"&&te.length>0&&n.jsxs("div",{id:"section-rendimiento",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-50 rounded-xl flex items-center justify-center",children:n.jsx($p,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Mi Rendimiento"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Estadísticas de trabajos completados"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"text-center p-4 sm:p-6 bg-emerald-50 rounded-xl",children:[n.jsx("h4",{className:"font-semibold text-emerald-800 mb-2 text-sm sm:text-base",children:"Eficiencia"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-emerald-600",children:[ar.toFixed(0),"%"]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"de tareas asignadas"})]}),n.jsxs("div",{className:"text-center p-4 sm:p-6 bg-orange-50 rounded-xl",children:[n.jsx("h4",{className:"font-semibold text-orange-800 mb-2 text-sm sm:text-base",children:"Tareas Urgentes"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-orange-600",children:Ta}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"completadas"})]}),n.jsxs("div",{className:"text-center p-4 sm:p-6 bg-blue-50 rounded-xl sm:col-span-3 lg:col-span-1",children:[n.jsx("h4",{className:"font-semibold text-blue-800 mb-2 text-sm sm:text-base",children:"Total Completadas"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:te.length}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"trabajos finalizados"})]})]}),n.jsxs("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-slate-50 rounded-xl",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[n.jsx("span",{children:"Progreso general"}),n.jsxs("span",{children:[ar.toFixed(1),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${ar}%`}})})]})]}),ie==="rendimiento"&&te.length===0&&n.jsxs("div",{id:"section-rendimiento",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 sm:p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4 sm:mb-6",children:n.jsx($p,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Sin datos de rendimiento aún"}),n.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Completa tus primeras tareas para ver tus métricas aquí."})]})]}),n.jsx("div",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40",children:n.jsx("div",{className:"grid grid-cols-5 h-14",children:[{key:"tareas",label:"Tareas",icon:Ag},{key:"entrega",label:"Entregar",icon:ur},{key:"direcciones",label:"Mapas",icon:fc},{key:"notas",label:"Notas",icon:tn},{key:"rendimiento",label:"Rendim.",icon:$p}].map(ee=>{const be=ee.icon;return n.jsxs("button",{onClick:()=>G(ee.key),className:`flex flex-col items-center justify-center space-y-1 ${ie===ee.key?"text-blue-700":"text-gray-700"}`,children:[n.jsx(be,{className:"w-5 h-5"}),n.jsx("span",{className:"text-[11px] font-medium",children:ee.label})]},ee.key)})})}),n.jsx(wX,{isOpen:ge,onClose:jt,onConfirm:Ue,titulo:"Completar Tarea"}),n.jsx(NX,{open:$e.open,onClose:()=>he(ee=>({...ee,open:!1})),title:$e.title,lat:$e.lat,lng:$e.lng,direccion:$e.direccion})]})},EX=()=>{const{user:e,logout:t}=zr(),r=Fn(),a=Hn();console.log("🔧 TrabajadorWrapper - Renderizando para usuario:",e?{id:e.id,username:e.username,tipo_usuario:e.tipo_usuario,nombre_completo:e.nombre_completo}:"null");const l=async()=>{await t(),r("/login",{replace:!0})},o={revendedores:a.revendedores||[],currentUser:e,onLogout:l};return console.log("📦 TrabajadorWrapper - Props para VistaTrabajador:",{revendedoresCount:o.revendedores.length,currentUser:o.currentUser?o.currentUser.username:"null"}),n.jsx(SX,{...o})},_X=({children:e,color:t="gray"})=>n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-${t}-100 text-${t}-800`,children:e}),CX=()=>{const{user:e}=zr(),[t,r]=y.useState(!0),[a,l]=y.useState(""),[o,u]=y.useState([]),[f,m]=y.useState({}),h=y.useMemo(()=>v=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(Number(v||0)),[]),p=v=>{if(!v)return"—";try{const j=typeof v=="string"&&!v.includes("T")?new Date(v+"T00:00:00"):new Date(v);return isNaN(j.getTime())?v:j.toLocaleDateString("es-MX")}catch{return String(v)}};y.useEffect(()=>{(async()=>{r(!0);const j=await Xr.getMisPagos();j.success?(u(j.pagos),m(j.resumen||{}),l("")):l(j.error||"Error al cargar pagos"),r(!1)})()},[]);const x=v=>{switch(v){case"pagado":return"green";case"pendiente":return"yellow";case"vencido":return"red";case"suspendido":return"red";default:return"gray"}};return t?n.jsx("div",{className:"p-4",children:"Cargando..."}):a?n.jsx("div",{className:"p-4 text-red-600",children:a}):n.jsxs("div",{className:"space-y-6",children:[!!(e?.nombre_completo||e?.username)&&n.jsxs("div",{className:"text-sm text-gray-600",children:["Cliente: ",n.jsx("span",{className:"font-medium text-gray-800",children:e?.nombre_completo||e?.username})]}),n.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[n.jsx("div",{className:"text-gray-500 text-sm",children:"Próximo vencimiento"}),n.jsx("div",{className:"text-lg font-semibold",children:f?.proximo?`${f.proximo.periodo_month}/${f.proximo.periodo_year}`:"—"}),n.jsx("div",{className:"text-sm text-gray-600",children:p(f?.proximo?.fecha_vencimiento)})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[n.jsx("div",{className:"text-gray-500 text-sm",children:"Vencidos"}),n.jsx("div",{className:"text-2xl font-bold text-red-600",children:f?.vencidos??0})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[n.jsx("div",{className:"text-gray-500 text-sm",children:"Pagados"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:f?.pagados??0})]})]}),n.jsxs("section",{className:"bg-white border rounded-lg overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b font-medium",children:"Historial de pagos"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gray-50 text-left text-sm text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2",children:"Periodo"}),n.jsx("th",{className:"px-4 py-2",children:"Vencimiento"}),n.jsx("th",{className:"px-4 py-2",children:"Monto"}),n.jsx("th",{className:"px-4 py-2",children:"Estado"}),n.jsx("th",{className:"px-4 py-2",children:"Pagado"})]})}),n.jsx("tbody",{children:o.map(v=>n.jsxs("tr",{className:"border-t text-sm",children:[n.jsxs("td",{className:"px-4 py-2",children:[v.periodo_month,"/",v.periodo_year]}),n.jsx("td",{className:"px-4 py-2",children:p(v.fecha_vencimiento)}),n.jsx("td",{className:"px-4 py-2",children:h(v.monto)}),n.jsx("td",{className:"px-4 py-2",children:n.jsx(_X,{color:x(v.estado),children:v.estado})}),n.jsx("td",{className:"px-4 py-2",children:v.pagado_at?new Date(v.pagado_at).toLocaleString("es-MX"):"—"})]},v.id))})]})})]})]})},AX=()=>{const[e,t]=y.useState(!0),[r,a]=y.useState(""),[l,o]=y.useState([]);return y.useEffect(()=>{(async()=>{t(!0);const f=await or.obtenerMisTareasCliente();f.success?(o(f.tareas||[]),a("")):a(f.error||"Error al cargar tareas"),t(!1)})()},[]),e?n.jsx("div",{className:"p-4",children:"Cargando..."}):r?n.jsx("div",{className:"p-4 text-red-600",children:r}):n.jsxs("div",{className:"bg-white border rounded-lg overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b font-medium",children:"Mis tareas"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gray-50 text-left text-sm text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2",children:"Título"}),n.jsx("th",{className:"px-4 py-2",children:"Descripción"}),n.jsx("th",{className:"px-4 py-2",children:"Prioridad"}),n.jsx("th",{className:"px-4 py-2",children:"Estado"}),n.jsx("th",{className:"px-4 py-2",children:"Vence"})]})}),n.jsx("tbody",{children:l.map(u=>n.jsxs("tr",{className:"border-t text-sm",children:[n.jsx("td",{className:"px-4 py-2",children:u.titulo}),n.jsx("td",{className:"px-4 py-2",children:u.descripcion}),n.jsx("td",{className:"px-4 py-2",children:u.prioridad}),n.jsx("td",{className:"px-4 py-2",children:u.estado}),n.jsx("td",{className:"px-4 py-2",children:u.fecha_vencimiento?new Date(u.fecha_vencimiento).toLocaleDateString():"—"})]},u.id))})]})})]})},t_=({to:e,label:t})=>{const a=In().pathname.startsWith(e);return n.jsx(P0,{to:e,className:`px-4 py-2 rounded-lg font-medium transition-colors ${a?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border"}`,children:t})},OX=()=>{const{user:e,logout:t}=zr(),r=Fn(),a=async()=>{await t(),r("/login",{replace:!0})};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white border-b",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Portal del Cliente"}),n.jsx("div",{className:"text-sm text-gray-600",children:e?.nombre_completo||e?.username||""})]}),n.jsxs("nav",{className:"flex items-center gap-2",children:[n.jsx(t_,{to:"/cliente/servicio",label:"Mi Servicio"}),n.jsx(t_,{to:"/cliente/tareas",label:"Mis Tareas"}),n.jsx("button",{onClick:a,className:"ml-2 px-3 py-2 rounded-lg border text-gray-700 hover:bg-gray-100",children:"Cerrar sesión"})]})]})}),n.jsx("main",{className:"max-w-6xl mx-auto p-4",children:n.jsxs(f_,{children:[n.jsx(Wr,{path:"servicio",element:n.jsx(CX,{})}),n.jsx(Wr,{path:"tareas",element:n.jsx(AX,{})}),n.jsx(Wr,{path:"*",element:n.jsx(Da,{to:"/cliente/servicio",replace:!0})})]})})]})},TX=({currentUser:e})=>{const[t,r]=y.useState(!1),[a,l]=y.useState([]),[o,u]=y.useState(""),[f,m]=y.useState(""),h=j=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(Number(j||0)),p=j=>{if(!j)return"-";try{const N=j.includes("T")?new Date(j):new Date(j+"T00:00:00");return isNaN(N.getTime())?j:N.toLocaleDateString("es-MX")}catch{return j}},x=async()=>{r(!0),m(""),await Xr.ensureNext();const j=await Xr.getResumen();j.success?l(j.resumen):m(j.error),r(!1)};y.useEffect(()=>{x()},[]);const v=y.useMemo(()=>{const j=o.trim().toLowerCase();return j?a.filter(N=>(N.nombre_completo||"").toLowerCase().includes(j)):a},[o,a]);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white border-b",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Clientes de Servicio"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{value:o,onChange:j=>u(j.target.value),placeholder:"Buscar cliente",className:"border px-3 py-2 rounded-lg"}),n.jsx("button",{onClick:x,className:"px-3 py-2 rounded-lg bg-slate-100",children:"Actualizar"})]})]})}),n.jsx("main",{className:"max-w-6xl mx-auto p-4",children:n.jsxs("div",{className:"bg-white border rounded-xl overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b font-medium",children:"Resumen"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 text-left text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2",children:"Cliente"}),n.jsx("th",{className:"px-4 py-2",children:"Próximo mes"}),n.jsx("th",{className:"px-4 py-2",children:"Vence"}),n.jsx("th",{className:"px-4 py-2",children:"Estado"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Monto"})]})}),n.jsx("tbody",{children:v.map(j=>{const N=j.periodo_month?String(j.periodo_month).padStart(2,"0"):null,w=j.periodo_year&&N?`${j.periodo_year}-${N}`:"Al día",S=j.estado_calculado,E=S==="vencido";return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"px-4 py-2",title:j.nombre_completo,children:j.nombre_completo}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:w}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:j.fecha_vencimiento?p(j.fecha_vencimiento):"-"}),n.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[S==="al_dia"&&n.jsx("span",{className:"text-emerald-700",children:"Al día"}),S==="pendiente"&&n.jsx("span",{className:"text-amber-700",children:"Pendiente"}),E&&n.jsx("span",{className:"text-red-600 font-semibold",children:"Vencido"})]}),n.jsx("td",{className:"px-4 py-2 text-right",children:j.cuota_mensual?h(j.cuota_mensual):"-"})]},j.cliente_id)})})]})}),t&&n.jsx("div",{className:"p-3 text-sm text-gray-600",children:"Cargando..."}),f&&n.jsx("div",{className:"p-3 text-sm text-red-600",children:f})]})})]})},MX=()=>{const{user:e,logout:t}=zr(),r=Fn(),a=async()=>{await t(),r("/login",{replace:!0})};return n.jsx(TX,{currentUser:e,onLogout:a})},kX=({children:e})=>{const{sessionChanged:t,sessionExpiring:r,user:a,isAuthenticated:l,dismissSessionChangeNotification:o,renewSession:u,logout:f}=zr(),m=Fn();y.useEffect(()=>{if(t&&l&&a){const N=setTimeout(()=>{let w="/login";switch(a.tipo_usuario){case"admin":w="/admin";break;case"revendedor":w="/revendedor";break;case"trabajador":w="/trabajador";break;case"cliente":w="/cliente";break;case"cliente_servicio":w="/clientes-servicio";break}m(w,{replace:!0}),o()},1500);return()=>clearTimeout(N)}},[t,l,a,m,o]);const h=()=>{window.location.reload()},p=()=>{o()},x=async()=>{try{await u()}catch(N){console.error("Error al renovar sesión:",N),await f(),m("/login",{replace:!0})}},v=async()=>{await f(),m("/login",{replace:!0})},j=()=>{};return n.jsxs("div",{className:"relative",children:[t&&n.jsx(oX,{user:a,onRefresh:h,onDismiss:p}),n.jsx(cX,{isVisible:r,onRenew:x,onDismiss:j,onLogout:v}),e]})},cc=({children:e,allowedRoles:t=[]})=>{const{user:r,isAuthenticated:a,loading:l}=zr();return l?n.jsx(DT,{}):a?t.length>0&&!t.includes(r?.tipo_usuario)?n.jsx(Da,{to:"/unauthorized",replace:!0}):e:n.jsx(Da,{to:"/login",replace:!0})},PX=()=>{const{user:e,loading:t,isAuthenticated:r}=zr();if(t)return n.jsx(DT,{});if(!r||!e)return n.jsx(Da,{to:"/login",replace:!0});switch(e?.tipo_usuario){case"admin":return n.jsx(Da,{to:"/admin",replace:!0});case"revendedor":return n.jsx(Da,{to:"/revendedor",replace:!0});case"trabajador":return n.jsx(Da,{to:"/trabajador",replace:!0});case"cliente":return n.jsx(Da,{to:"/cliente",replace:!0});case"cliente_servicio":return n.jsx(Da,{to:"/clientes-servicio",replace:!0});default:return n.jsx(Da,{to:"/login",replace:!0})}},DX=()=>n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-xl shadow-sm border border-gray-200 text-center",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso No Autorizado"}),n.jsx("p",{className:"text-gray-600",children:"No tienes permisos para acceder a esta página."})]}),n.jsx("button",{onClick:()=>window.history.back(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Volver"})]})}),RX=({onLogin:e})=>{const{login:t}=zr(),r=async a=>{const l=await t(a);return l.success&&e&&e(l.user),l};return n.jsx(YD,{onLogin:r})},$X=()=>n.jsx(kX,{children:n.jsxs(f_,{children:[n.jsx(Wr,{path:"/login",element:n.jsx(RX,{})}),n.jsx(Wr,{path:"/",element:n.jsx(PX,{})}),n.jsx(Wr,{path:"/admin/*",element:n.jsx(cc,{allowedRoles:["admin"],children:n.jsx(yX,{})})}),n.jsx(Wr,{path:"/revendedor/*",element:n.jsx(cc,{allowedRoles:["admin","revendedor"],children:n.jsx(jX,{})})}),n.jsx(Wr,{path:"/trabajador/*",element:n.jsx(cc,{allowedRoles:["admin","trabajador"],children:n.jsx(EX,{})})}),n.jsx(Wr,{path:"/clientes-servicio",element:n.jsx(cc,{allowedRoles:["admin","trabajador","cliente_servicio"],children:n.jsx(MX,{})})}),n.jsx(Wr,{path:"/cliente/*",element:n.jsx(cc,{allowedRoles:["admin","cliente"],children:n.jsx(OX,{})})}),n.jsx(Wr,{path:"/unauthorized",element:n.jsx(DX,{})}),n.jsx(Wr,{path:"*",element:n.jsx(Da,{to:"/",replace:!0})})]})}),zX=()=>n.jsx(fM,{children:n.jsx(ID,{children:n.jsx(HD,{children:n.jsx(VD,{children:n.jsx($X,{})})})})});function LX(){return n.jsx("div",{className:"App",children:n.jsx(zX,{})})}const UX={};if(import.meta&&UX){const e=()=>{};console.debug=e,console.log=e,console.info=e}function qX(){return n.jsx(y.StrictMode,{children:n.jsx(LX,{})})}e6.createRoot(document.getElementById("root")).render(n.jsx(qX,{}));
